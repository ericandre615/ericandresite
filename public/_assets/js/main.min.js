function Timemap(e){"use strict";function t(e){return e.replace(/Y/,a).replace(/y/,a.toString().substr(2,3)).replace(/mm/,n+1).replace(/MM/,n.toString().length>1?n+1:"0"+(n+1)).replace(/M/,i[n]).replace(/m/,i[n].toString().substr(0,3)).replace(/dd/,r).replace(/DD/,r.toString().length>1?r:"0"+r).replace(/d/,s[o].toString().substr(0,3)).replace(/D/,s[o])}var e=e||new Date,n=e.getMonth(),r=e.getDate(),o=e.getDay(),a=e.getFullYear(),i=(e.getTime(),e.getHours(),e.getMinutes(),e.getSeconds(),["January","February","March","April","May","June","July","August","September","October","November","December"]),s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return{date:e,format:t}}!function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),o=Math.max(0,16-(r-e)),a=window.setTimeout(function(){t(r+o)},o);return e=r+o,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function r(e,t){Q[U]=e,Q[U+1]=t,U+=2,2===U&&(N?N(u):R())}function o(e){N=e}function a(){var e=process.nextTick,t=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=setImmediate),function(){e(u)}}function i(){return function(){H(u)}}function s(){var e=0,t=new W(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=u,function(){e.port2.postMessage(0)}}function l(){return function(){setTimeout(u,1)}}function u(){for(var e=0;U>e;e+=2){var t=Q[e],n=Q[e+1];t(n),Q[e]=void 0,Q[e+1]=void 0}U=0}function d(){try{var e=require,t=e("vertx");return H=t.runOnLoop||t.runOnContext,i()}catch(n){return l()}}function f(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function v(e){try{return e.then}catch(t){return te.error=t,te}}function y(e,t,n,r){try{e.call(t,n,r)}catch(o){return o}}function g(e,t,n){J(function(e){var r=!1,o=y(n,t,function(n){r||(r=!0,t!==n?b(e,n):E(e,n))},function(t){r||(r=!0,A(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,A(e,o))},e)}function h(e,t){t._state===Z?E(e,t._result):t._state===ee?A(e,t._result):T(t,void 0,function(t){b(e,t)},function(t){A(e,t)})}function w(e,n){if(n.constructor===e.constructor)h(e,n);else{var r=v(n);r===te?A(e,te.error):void 0===r?E(e,n):t(r)?g(e,n,r):E(e,n)}}function b(t,n){t===n?A(t,m()):e(n)?w(t,n):E(t,n)}function _(e){e._onerror&&e._onerror(e._result),L(e)}function E(e,t){e._state===V&&(e._result=t,e._state=Z,0!==e._subscribers.length&&J(L,e))}function A(e,t){e._state===V&&(e._state=ee,e._result=t,J(_,e))}function T(e,t,n,r){var o=e._subscribers,a=o.length;e._onerror=null,o[a]=t,o[a+Z]=n,o[a+ee]=r,0===a&&e._state&&J(L,e)}function L(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,o,a=e._result,i=0;i<t.length;i+=3)r=t[i],o=t[i+n],r?C(n,r,o,a):o(a);e._subscribers.length=0}}function k(){this.error=null}function S(e,t){try{return e(t)}catch(n){return ne.error=n,ne}}function C(e,n,r,o){var a,i,s,c,l=t(r);if(l){if(a=S(r,o),a===ne?(c=!0,i=a.error,a=null):s=!0,n===a)return void A(n,p())}else a=o,s=!0;n._state!==V||(l&&s?b(n,a):c?A(n,i):e===Z?E(n,a):e===ee&&A(n,a))}function F(e,t){try{t(function(t){b(e,t)},function(t){A(e,t)})}catch(n){A(e,n)}}function q(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(f),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?E(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&E(n.promise,n._result))):A(n.promise,n._validationError())}function Y(e){return new re(this,e).promise}function D(e){function t(e){b(o,e)}function n(e){A(o,e)}var r=this,o=new r(f);if(!z(e))return A(o,new TypeError("You must pass an array to race.")),o;for(var a=e.length,i=0;o._state===V&&a>i;i++)T(r.resolve(e[i]),void 0,t,n);return o}function M(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return b(n,e),n}function O(e){var t=this,n=new t(f);return A(n,e),n}function x(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function j(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(e){this._id=ce++,this._state=void 0,this._result=void 0,this._subscribers=[],f!==e&&(t(e)||x(),this instanceof B||j(),F(this,e))}function I(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=le)}var P;P=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H,N,R,z=P,U=0,J=({}.toString,r),K="undefined"!=typeof window?window:void 0,G=K||{},W=G.MutationObserver||G.WebKitMutationObserver,X="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),$="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3);R=X?a():W?s():$?c():void 0===K&&"function"==typeof require?d():l();var V=void 0,Z=1,ee=2,te=new k,ne=new k;q.prototype._validateInput=function(e){return z(e)},q.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},q.prototype._init=function(){this._result=new Array(this.length)};var re=q;q.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,o=0;n._state===V&&t>o;o++)e._eachEntry(r[o],o)},q.prototype._eachEntry=function(e,t){var r=this,o=r._instanceConstructor;n(e)?e.constructor===o&&e._state!==V?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(o.resolve(e),t):(r._remaining--,r._result[t]=e)},q.prototype._settledAt=function(e,t,n){var r=this,o=r.promise;o._state===V&&(r._remaining--,e===ee?A(o,n):r._result[t]=n),0===r._remaining&&E(o,r._result)},q.prototype._willSettleAt=function(e,t){var n=this;T(e,void 0,function(e){n._settledAt(Z,t,e)},function(e){n._settledAt(ee,t,e)})};var oe=Y,ae=D,ie=M,se=O,ce=0,le=B;B.all=oe,B.race=ae,B.resolve=ie,B.reject=se,B._setScheduler=o,B._asap=J,B.prototype={constructor:B,then:function(e,t){var n=this,r=n._state;if(r===Z&&!e||r===ee&&!t)return this;var o=new this.constructor(f),a=n._result;if(r){var i=arguments[r-1];J(function(){C(r,o,i,a)})}else T(n,o,e,t);return o},"catch":function(e){return this.then(null,e)}};var ue=I,de={Promise:le,polyfill:ue};"function"==typeof define&&define.amd?define(function(){return de}):"undefined"!=typeof module&&module.exports?module.exports=de:"undefined"!=typeof this&&(this.ES6Promise=de),ue()}.call(this),function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],r=n.length,o=window.console=window.console||{};r--;)e=n[r],o[e]||(o[e]=t)}(),"undefined"!=typeof module&&module.exports&&(module.exports=Timemap);var kickback=function(e){"use strict";function t(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}return e={},e.request=function(e){if("string"==typeof e){var n=e;e={},e.url=n,n=null}if(e.url=e.url?e.url:"/",e.data=e.data?e.data:null,e.method=e.method?e.method:"GET",e.headers=e.headers?e.headers:!1,e.cors=e.cors?e.cors:!1,e.async=e.async?e.async:!0,e.serialize=e.serialize?e.serialize:!1,e.auto=e.auto?e.auto:!1,Object.defineProperty(e,"tmp",{configurable:!0,writable:!0}),e.auto===!0)if("undefined"!=typeof window.FormData)if(e.data instanceof HTMLElement)e.data=new FormData(e.data);else{if("object"!=typeof e.data||e.data instanceof Array!=!1)throw new Error("Submit data as object or HTMLElement");e.tmp=e.data,e.data=new FormData,Object.keys(e.tmp).forEach(function(t){e.data.append(t,e.tmp[t])}),delete e.tmp}else e.data instanceof HTMLElement&&(e.tmp={},[].forEach.call(e.data,function(t){e.tmp[t.name]=t.value}),e.data=e.tmp,delete e.tmp),e.serialize=!0;return e.serialize===!0&&(e.data=t(e.data)),console.log(e.data instanceof FormData?"formDATA":"notFormData"),new Promise(function(t,n){var r=new XMLHttpRequest;r.open(e.method,e.url,e.async),r.onload=function(){200==r.status?t(r.response):n(Error("Error: ",r.statusTxt))},r.onerror=function(){n(Error("Network Error"))},e.headers!==!1&&(e.headers.type=e.headers.type||"Content-Type",e.headers.value=e.headers.value||"text/plain;charset=UTF-8",r.setRequestHeader(e.headers.type,e.headers.value)),e.headers===!1&&"post"===e.method.toLowerCase()&&e.serialize===!0&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send("get"===e.method.toLowerCase()?null:e.data)})},e}(kickback);"undefined"!=typeof module&&module.exports&&(module.exports=kickback),function(){"use strict";var e=document.getElementById("contact");[].forEach.call(e,function(e){"BUTTON"!==e.nodeName&&(e.addEventListener("focus",function(e){var t=e.target.name,n=document.querySelector('label[for="'+t+'"]');n.classList.add("active")},!1),e.addEventListener("blur",function(e){var t=e.target.name,n=document.querySelector('label[for="'+t+'"]');e.target.value.length&&n.classList.add("valid"),e.target.value.length||(n.classList.remove("valid"),n.classList.add("error")),n.classList.remove("active")},!1))}),document.addEventListener("submit",function(t){t.preventDefault();var n={};if([].forEach.call(e,function(e){if("BUTTON"!==e.nodeName)if(""==e.value)n[e.name]="required";else{var t=document.querySelector('label[for="'+e.name+'"]');t.classList.remove("error"),t.classList.add("valid")}}),Object.keys(n).length){for(var r in n)if(n.hasOwnProperty(r)){var o=document.querySelector('label[for="'+r+'"]');o.classList.add("error"),console.log("Error "+r+" "+n[r])}}else kickback.request({url:"/contact",data:{name_full:e.name_full.value,email:e.email.value,msg:e.msg.value},method:"POST",serialize:!0}).then(function(e){return e.success===!0?console.log("SUCCESS",e):e.code?console.log("hmmm",e):console.log("dang",e),e})["catch"](function(e){return new Error("Prom fail: ",e)})},!1)}(),function(e){"use strict";function t(){c=e.scrollY,console.log("set cache Y",c)}function n(){console.log("scrolling stopped"),console.log("dir",a),"down"==a&&u.classList.add("hide-nav")}function r(e){e?(console.log("SKILLS in view add list"),Array.prototype.forEach.call(l,function(e){e.classList.add("active")})):(console.log("SKILLS NOT view remove list"),Array.prototype.forEach.call(l,function(e){e.classList.remove("active")}))}function o(t){if("string"==typeof t){var n=document.querySelector('a[href="'+t+'"]');t=document.querySelector(t)}if(!t)return!1;var r=t.getBoundingClientRect();return r.top>e.innerHeight-150||r.bottom<150?(console.log(t,"is NOT in view"),t.classList.contains("in-view")&&t.classList.remove("in-view"),n.classList.contains("active-nav")&&n.classList.remove("active-nav"),!1):(console.log(t,"is in view"),console.log(n,"is active"),t.classList.add("in-view"),n.classList.add("active-nav"),!0)}var a,i=null,s=null,c=0,l=document.querySelectorAll(".skill-bar"),u=(document.querySelector('ul[role="menubar"]'),document.getElementById("main-nav")),d=document.getElementById("masthead"),f=["#about","#work","#skills","#projects","#education"],m="#eaeaea",p="#AFB4D8",v="#6F94BE",y="#6EAEB3",g="#66CF97",h="#49DB45",w="#1DE410";e.onscroll=function(l){null!=i&&clearTimeout(i),null!=s&&clearTimeout(s),c<e.scrollY&&(a="down"),c>e.scrollY&&(a="up",u.classList.remove("hide-nav")),i=setTimeout(n,500),s=setTimeout(t,100),0==e.scrollY&&(d.style.backgroundColor=m),e.scrollY>0&&e.scrollY<=20&&(d.style.backgroundColor=p),e.scrollY>=21&&e.scrollY<=40&&(d.style.backgroundColor=v),e.scrollY>=41&&e.scrollY<=60&&(d.style.backgroundColor=y),e.scrollY>=61&&e.scrollY<=80&&(d.style.backgroundColor=g),e.scrollY>=81&&e.scrollY<=100&&(d.style.backgroundColor=h),e.scrollY>=101&&e.scrollY<=120&&(d.style.backgroundColor=w),e.scrollY>=121&&(d.style.backgroundColor=m),f.forEach(function(e){o(e),"#skills"==e&&r(o(e)?!0:!1)})}}(window),function(){"use strict";var e=function(e,t,n){var r,o,a=window.pageYOffset,i=e.offsetTop,s=i-a,c=s/(t/16);n>0&&(i-=n);var l=function(){window.scrollBy(0,c),o=window.pageYOffset,r=requestAnimationFrame(l),c>=0?(o>=i-c||window.innerHeight+o>=document.body.offsetHeight)&&cancelAnimationFrame(r):(i||0)>=o&&cancelAnimationFrame(r)};r=requestAnimationFrame(l)};document.addEventListener("click",function(t){if(t.target&&"A"==t.target.nodeName&&t.target.classList.contains("scroll")){t.preventDefault();var n=t.target.getAttribute("href"),r=document.querySelector(n),o=t.target.getAttribute("data-scroll-speed")?t.target.getAttribute("data-scroll-speed"):500,a=t.target.getAttribute("data-scroll-offset")?t.target.getAttribute("data-scroll-offset"):0;r&&e(r,o,a)}},!1)}(),window.onload=function(){function e(e,t){for(var t=t||3,r=0;t>r;r++){var o=document.createElement("div");o.classList.add("alert"),o.innerHTML=e[r].content[0]._,n.appendChild(o)}}var t,n=document.getElementById("feed");kickback.request({url:"/feed",method:"GET"}).then(function(n){t=JSON.parse(n);var r=t.feed.entry;e(r,6)})["catch"](function(e){return e})},function(e){var t=document.getElementById("toggle-code"),n=document.getElementById("code-about"),r=document.getElementById("bare-about"),o=document.getElementById("about");t.addEventListener("click",function(t){{var a=o.getBoundingClientRect();r.getBoundingClientRect()}if(t.target.classList.contains("active")){t.target.classList.remove("active"),n.classList.remove("active");var i=e.setTimeout(function(){n.style.display="none",r.style.display="inline-block",e.clearTimeout(i)},1100)}else{n.style.top="0px",n.style.right="-"+a.width+"px",n.style.display="inline-block",r.style.left="-"+a.width+"px";var i=e.setTimeout(function(){r.style.display="none",n.classList.add("active"),e.clearTimeout(i)},500);t.target.classList.add("active")}},!1)}(window);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRpbWVtYXAuanMiLCJwb2x5ZmlsbHMuanMiLCJwbHVnaW5zLmpzIiwia2lja2JhY2suanMiLCJmb3JtLWFjdGlvbi5qcyIsInNjcm9sbGFibGVzLmpzIiwic21vb3RoLXNjcm9sbC5qcyIsImZlZWQuanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbIlRpbWVtYXAiLCJkYXRlT2JqIiwiZm9ybWF0Iiwic3RyIiwicmVwbGFjZSIsInllYXIiLCJ0b1N0cmluZyIsInN1YnN0ciIsIm1vbnRoIiwibGVuZ3RoIiwibW9udGhzIiwiZGF5IiwiZGF5cyIsImRheU9mV2VlayIsIkRhdGUiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXREYXkiLCJnZXRGdWxsWWVhciIsImdldFRpbWUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZGF0ZSIsImxhc3RUaW1lIiwidmVuZG9ycyIsIngiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNhbGxiYWNrIiwiZWxlbWVudCIsImN1cnJUaW1lIiwidGltZVRvQ2FsbCIsIk1hdGgiLCJtYXgiLCJpZCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJsaWIkZXM2JHByb21pc2UkdXRpbHMkJG9iamVjdE9yRnVuY3Rpb24iLCJsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24iLCJsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzTWF5YmVUaGVuYWJsZSIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwIiwiYXJnIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbiIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJHNldFNjaGVkdWxlciIsInNjaGVkdWxlRm4iLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTmV4dFRpY2siLCJuZXh0VGljayIsInByb2Nlc3MiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJub2RlIiwibWF0Y2giLCJBcnJheSIsImlzQXJyYXkiLCJzZXRJbW1lZGlhdGUiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlVmVydHhUaW1lciIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCR2ZXJ0eE5leHQiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTXV0YXRpb25PYnNlcnZlciIsIml0ZXJhdGlvbnMiLCJvYnNlcnZlciIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlciIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsImRhdGEiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTWVzc2FnZUNoYW5uZWwiLCJjaGFubmVsIiwiTWVzc2FnZUNoYW5uZWwiLCJwb3J0MSIsIm9ubWVzc2FnZSIsInBvcnQyIiwicG9zdE1lc3NhZ2UiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCIsImkiLCJ1bmRlZmluZWQiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkYXR0ZW1wdFZlcnRleCIsInIiLCJyZXF1aXJlIiwidmVydHgiLCJydW5Pbkxvb3AiLCJydW5PbkNvbnRleHQiLCJlIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHNlbGZGdWxsZmlsbG1lbnQiLCJUeXBlRXJyb3IiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRjYW5ub3RSZXR1cm5Pd24iLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRnZXRUaGVuIiwicHJvbWlzZSIsInRoZW4iLCJlcnJvciIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5VGhlbiIsInZhbHVlIiwiZnVsZmlsbG1lbnRIYW5kbGVyIiwicmVqZWN0aW9uSGFuZGxlciIsImNhbGwiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVGb3JlaWduVGhlbmFibGUiLCJ0aGVuYWJsZSIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRkZWZhdWx0Iiwic2VhbGVkIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZSIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwiLCJyZWFzb24iLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QiLCJfbGFiZWwiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVPd25UaGVuYWJsZSIsIl9zdGF0ZSIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCIsIl9yZXN1bHQiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZSIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU1heWJlVGhlbmFibGUiLCJtYXliZVRoZW5hYmxlIiwiY29uc3RydWN0b3IiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoUmVqZWN0aW9uIiwiX29uZXJyb3IiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyIsIl9zdWJzY3JpYmVycyIsInBhcmVudCIsImNoaWxkIiwib25GdWxmaWxsbWVudCIsIm9uUmVqZWN0aW9uIiwic3Vic2NyaWJlcnMiLCJzZXR0bGVkIiwiZGV0YWlsIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2siLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCIsInRoaXMiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlDYXRjaCIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUiIsInN1Y2NlZWRlZCIsImZhaWxlZCIsImhhc0NhbGxiYWNrIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW5pdGlhbGl6ZVByb21pc2UiLCJyZXNvbHZlciIsImxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yIiwiQ29uc3RydWN0b3IiLCJpbnB1dCIsImVudW1lcmF0b3IiLCJfaW5zdGFuY2VDb25zdHJ1Y3RvciIsIl92YWxpZGF0ZUlucHV0IiwiX2lucHV0IiwiX3JlbWFpbmluZyIsIl9pbml0IiwiX2VudW1lcmF0ZSIsIl92YWxpZGF0aW9uRXJyb3IiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGFsbCIsImVudHJpZXMiLCJsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkZGVmYXVsdCIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJHJhY2UiLCJsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzQXJyYXkiLCJyZXNvbHZlIiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkcmVzb2x2ZSIsIm9iamVjdCIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkcmVqZWN0IiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzUmVzb2x2ZXIiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNOZXciLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZSIsIl9pZCIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRjb3VudGVyIiwibGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRwb2x5ZmlsbCIsImxvY2FsIiwiZ2xvYmFsIiwic2VsZiIsIkZ1bmN0aW9uIiwiRXJyb3IiLCJQIiwiUHJvbWlzZSIsIk9iamVjdCIsInByb3RvdHlwZSIsImNhc3QiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdCIsImxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXkiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsIiwiTXV0YXRpb25PYnNlcnZlciIsIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNOb2RlIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGlzV29ya2VyIiwiVWludDhDbGFtcGVkQXJyYXkiLCJpbXBvcnRTY3JpcHRzIiwiX2VhY2hFbnRyeSIsImVudHJ5IiwiYyIsIl9zZXR0bGVkQXQiLCJfd2lsbFNldHRsZUF0Iiwic3RhdGUiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGRlZmF1bHQiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRkZWZhdWx0IiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdCIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkZGVmYXVsdCIsImFsbCIsInJhY2UiLCJyZWplY3QiLCJfc2V0U2NoZWR1bGVyIiwiX2FzYXAiLCJyZXN1bHQiLCJhcmd1bWVudHMiLCJjYXRjaCIsImxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdCIsImxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2UiLCJwb2x5ZmlsbCIsImRlZmluZSIsIm1vZHVsZSIsIm1ldGhvZCIsIm5vb3AiLCJtZXRob2RzIiwiY29uc29sZSIsImV4cG9ydHMiLCJraWNrYmFjayIsIl9zZXJpYWxpemUiLCJvYmoiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJwdXNoIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsInJlcXVlc3QiLCJrYk9wdGlvbnMiLCJ0bXAiLCJ1cmwiLCJoZWFkZXJzIiwiY29ycyIsImFzeW5jIiwic2VyaWFsaXplIiwiYXV0byIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJGb3JtRGF0YSIsIkhUTUxFbGVtZW50Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJhcHBlbmQiLCJlbGVtIiwibmFtZSIsImxvZyIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsIm9ubG9hZCIsInN0YXR1cyIsInJlc3BvbnNlIiwic3RhdHVzVHh0Iiwib25lcnJvciIsInR5cGUiLCJzZXRSZXF1ZXN0SGVhZGVyIiwidG9Mb3dlckNhc2UiLCJzZW5kIiwiY29udGFjdEZvcm0iLCJnZXRFbGVtZW50QnlJZCIsIm5vZGVOYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImlucHV0TmFtZSIsInRhcmdldCIsImlucHV0TGFiZWwiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwicHJldmVudERlZmF1bHQiLCJmb3JtRXJyb3IiLCJmb3JtSW5wdXQiLCJlcnJvckxhYmVsIiwibmFtZV9mdWxsIiwiZW1haWwiLCJtc2ciLCJzdWNjZXNzIiwiY29kZSIsImVyciIsInNjcm9sbFNldENhY2hlZCIsImNhY2hlU2Nyb2xsUG9zIiwic2Nyb2xsWSIsImhhbmRsZVNjcm9sbCIsInNjcm9sbERpcmVjdGlvbiIsIm1lbnViYXIiLCJsaXN0U2tpbGxzIiwic2tpbGxzTGlzdCIsIml0ZW0iLCJpc0VsZW1lbnRWaXNpYmxlIiwiZWxlbUFuY2hvciIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJpbm5lckhlaWdodCIsImJvdHRvbSIsImNvbnRhaW5zIiwic2Nyb2xsVGltZXIiLCJzY3JvbGxDYWNoZVRpbWVyIiwicXVlcnlTZWxlY3RvckFsbCIsIm1hc3RoZWFkIiwic2VjdGlvbnMiLCJpbml0aWFsQkdDb2xvciIsImJHQ29sb3JfMSIsImJHQ29sb3JfMiIsImJHQ29sb3JfMyIsImJHQ29sb3JfNCIsImJHQ29sb3JfNSIsImJHQ29sb3JfNiIsIm9uc2Nyb2xsIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzbW9vdGhTY3JvbGwiLCJhbmNob3IiLCJkdXJhdGlvbiIsIm9mZnNldCIsInJ1bkFuaW1hdGlvbiIsInRyYXZlbGxlZCIsInN0YXJ0TG9jYXRpb24iLCJwYWdlWU9mZnNldCIsImVuZExvY2F0aW9uIiwib2Zmc2V0VG9wIiwiZGlzdGFuY2UiLCJpbmNyZW1lbnRzIiwiYW5pbWF0ZVNjcm9sbCIsInNjcm9sbEJ5IiwiYm9keSIsIm9mZnNldEhlaWdodCIsImRhdGFJRCIsImdldEF0dHJpYnV0ZSIsImRhdGFUYXJnZXQiLCJkYXRhU3BlZWQiLCJkYXRhT2Zmc2V0IiwiZmVlZEJ1aWxkZXIiLCJmZWVkIiwibGltaXQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiY29udGVudCIsIl8iLCJmZWVkQ29udGFpbmVyIiwiYXBwZW5kQ2hpbGQiLCJnaXRmZWVkIiwiSlNPTiIsInBhcnNlIiwidG9nZ2xlQ29kZUJ0biIsImFib3V0Q29kZSIsImFib3V0QmFyZSIsImFib3V0U2VjdGlvbiIsImFib3V0UmVjdCIsImRlbGF5RGlzcGxheSIsImRpc3BsYXkiLCJyaWdodCIsIndpZHRoIiwibGVmdCJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBQUEsU0FBQUMsR0FDQSxZQXFDQSxTQUFBQyxHQUFBQyxHQUNBLE1BQUFBLEdBQUFDLFFBQUEsSUFBQUMsR0FDQUQsUUFBQSxJQUFBQyxFQUFBQyxXQUFBQyxPQUFBLEVBQUEsSUFDQUgsUUFBQSxLQUFBSSxFQUFBLEdBQ0FKLFFBQUEsS0FBQUksRUFBQUYsV0FBQUcsT0FBQSxFQUFBRCxFQUFBLEVBQUEsS0FBQUEsRUFBQSxJQUNBSixRQUFBLElBQUFNLEVBQUFGLElBQ0FKLFFBQUEsSUFBQU0sRUFBQUYsR0FBQUYsV0FBQUMsT0FBQSxFQUFBLElBQ0FILFFBQUEsS0FBQU8sR0FDQVAsUUFBQSxLQUFBTyxFQUFBTCxXQUFBRyxPQUFBLEVBQUFFLEVBQUEsSUFBQUEsR0FDQVAsUUFBQSxJQUFBUSxFQUFBQyxHQUFBUCxXQUFBQyxPQUFBLEVBQUEsSUFDQUgs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QSxJQUNBclEsR0FBQStLLE9BQUFHLFVBQUFDLElBQUEsYUFFQSxJQUNBaFAiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBUaW1lbWFwKGRhdGVPYmopIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZGF0ZU9iaiA9IGRhdGVPYmogfHwgbmV3IERhdGUoKSxcbiAgICBtb250aCA9IGRhdGVPYmouZ2V0TW9udGgoKSwgLy8gY3VzIGphdmFzY3JpcHQgc3RhcnRzIG1vbnRoIGF0IDBcbiAgICBkYXkgPSBkYXRlT2JqLmdldERhdGUoKSxcbiAgICBkYXlPZldlZWsgPSBkYXRlT2JqLmdldERheSgpLFxuICAgIHllYXIgPSBkYXRlT2JqLmdldEZ1bGxZZWFyKCksXG4gICAgdGltZSA9IGRhdGVPYmouZ2V0VGltZSgpLFxuICAgIGhvdXIgPSBkYXRlT2JqLmdldEhvdXJzKCksXG4gICAgbWludXRlcyA9IGRhdGVPYmouZ2V0TWludXRlcygpLFxuICAgIHNlY29uZHMgPSBkYXRlT2JqLmdldFNlY29uZHMoKTtcblxuICAgIHZhciBtb250aHMgPSBbXG4gICAgICAgICdKYW51YXJ5JyxcbiAgICAgICAgJ0ZlYnJ1YXJ5JyxcbiAgICAgICAgJ01hcmNoJyxcbiAgICAgICAgJ0FwcmlsJyxcbiAgICAgICAgJ01heScsXG4gICAgICAgICdKdW5lJyxcbiAgICAgICAgJ0p1bHknLFxuICAgICAgICAnQXVndXN0JyxcbiAgICAgICAgJ1NlcHRlbWJlcicsXG4gICAgICAgICdPY3RvYmVyJyxcbiAgICAgICAgJ05vdmVtYmVyJyxcbiAgICAgICAgJ0RlY2VtYmVyJ1xuICAgIF07XG5cbiAgICB2YXIgZGF5cyA9IFtcbiAgICAgICAgJ1N1bmRheScsXG4gICAgICAgICdNb25kYXknLFxuICAgICAgICAnVHVlc2RheScsXG4gICAgICAgICdXZWRuZXNkYXknLFxuICAgICAgICAnVGh1cnNkYXknLFxuICAgICAgICAnRnJpZGF5JyxcbiAgICAgICAgJ1NhdHVyZGF5J1xuICAgIF07XG5cbiAgICBmdW5jdGlvbiBmb3JtYXQoc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvWS8sIHllYXIpIC8vIDIwMTVcbiAgICAgICAgLnJlcGxhY2UoL3kvLCB5ZWFyLnRvU3RyaW5nKCkuc3Vic3RyKDIsMykpIC8vMTVcbiAgICAgICAgLnJlcGxhY2UoL21tLywgbW9udGgrMSkgLy81LCA5LCAxMVxuICAgICAgICAucmVwbGFjZSgvTU0vLCAobW9udGgudG9TdHJpbmcoKS5sZW5ndGggPiAxKSA/IG1vbnRoICsgMSA6ICcwJysobW9udGgrMSkpIC8vIDA1LCAwOSwgMTFcbiAgICAgICAgLnJlcGxhY2UoL00vLCBtb250aHNbbW9udGhdKSAvLyBKYW51YXJ5LCBNYXJjaCwgSnVuZVxuICAgICAgICAucmVwbGFjZSgvbS8sIG1vbnRoc1ttb250aF0udG9TdHJpbmcoKS5zdWJzdHIoMCwzKSkgLy8gSmFuLCBNYXIsIEp1blxuICAgICAgICAucmVwbGFjZSgvZGQvLCBkYXkpIC8vIDEsIDUsIDIwLCAyNlxuICAgICAgICAucmVwbGFjZSgvREQvLCAoZGF5LnRvU3RyaW5nKCkubGVuZ3RoID4gMSkgPyBkYXkgOiAnMCcrZGF5KSAvLyAwMSwgMDQsIDE1LCAyMlxuICAgICAgICAucmVwbGFjZSgvZC8sIGRheXNbZGF5T2ZXZWVrXS50b1N0cmluZygpLnN1YnN0cigwLDMpKSAvLyBNb24sIFR1ZVxuICAgICAgICAucmVwbGFjZSgvRC8sIGRheXNbZGF5T2ZXZWVrXSk7IC8vIE1vbmRheSwgVHVlc2RheVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgICBkYXRlOiBkYXRlT2JqLFxuICAgICAgICBmb3JtYXQ6IGZvcm1hdFxuICAgIH07XG59O1xuXG5pZih0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gVGltZW1hcDtcbn1cbiIsIi8vIFJlcXVlc3RBbmltYXRpb25GcmFtZSBQb2x5ZmlsbFxuKGZ1bmN0aW9uKCkge1xuICAgIHZhciBsYXN0VGltZSA9IDA7XG4gICAgdmFyIHZlbmRvcnMgPSBbJ3dlYmtpdCcsICdtb3onXTtcbiAgICBmb3IodmFyIHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsreCkge1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3ZlbmRvcnNbeF0rJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPVxuICAgICAgICAgIHdpbmRvd1t2ZW5kb3JzW3hdKydDYW5jZWxBbmltYXRpb25GcmFtZSddIHx8IHdpbmRvd1t2ZW5kb3JzW3hdKydDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgICB9XG5cbiAgICBpZiAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihjYWxsYmFjaywgZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGN1cnJUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICB2YXIgdGltZVRvQ2FsbCA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnJUaW1lIC0gbGFzdFRpbWUpKTtcbiAgICAgICAgICAgIHZhciBpZCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjYWxsYmFjayhjdXJyVGltZSArIHRpbWVUb0NhbGwpOyB9LFxuICAgICAgICAgICAgICB0aW1lVG9DYWxsKTtcbiAgICAgICAgICAgIGxhc3RUaW1lID0gY3VyclRpbWUgKyB0aW1lVG9DYWxsO1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9O1xuXG4gICAgaWYgKCF3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUpXG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgICB9O1xufSgpKTtcblxuLyohXG4gKiBAb3ZlcnZpZXcgZXM2LXByb21pc2UgLSBhIHRpbnkgaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZXMvQSsuXG4gKiBAY29weXJpZ2h0IENvcHlyaWdodCAoYykgMjAxNCBZZWh1ZGEgS2F0eiwgVG9tIERhbGUsIFN0ZWZhbiBQZW5uZXIgYW5kIGNvbnRyaWJ1dG9ycyAoQ29udmVyc2lvbiB0byBFUzYgQVBJIGJ5IEpha2UgQXJjaGliYWxkKVxuICogQGxpY2Vuc2UgICBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZVxuICogICAgICAgICAgICBTZWUgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2pha2VhcmNoaWJhbGQvZXM2LXByb21pc2UvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgMi4yLjBcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJyB8fCAodHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc01heWJlVGhlbmFibGUoeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5O1xuICAgIGlmICghQXJyYXkuaXNBcnJheSkge1xuICAgICAgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0FycmF5ID0gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9IDA7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkdmVydHhOZXh0O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkY3VzdG9tU2NoZWR1bGVyRm47XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbl0gPSBjYWxsYmFjaztcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuICsgMV0gPSBhcmc7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuICs9IDI7XG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9PT0gMikge1xuICAgICAgICAvLyBJZiBsZW4gaXMgMiwgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gc2NoZWR1bGUgYW4gYXN5bmMgZmx1c2guXG4gICAgICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbihsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcDtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbiA9IHNjaGVkdWxlRm47XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyV2luZG93ID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSA/IHdpbmRvdyA6IHVuZGVmaW5lZDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJHbG9iYWwgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyB8fCB7fTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3Nlckdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNOb2RlID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHt9LnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJztcblxuICAgIC8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc1dvcmtlciA9IHR5cGVvZiBVaW50OENsYW1wZWRBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuICAgIC8vIG5vZGVcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTmV4dFRpY2soKSB7XG4gICAgICB2YXIgbmV4dFRpY2sgPSBwcm9jZXNzLm5leHRUaWNrO1xuICAgICAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gICAgICAvLyBzZXRJbW1lZGlhdGUgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBpbnN0ZWFkXG4gICAgICB2YXIgdmVyc2lvbiA9IHByb2Nlc3MudmVyc2lvbnMubm9kZS5tYXRjaCgvXig/OihcXGQrKVxcLik/KD86KFxcZCspXFwuKT8oXFwqfFxcZCspJC8pO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmVyc2lvbikgJiYgdmVyc2lvblsxXSA9PT0gJzAnICYmIHZlcnNpb25bMl0gPT09ICcxMCcpIHtcbiAgICAgICAgbmV4dFRpY2sgPSBzZXRJbW1lZGlhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIG5leHRUaWNrKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHZlcnR4XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVZlcnR4VGltZXIoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR2ZXJ0eE5leHQobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU11dGF0aW9uT2JzZXJ2ZXIoKSB7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgbGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIG5vZGUuZGF0YSA9IChpdGVyYXRpb25zID0gKytpdGVyYXRpb25zICUgMik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHdlYiB3b3JrZXJcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTWVzc2FnZUNoYW5uZWwoKSB7XG4gICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2g7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0VGltZW91dChsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gsIDEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlID0gbmV3IEFycmF5KDEwMDApO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCgpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbjsgaSs9Mikge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaV07XG4gICAgICAgIHZhciBhcmcgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaSsxXTtcblxuICAgICAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2krMV0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gPSAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhdHRlbXB0VmVydGV4KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHIgPSByZXF1aXJlO1xuICAgICAgICB2YXIgdmVydHggPSByKCd2ZXJ0eCcpO1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkdmVydHhOZXh0ID0gdmVydHgucnVuT25Mb29wIHx8IHZlcnR4LnJ1bk9uQ29udGV4dDtcbiAgICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VWZXJ0eFRpbWVyKCk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VTZXRUaW1lb3V0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoO1xuICAgIC8vIERlY2lkZSB3aGF0IGFzeW5jIG1ldGhvZCB0byB1c2UgdG8gdHJpZ2dlcmluZyBwcm9jZXNzaW5nIG9mIHF1ZXVlZCBjYWxsYmFja3M6XG4gICAgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc05vZGUpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU5leHRUaWNrKCk7XG4gICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU11dGF0aW9uT2JzZXJ2ZXIoKTtcbiAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc1dvcmtlcikge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTWVzc2FnZUNoYW5uZWwoKTtcbiAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGF0dGVtcHRWZXJ0ZXgoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3AoKSB7fVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcgICA9IHZvaWQgMDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEID0gMTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQgID0gMjtcblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUiA9IG5ldyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCgpO1xuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc2VsZkZ1bGxmaWxsbWVudCgpIHtcbiAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IGNhbm5vdCByZXNvbHZlIGEgcHJvbWlzZSB3aXRoIGl0c2VsZlwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRjYW5ub3RSZXR1cm5Pd24oKSB7XG4gICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGdldFRoZW4ocHJvbWlzZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbjtcbiAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeVRoZW4odGhlbiwgdmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSwgdGhlbikge1xuICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRkZWZhdWx0KGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICAgICAgdmFyIHNlYWxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3IgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlUaGVuKHRoZW4sIHRoZW5hYmxlLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmIChzZWFsZWQpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgICBpZiAoc2VhbGVkKSB7IHJldHVybjsgfVxuICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG5cbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgfSwgJ1NldHRsZTogJyArIChwcm9taXNlLl9sYWJlbCB8fCAnIHVua25vd24gcHJvbWlzZScpKTtcblxuICAgICAgICBpZiAoIXNlYWxlZCAmJiBlcnJvcikge1xuICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSwgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHtcbiAgICAgIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICAgICAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZSh0aGVuYWJsZSwgdW5kZWZpbmVkLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKSB7XG4gICAgICBpZiAobWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3RvciA9PT0gcHJvbWlzZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0aGVuID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZ2V0VGhlbihtYXliZVRoZW5hYmxlKTtcblxuICAgICAgICBpZiAodGhlbiA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IuZXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKHRoZW4pKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHNlbGZGdWxsZmlsbG1lbnQoKSk7XG4gICAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSR1dGlscyQkb2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoUmVqZWN0aW9uKHByb21pc2UpIHtcbiAgICAgIGlmIChwcm9taXNlLl9vbmVycm9yKSB7XG4gICAgICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgICAgIH1cblxuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaChwcm9taXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHsgcmV0dXJuOyB9XG5cbiAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHZhbHVlO1xuICAgICAgcHJvbWlzZS5fc3RhdGUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQ7XG5cbiAgICAgIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaCwgcHJvbWlzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbikge1xuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7IHJldHVybjsgfVxuICAgICAgcHJvbWlzZS5fc3RhdGUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRDtcbiAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gICAgICB2YXIgc3Vic2NyaWJlcnMgPSBwYXJlbnQuX3N1YnNjcmliZXJzO1xuICAgICAgdmFyIGxlbmd0aCA9IHN1YnNjcmliZXJzLmxlbmd0aDtcblxuICAgICAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoICsgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGggKyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRF0gID0gb25SZWplY3Rpb247XG5cbiAgICAgIGlmIChsZW5ndGggPT09IDAgJiYgcGFyZW50Ll9zdGF0ZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkZGVmYXVsdChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoLCBwYXJlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gocHJvbWlzZSkge1xuICAgICAgdmFyIHN1YnNjcmliZXJzID0gcHJvbWlzZS5fc3Vic2NyaWJlcnM7XG4gICAgICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gICAgICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7IHJldHVybjsgfVxuXG4gICAgICB2YXIgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwgPSBwcm9taXNlLl9yZXN1bHQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICAgICAgY2FsbGJhY2sgPSBzdWJzY3JpYmVyc1tpICsgc2V0dGxlZF07XG5cbiAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKGRldGFpbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCgpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1IgPSBuZXcgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRXJyb3JPYmplY3QoKTtcblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhkZXRhaWwpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUi5lcnJvciA9IGU7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgcHJvbWlzZSwgY2FsbGJhY2ssIGRldGFpbCkge1xuICAgICAgdmFyIGhhc0NhbGxiYWNrID0gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKGNhbGxiYWNrKSxcbiAgICAgICAgICB2YWx1ZSwgZXJyb3IsIHN1Y2NlZWRlZCwgZmFpbGVkO1xuXG4gICAgICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICAgICAgdmFsdWUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlDYXRjaChjYWxsYmFjaywgZGV0YWlsKTtcblxuICAgICAgICBpZiAodmFsdWUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUikge1xuICAgICAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgZXJyb3IgPSB2YWx1ZS5lcnJvcjtcbiAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRjYW5ub3RSZXR1cm5Pd24oKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZGV0YWlsO1xuICAgICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgLy8gbm9vcFxuICAgICAgfSBlbHNlIGlmIChoYXNDYWxsYmFjayAmJiBzdWNjZWVkZWQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGZhaWxlZCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW5pdGlhbGl6ZVByb21pc2UocHJvbWlzZSwgcmVzb2x2ZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc29sdmVyKGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKXtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gICAgICBlbnVtZXJhdG9yLl9pbnN0YW5jZUNvbnN0cnVjdG9yID0gQ29uc3RydWN0b3I7XG4gICAgICBlbnVtZXJhdG9yLnByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG5cbiAgICAgIGlmIChlbnVtZXJhdG9yLl92YWxpZGF0ZUlucHV0KGlucHV0KSkge1xuICAgICAgICBlbnVtZXJhdG9yLl9pbnB1dCAgICAgPSBpbnB1dDtcbiAgICAgICAgZW51bWVyYXRvci5sZW5ndGggICAgID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICBlbnVtZXJhdG9yLl9yZW1haW5pbmcgPSBpbnB1dC5sZW5ndGg7XG5cbiAgICAgICAgZW51bWVyYXRvci5faW5pdCgpO1xuXG4gICAgICAgIGlmIChlbnVtZXJhdG9yLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwoZW51bWVyYXRvci5wcm9taXNlLCBlbnVtZXJhdG9yLl9yZXN1bHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVudW1lcmF0b3IubGVuZ3RoID0gZW51bWVyYXRvci5sZW5ndGggfHwgMDtcbiAgICAgICAgICBlbnVtZXJhdG9yLl9lbnVtZXJhdGUoKTtcbiAgICAgICAgICBpZiAoZW51bWVyYXRvci5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKGVudW1lcmF0b3IucHJvbWlzZSwgZW51bWVyYXRvci5fcmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChlbnVtZXJhdG9yLnByb21pc2UsIGVudW1lcmF0b3IuX3ZhbGlkYXRpb25FcnJvcigpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX3ZhbGlkYXRlSW5wdXQgPSBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheShpbnB1dCk7XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fdmFsaWRhdGlvbkVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuICAgIH07XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvcjtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fZW51bWVyYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICAgIHZhciBsZW5ndGggID0gZW51bWVyYXRvci5sZW5ndGg7XG4gICAgICB2YXIgcHJvbWlzZSA9IGVudW1lcmF0b3IucHJvbWlzZTtcbiAgICAgIHZhciBpbnB1dCAgID0gZW51bWVyYXRvci5faW5wdXQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBwcm9taXNlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyAmJiBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZW51bWVyYXRvci5fZWFjaEVudHJ5KGlucHV0W2ldLCBpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9lYWNoRW50cnkgPSBmdW5jdGlvbihlbnRyeSwgaSkge1xuICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuICAgICAgdmFyIGMgPSBlbnVtZXJhdG9yLl9pbnN0YW5jZUNvbnN0cnVjdG9yO1xuXG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc01heWJlVGhlbmFibGUoZW50cnkpKSB7XG4gICAgICAgIGlmIChlbnRyeS5jb25zdHJ1Y3RvciA9PT0gYyAmJiBlbnRyeS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgICBlbnRyeS5fb25lcnJvciA9IG51bGw7XG4gICAgICAgICAgZW51bWVyYXRvci5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW51bWVyYXRvci5fd2lsbFNldHRsZUF0KGMucmVzb2x2ZShlbnRyeSksIGkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbnVtZXJhdG9yLl9yZW1haW5pbmctLTtcbiAgICAgICAgZW51bWVyYXRvci5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fc2V0dGxlZEF0ID0gZnVuY3Rpb24oc3RhdGUsIGksIHZhbHVlKSB7XG4gICAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG4gICAgICB2YXIgcHJvbWlzZSA9IGVudW1lcmF0b3IucHJvbWlzZTtcblxuICAgICAgaWYgKHByb21pc2UuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7XG4gICAgICAgIGVudW1lcmF0b3IuX3JlbWFpbmluZy0tO1xuXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVudW1lcmF0b3IuX3Jlc3VsdFtpXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlbnVtZXJhdG9yLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCBlbnVtZXJhdG9yLl9yZXN1bHQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX3dpbGxTZXR0bGVBdCA9IGZ1bmN0aW9uKHByb21pc2UsIGkpIHtcbiAgICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHByb21pc2UsIHVuZGVmaW5lZCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgZW51bWVyYXRvci5fc2V0dGxlZEF0KGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCwgaSwgdmFsdWUpO1xuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIGVudW1lcmF0b3IuX3NldHRsZWRBdChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRhbGwoZW50cmllcykge1xuICAgICAgcmV0dXJuIG5ldyBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkZGVmYXVsdCh0aGlzLCBlbnRyaWVzKS5wcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRhbGw7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkcmFjZShlbnRyaWVzKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICAgICAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG5cbiAgICAgIGlmICghbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuJykpO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxlbmd0aCA9IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICBmdW5jdGlvbiBvbkZ1bGZpbGxtZW50KHZhbHVlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvblJlamVjdGlvbihyZWFzb24pIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBwcm9taXNlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyAmJiBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSksIHVuZGVmaW5lZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRyYWNlO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJHJlc29sdmUob2JqZWN0KSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICAgICAgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QuY29uc3RydWN0b3IgPT09IENvbnN0cnVjdG9yKSB7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCBvYmplY3QpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkcmVzb2x2ZTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJHJlamVjdChyZWFzb24pIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuICAgICAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRyZWplY3Q7XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGNvdW50ZXIgPSAwO1xuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzUmVzb2x2ZXIoKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzTmV3KCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZTtcbiAgICAvKipcbiAgICAgIEBjbGFzcyBQcm9taXNlXG4gICAgICBAcGFyYW0ge2Z1bmN0aW9ufSByZXNvbHZlclxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQGNvbnN0cnVjdG9yXG4gICAgKi9cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZShyZXNvbHZlcikge1xuICAgICAgdGhpcy5faWQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkY291bnRlcisrO1xuICAgICAgdGhpcy5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9yZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVycyA9IFtdO1xuXG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgICAgaWYgKCFsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24ocmVzb2x2ZXIpKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzUmVzb2x2ZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZSkpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNOZXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5hbGwgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmFjZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmVzb2x2ZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmVqZWN0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRkZWZhdWx0O1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLl9zZXRTY2hlZHVsZXIgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0U2NoZWR1bGVyO1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLl9hc2FwID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQ7XG5cbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gICAgICBjb25zdHJ1Y3RvcjogbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UsXG5cbiAgICAvKipcbiAgICAgIEBtZXRob2QgdGhlblxuICAgICAgQHBhcmFtIHtGdW5jdGlvbn0gb25GdWxmaWxsZWRcbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0ZWRcbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICAgKi9cbiAgICAgIHRoZW46IGZ1bmN0aW9uKG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzO1xuICAgICAgICB2YXIgc3RhdGUgPSBwYXJlbnQuX3N0YXRlO1xuXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEICYmICFvbkZ1bGZpbGxtZW50IHx8IHN0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCAmJiAhb25SZWplY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGlsZCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuICAgICAgICB2YXIgcmVzdWx0ID0gcGFyZW50Ll9yZXN1bHQ7XG5cbiAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzW3N0YXRlIC0gMV07XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGludm9rZUNhbGxiYWNrKHN0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHJlc3VsdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgIH0sXG5cbiAgICAvKipcbiAgICAgIEBtZXRob2QgY2F0Y2hcbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAgICovXG4gICAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkcG9seWZpbGwoKSB7XG4gICAgICB2YXIgbG9jYWw7XG5cbiAgICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGxvY2FsID0gZ2xvYmFsO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBsb2NhbCA9IHNlbGY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGxvY2FsID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncG9seWZpbGwgZmFpbGVkIGJlY2F1c2UgZ2xvYmFsIG9iamVjdCBpcyB1bmF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgICAgIGlmIChQICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChQLnJlc29sdmUoKSkgPT09ICdbb2JqZWN0IFByb21pc2VdJyAmJiAhUC5jYXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbG9jYWwuUHJvbWlzZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0O1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRwb2x5ZmlsbDtcblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlID0ge1xuICAgICAgJ1Byb21pc2UnOiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdCxcbiAgICAgICdwb2x5ZmlsbCc6IGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdFxuICAgIH07XG5cbiAgICAvKiBnbG9iYWwgZGVmaW5lOnRydWUgbW9kdWxlOnRydWUgd2luZG93OiB0cnVlICovXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lWydhbWQnXSkge1xuICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZTsgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGVbJ2V4cG9ydHMnXSkge1xuICAgICAgbW9kdWxlWydleHBvcnRzJ10gPSBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzWydFUzZQcm9taXNlJ10gPSBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlO1xuICAgIH1cblxuICAgIGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdCgpO1xufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEF2b2lkIGBjb25zb2xlYCBlcnJvcnMgaW4gYnJvd3NlcnMgdGhhdCBsYWNrIGEgY29uc29sZS5cbihmdW5jdGlvbigpIHtcbiAgICB2YXIgbWV0aG9kO1xuICAgIHZhciBub29wID0gZnVuY3Rpb24gKCkge307XG4gICAgdmFyIG1ldGhvZHMgPSBbXG4gICAgICAgICdhc3NlcnQnLCAnY2xlYXInLCAnY291bnQnLCAnZGVidWcnLCAnZGlyJywgJ2RpcnhtbCcsICdlcnJvcicsXG4gICAgICAgICdleGNlcHRpb24nLCAnZ3JvdXAnLCAnZ3JvdXBDb2xsYXBzZWQnLCAnZ3JvdXBFbmQnLCAnaW5mbycsICdsb2cnLFxuICAgICAgICAnbWFya1RpbWVsaW5lJywgJ3Byb2ZpbGUnLCAncHJvZmlsZUVuZCcsICd0YWJsZScsICd0aW1lJywgJ3RpbWVFbmQnLFxuICAgICAgICAndGltZWxpbmUnLCAndGltZWxpbmVFbmQnLCAndGltZVN0YW1wJywgJ3RyYWNlJywgJ3dhcm4nXG4gICAgXTtcbiAgICB2YXIgbGVuZ3RoID0gbWV0aG9kcy5sZW5ndGg7XG4gICAgdmFyIGNvbnNvbGUgPSAod2luZG93LmNvbnNvbGUgPSB3aW5kb3cuY29uc29sZSB8fCB7fSk7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgbWV0aG9kID0gbWV0aG9kc1tsZW5ndGhdO1xuXG4gICAgICAgIC8vIE9ubHkgc3R1YiB1bmRlZmluZWQgbWV0aG9kcy5cbiAgICAgICAgaWYgKCFjb25zb2xlW21ldGhvZF0pIHtcbiAgICAgICAgICAgIGNvbnNvbGVbbWV0aG9kXSA9IG5vb3A7XG4gICAgICAgIH1cbiAgICB9XG59KCkpO1xuIiwidmFyIGtpY2tiYWNrID0gKGZ1bmN0aW9uKGtpY2tiYWNrKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIC8vIG1ha2UgYSBuZXcgb2JqZWN0XG4gICAga2lja2JhY2sgPSB7fTtcblxuICAgIC8vIHByaXZhdGUgbWV0aG9kXG4gICAgZnVuY3Rpb24gX3NlcmlhbGl6ZShvYmopIHtcbiAgICAgICAgdmFyIHN0ciA9IFtdO1xuICAgICAgICBmb3IodmFyIHAgaW4gb2JqKXtcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICAgICAgICBzdHIucHVzaChlbmNvZGVVUklDb21wb25lbnQocCkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudChvYmpbcF0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyLmpvaW4oXCImXCIpO1xuICAgIH07XG5cbiAgICAvLyBtYWluIHB1YmxpYyBtZXRob2RcbiAgICBraWNrYmFjay5yZXF1ZXN0ID0gZnVuY3Rpb24oa2JPcHRpb25zKSB7XG4gICAgICAgIC8vIG9wdGlvbnMgY29uZmlndXJhdGlvbiBhbmQgZGVmYXVsdHNcbiAgICAgICAgaWYodHlwZW9mIGtiT3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIGFzc3VtZSBpdCdzIGEgdXJsIGFuZCB3ZSBhcmUgdXNpbmcgR0VUIFxuICAgICAgICAgICAgdmFyIHRtcCA9IGtiT3B0aW9ucztcbiAgICAgICAgICAgIGtiT3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAga2JPcHRpb25zLnVybCA9IHRtcDtcbiAgICAgICAgICAgIHRtcCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBrYk9wdGlvbnMudXJsID0gKGtiT3B0aW9ucy51cmwpID8ga2JPcHRpb25zLnVybCA6ICcvJztcbiAgICAgICAga2JPcHRpb25zLmRhdGEgPSAoa2JPcHRpb25zLmRhdGEpID8ga2JPcHRpb25zLmRhdGEgOiBudWxsO1xuICAgICAgICBrYk9wdGlvbnMubWV0aG9kID0gKGtiT3B0aW9ucy5tZXRob2QpID8ga2JPcHRpb25zLm1ldGhvZCA6ICdHRVQnO1xuICAgICAgICBrYk9wdGlvbnMuaGVhZGVycyA9IChrYk9wdGlvbnMuaGVhZGVycykgPyBrYk9wdGlvbnMuaGVhZGVycyA6IGZhbHNlO1xuICAgICAgICBrYk9wdGlvbnMuY29ycyA9IChrYk9wdGlvbnMuY29ycykgPyBrYk9wdGlvbnMuY29ycyA6IGZhbHNlO1xuICAgICAgICBrYk9wdGlvbnMuYXN5bmMgPSAoa2JPcHRpb25zLmFzeW5jKSA/IGtiT3B0aW9ucy5hc3luYyA6IHRydWU7XG4gICAgICAgIGtiT3B0aW9ucy5zZXJpYWxpemUgPSAoa2JPcHRpb25zLnNlcmlhbGl6ZSkgPyBrYk9wdGlvbnMuc2VyaWFsaXplIDogZmFsc2U7XG4gICAgICAgIGtiT3B0aW9ucy5hdXRvID0gKGtiT3B0aW9ucy5hdXRvKSA/IGtiT3B0aW9ucy5hdXRvIDogZmFsc2U7IFxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoa2JPcHRpb25zLCAndG1wJywge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYoa2JPcHRpb25zLmF1dG8gPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiB3aW5kb3cuRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSB7IFxuICAgICAgICAgICAgICAgIGlmKGtiT3B0aW9ucy5kYXRhIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAga2JPcHRpb25zLmRhdGEgPSBuZXcgRm9ybURhdGEoa2JPcHRpb25zLmRhdGEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGtiT3B0aW9ucy5kYXRhID09PSAnb2JqZWN0JyAmJiBrYk9wdGlvbnMuZGF0YSBpbnN0YW5jZW9mIEFycmF5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBrYk9wdGlvbnMudG1wID0ga2JPcHRpb25zLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGtiT3B0aW9ucy5kYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGtiT3B0aW9ucy50bXApLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrYk9wdGlvbnMuZGF0YS5hcHBlbmQoa2V5LCBrYk9wdGlvbnMudG1wW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGtiT3B0aW9ucy50bXA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdWJtaXQgZGF0YSBhcyBvYmplY3Qgb3IgSFRNTEVsZW1lbnQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmKGtiT3B0aW9ucy5kYXRhIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAga2JPcHRpb25zLnRtcCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoa2JPcHRpb25zLmRhdGEsIGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtiT3B0aW9ucy50bXBbZWxlbS5uYW1lXSA9IGVsZW0udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBrYk9wdGlvbnMuZGF0YSA9IGtiT3B0aW9ucy50bXA7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBrYk9wdGlvbnMudG1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBrYk9wdGlvbnMuc2VyaWFsaXplID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGtiT3B0aW9ucy5zZXJpYWxpemUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGtiT3B0aW9ucy5kYXRhID0gX3NlcmlhbGl6ZShrYk9wdGlvbnMuZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZihrYk9wdGlvbnMuZGF0YSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZm9ybURBVEEnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdub3RGb3JtRGF0YScpO1xuICAgICAgICB9IFxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHhoci5vcGVuKGtiT3B0aW9ucy5tZXRob2QsIGtiT3B0aW9ucy51cmwsIGtiT3B0aW9ucy5hc3luYyk7XG5cbiAgICAgICAgICAgIC8vIGNoZWNrIHN0YXR1c1xuICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmKHhoci5zdGF0dXMgPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoRXJyb3IoJ0Vycm9yOiAnLCB4aHIuc3RhdHVzVHh0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gbmV0d29yayBlcnJvclxuICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoRXJyb3IoJ05ldHdvcmsgRXJyb3InKSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBzZXQgaGVhZGVyc1xuICAgICAgICAgICAgaWYoa2JPcHRpb25zLmhlYWRlcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAga2JPcHRpb25zLmhlYWRlcnMudHlwZSA9IGtiT3B0aW9ucy5oZWFkZXJzLnR5cGUgfHwgJ0NvbnRlbnQtVHlwZSc7XG4gICAgICAgICAgICAgICAga2JPcHRpb25zLmhlYWRlcnMudmFsdWUgPSBrYk9wdGlvbnMuaGVhZGVycy52YWx1ZSB8fCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JztcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrYk9wdGlvbnMuaGVhZGVycy50eXBlLCBrYk9wdGlvbnMuaGVhZGVycy52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKGtiT3B0aW9ucy5oZWFkZXJzID09PSBmYWxzZSAmJiBrYk9wdGlvbnMubWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09ICdwb3N0JyAmJiBrYk9wdGlvbnMuc2VyaWFsaXplID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlcXVlc3RcbiAgICAgICAgICAgIGlmKGtiT3B0aW9ucy5tZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ2dldCcpIHtcbiAgICAgICAgICAgICAgICB4aHIuc2VuZChudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeGhyLnNlbmQoa2JPcHRpb25zLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9OyAvLyBlbmQgbWFpbiBtZXRob2RcblxuXG4gICAgcmV0dXJuIGtpY2tiYWNrO1xuXG59KGtpY2tiYWNrKSk7XG5cbi8vIHNlZSBpZiB3ZSBhcmUgaW4gbm9kZSBpZiBzbyBzdXBwb3J0IGl0IVxuaWYodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGtpY2tiYWNrO1xufVxuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGNvbnRhY3RGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3QnKTtcbiAgW10uZm9yRWFjaC5jYWxsKGNvbnRhY3RGb3JtLCBmdW5jdGlvbihpbnB1dCkge1xuICAgIGlmKGlucHV0Lm5vZGVOYW1lICE9PSAnQlVUVE9OJykge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBpbnB1dE5hbWUgPSBlLnRhcmdldC5uYW1lO1xuICAgICAgICB2YXIgaW5wdXRMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj1cIicraW5wdXROYW1lKydcIl0nKTtcbiAgICAgICAgaW5wdXRMYWJlbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIH0sIGZhbHNlKTtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBpbnB1dE5hbWUgPSBlLnRhcmdldC5uYW1lO1xuICAgICAgICB2YXIgaW5wdXRMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj1cIicraW5wdXROYW1lKydcIl0nKTtcbiAgICAgICAgaWYoZS50YXJnZXQudmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgaW5wdXRMYWJlbC5jbGFzc0xpc3QuYWRkKCd2YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmKCFlLnRhcmdldC52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICBpbnB1dExhYmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3ZhbGlkJyk7XG4gICAgICAgICAgaW5wdXRMYWJlbC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0TGFiZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICB9LCBmYWxzZSk7XG4gICAgfVxuICB9KTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBmb3JtRXJyb3IgPSB7fTtcblxuICAgIFtdLmZvckVhY2guY2FsbChjb250YWN0Rm9ybSwgZnVuY3Rpb24oZm9ybUlucHV0KSB7XG4gICAgICBpZihmb3JtSW5wdXQubm9kZU5hbWUgIT09ICdCVVRUT04nKSB7XG4gICAgICAgIGlmKGZvcm1JbnB1dC52YWx1ZSA9PSAnJykge1xuICAgICAgICAgIGZvcm1FcnJvcltmb3JtSW5wdXQubmFtZV0gPSAncmVxdWlyZWQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBpbnB1dExhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPVwiJytmb3JtSW5wdXQubmFtZSsnXCJdJyk7XG4gICAgICAgICAgaW5wdXRMYWJlbC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuICAgICAgICAgIGlucHV0TGFiZWwuY2xhc3NMaXN0LmFkZCgndmFsaWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYoT2JqZWN0LmtleXMoZm9ybUVycm9yKS5sZW5ndGgpIHtcbiAgICAgIGZvcih2YXIgZXJyb3IgaW4gZm9ybUVycm9yKSB7XG4gICAgICAgIGlmKGZvcm1FcnJvci5oYXNPd25Qcm9wZXJ0eShlcnJvcikpIHtcbiAgICAgICAgICB2YXIgZXJyb3JMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj1cIicrZXJyb3IrJ1wiXScpO1xuICAgICAgICAgIGVycm9yTGFiZWwuY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgJytlcnJvcisnICcrZm9ybUVycm9yW2Vycm9yXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAga2lja2JhY2sucmVxdWVzdCh7XG4gICAgICAgIHVybDogJy9jb250YWN0JyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgbmFtZV9mdWxsOiBjb250YWN0Rm9ybS5uYW1lX2Z1bGwudmFsdWUsXG4gICAgICAgICAgICBlbWFpbDogY29udGFjdEZvcm0uZW1haWwudmFsdWUsXG4gICAgICAgICAgICBtc2c6IGNvbnRhY3RGb3JtLm1zZy52YWx1ZVxuICAgICAgICB9LFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgc2VyaWFsaXplOiB0cnVlXG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgaWYocmVzcG9uc2Uuc3VjY2VzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdTVUNDRVNTJywgcmVzcG9uc2UpO1xuICAgICAgICB9IGVsc2UgaWYocmVzcG9uc2UuY29kZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdobW1tJywgcmVzcG9uc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RhbmcnLCByZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfSlbJ2NhdGNoJ10oZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdQcm9tIGZhaWw6ICcsZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICB9LCBmYWxzZSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBzY3JvbGxUaW1lciA9IG51bGwsXG4gICAgICAgIHNjcm9sbENhY2hlVGltZXIgPSBudWxsLFxuICAgICAgICBjYWNoZVNjcm9sbFBvcyA9IDAsXG4gICAgICAgIHNjcm9sbERpcmVjdGlvbjtcblxuICAgIHZhciBza2lsbHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNraWxsLWJhcicpO1xuXG4gICAgdmFyIG5hdm1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd1bFtyb2xlPVwibWVudWJhclwiXScpLFxuICAgICAgICBtZW51YmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tbmF2JyksXG4gICAgICAgIG1hc3RoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hc3RoZWFkJyk7XG5cbiAgICB2YXIgc2VjdGlvbnMgPSBbXG4gICAgICAgICAgICAnI2Fib3V0JyxcbiAgICAgICAgICAgICcjd29yaycsXG4gICAgICAgICAgICAnI3NraWxscycsXG4gICAgICAgICAgICAnI3Byb2plY3RzJyxcbiAgICAgICAgICAgICcjZWR1Y2F0aW9uJ1xuICAgICAgICBdO1xuXG4gICAgdmFyIGluaXRpYWxCR0NvbG9yID0gJyNlYWVhZWEnLFxuICAgICAgICBiR0NvbG9yXzEgPSAnI0FGQjREOCcsXG4gICAgICAgIGJHQ29sb3JfMiA9ICcjNkY5NEJFJyxcbiAgICAgICAgYkdDb2xvcl8zID0gJyM2RUFFQjMnLFxuICAgICAgICBiR0NvbG9yXzQgPSAnIzY2Q0Y5NycsXG4gICAgICAgIGJHQ29sb3JfNSA9ICcjNDlEQjQ1JyxcbiAgICAgICAgYkdDb2xvcl82ID0gJyMxREU0MTAnO1xuXG4gICAgZnVuY3Rpb24gc2Nyb2xsU2V0Q2FjaGVkKCkge1xuICAgICAgICBjYWNoZVNjcm9sbFBvcyA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICBjb25zb2xlLmxvZygnc2V0IGNhY2hlIFknLCBjYWNoZVNjcm9sbFBvcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnc2Nyb2xsaW5nIHN0b3BwZWQnKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2RpcicsIHNjcm9sbERpcmVjdGlvbik7XG4gICAgICAgIGlmKHNjcm9sbERpcmVjdGlvbiA9PSAnZG93bicpIHtcbiAgICAgICAgICBtZW51YmFyLmNsYXNzTGlzdC5hZGQoJ2hpZGUtbmF2Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0U2tpbGxzKHN0YXR1cykge1xuICAgICAgaWYoIXN0YXR1cykge1xuICAgICAgICBjb25zb2xlLmxvZygnU0tJTExTIE5PVCB2aWV3IHJlbW92ZSBsaXN0Jyk7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoc2tpbGxzTGlzdCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NLSUxMUyBpbiB2aWV3IGFkZCBsaXN0Jyk7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoc2tpbGxzTGlzdCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRWxlbWVudFZpc2libGUoZWxlbSkge1xuICAgICAgICBpZih0eXBlb2YgZWxlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB2YXIgZWxlbUFuY2hvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2FbaHJlZj1cIicrZWxlbSsnXCJdJyk7XG4gICAgICAgICAgZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZighZWxlbSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBpZihyZWN0LnRvcCA+ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSAxNTApIHx8IHJlY3QuYm90dG9tIDwgMTUwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlbGVtLCAnaXMgTk9UIGluIHZpZXcnKTtcbiAgICAgICAgICAgIGlmKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdpbi12aWV3JykpIHtcbiAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2luLXZpZXcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGVsZW1BbmNob3IuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUtbmF2JykpIHtcbiAgICAgICAgICAgICAgICBlbGVtQW5jaG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1uYXYnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZWxlbSwgJ2lzIGluIHZpZXcnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsZW1BbmNob3IsICdpcyBhY3RpdmUnKTtcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnaW4tdmlldycpO1xuICAgICAgICAgICAgZWxlbUFuY2hvci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtbmF2Jyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24gZGV0ZWN0U2Nyb2xsKGUpIHtcbiAgICAgICAgaWYoc2Nyb2xsVGltZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbFRpbWVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHNjcm9sbENhY2hlVGltZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbENhY2hlVGltZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoY2FjaGVTY3JvbGxQb3MgPCB3aW5kb3cuc2Nyb2xsWSkge1xuICAgICAgICAgICAgLy9zY3JvbGxpbmcgZG93blxuICAgICAgICAgICAgc2Nyb2xsRGlyZWN0aW9uID0gJ2Rvd24nO1xuICAgICAgICAgICAgLy9tZW51YmFyLmNsYXNzTGlzdC5hZGQoJ2hpZGUtbmF2Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoY2FjaGVTY3JvbGxQb3MgPiB3aW5kb3cuc2Nyb2xsWSkge1xuICAgICAgICAgICAgLy9zY3JvbGxpbmcgdXBcbiAgICAgICAgICAgIHNjcm9sbERpcmVjdGlvbiA9ICd1cCc7XG4gICAgICAgICAgICBtZW51YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtbmF2Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBzY3JvbGxUaW1lciA9IHNldFRpbWVvdXQoaGFuZGxlU2Nyb2xsLCA1MDApO1xuICAgICAgICBzY3JvbGxDYWNoZVRpbWVyID0gc2V0VGltZW91dChzY3JvbGxTZXRDYWNoZWQsIDEwMCk7XG5cbiAgICAgICAgaWYod2luZG93LnNjcm9sbFkgPT0gMCkgeyBtYXN0aGVhZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBpbml0aWFsQkdDb2xvcjsgfVxuICAgICAgICBpZih3aW5kb3cuc2Nyb2xsWSA+IDAgJiYgd2luZG93LnNjcm9sbFkgPD0gMjApIHsgbWFzdGhlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYkdDb2xvcl8xOyB9XG4gICAgICAgIGlmKHdpbmRvdy5zY3JvbGxZID49IDIxICYmIHdpbmRvdy5zY3JvbGxZIDw9IDQwKSB7IG1hc3RoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJHQ29sb3JfMjsgfVxuICAgICAgICBpZih3aW5kb3cuc2Nyb2xsWSA+PSA0MSAmJiB3aW5kb3cuc2Nyb2xsWSA8PSA2MCkgeyBtYXN0aGVhZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiR0NvbG9yXzM7IH1cbiAgICAgICAgaWYod2luZG93LnNjcm9sbFkgPj0gNjEgJiYgd2luZG93LnNjcm9sbFkgPD0gODApIHsgbWFzdGhlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYkdDb2xvcl80OyB9XG4gICAgICAgIGlmKHdpbmRvdy5zY3JvbGxZID49IDgxICYmIHdpbmRvdy5zY3JvbGxZIDw9IDEwMCkgeyBtYXN0aGVhZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiR0NvbG9yXzU7IH1cbiAgICAgICAgaWYod2luZG93LnNjcm9sbFkgPj0gMTAxICYmIHdpbmRvdy5zY3JvbGxZIDw9IDEyMCkgeyBtYXN0aGVhZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiR0NvbG9yXzY7IH1cbiAgICAgICAgaWYod2luZG93LnNjcm9sbFkgPj0gMTIxKSB7IG1hc3RoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGluaXRpYWxCR0NvbG9yOyB9XG5cbiAgICAgICAgc2VjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgICBpc0VsZW1lbnRWaXNpYmxlKGVsZW0pO1xuICAgICAgICAgICAgaWYoZWxlbSA9PSAnI3NraWxscycpIHtcbiAgICAgICAgICAgICAgaWYoaXNFbGVtZW50VmlzaWJsZShlbGVtKSkge1xuICAgICAgICAgICAgICAgIGxpc3RTa2lsbHModHJ1ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdFNraWxscyhmYWxzZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxufSkod2luZG93KTtcbiIsIihmdW5jdGlvbigpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIEZ1bmN0aW9uIHRvIGFuaW1hdGUgdGhlIHNjcm9sbFxuICAgIHZhciBzbW9vdGhTY3JvbGwgPSBmdW5jdGlvbihhbmNob3IsIGR1cmF0aW9uLCBvZmZzZXQpIHtcblxuICAgICAgLy8gQ2FsY3VsYXRlIGhvdyBmYXIgYW5kIGhvdyBmYXN0IHRvIHNjcm9sbFxuICAgICAgdmFyIHN0YXJ0TG9jYXRpb24gPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICB2YXIgZW5kTG9jYXRpb24gPSBhbmNob3Iub2Zmc2V0VG9wO1xuICAgICAgdmFyIGRpc3RhbmNlID0gZW5kTG9jYXRpb24gLSBzdGFydExvY2F0aW9uO1xuICAgICAgdmFyIGluY3JlbWVudHMgPSBkaXN0YW5jZSAvIChkdXJhdGlvbiAvIDE2KTtcbiAgICAgIHZhciBzdG9wQW5pbWF0aW9uLCBydW5BbmltYXRpb24sIHRyYXZlbGxlZDtcblxuICAgICAgaWYob2Zmc2V0ID4gMCkge1xuICAgICAgICBlbmRMb2NhdGlvbiA9IGVuZExvY2F0aW9uIC0gb2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICAvLyBTY3JvbGwgdGhlIHBhZ2UgYnkgYW4gaW5jcmVtZW50LCBhbmQgY2hlY2sgaWYgaXQncyB0aW1lIHRvIHN0b3BcbiAgICAgIHZhciBhbmltYXRlU2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxCeSgwLCBpbmNyZW1lbnRzKTtcbiAgICAgICAgdHJhdmVsbGVkID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuXG4gICAgICAgIHJ1bkFuaW1hdGlvbiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlU2Nyb2xsKTtcblxuICAgICAgICAvLyBJZiBzY3JvbGxpbmcgZG93blxuICAgICAgICAgIGlmIChpbmNyZW1lbnRzID49IDApIHtcbiAgICAgICAgICAgIC8vIFN0b3AgYW5pbWF0aW9uIHdoZW4geW91IHJlYWNoIHRoZSBhbmNob3IgT1IgdGhlIGJvdHRvbSBvZiB0aGUgcGFnZVxuICAgICAgICAgICAgICBpZiAoKHRyYXZlbGxlZCA+PSAoZW5kTG9jYXRpb24gLSBpbmNyZW1lbnRzKSkgfHwgKCh3aW5kb3cuaW5uZXJIZWlnaHQgKyB0cmF2ZWxsZWQpID49IGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0KSkge1xuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJ1bkFuaW1hdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSWYgc2Nyb2xsaW5nIHVwXG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBTdG9wIGFuaW1hdGlvbiB3aGVuIHlvdSByZWFjaCB0aGUgYW5jaG9yIE9SIHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAgICAgICAgICAgICAgaWYgKHRyYXZlbGxlZCA8PSAoZW5kTG9jYXRpb24gfHwgMCkpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShydW5BbmltYXRpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gTG9vcCB0aGUgYW5pbWF0aW9uIGZ1bmN0aW9uXG4gICAgICBydW5BbmltYXRpb24gPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZVNjcm9sbCk7XG5cbiAgICB9O1xuXG4gICAgLy8gV2hlbiB0aGUgc21vb3RoIHNjcm9sbCBsaW5rIGlzIGNsaWNrZWRcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAvLyBldmVudCBkZWxlZ2F0aW9uXG4gICAgaWYoZS50YXJnZXQgJiYgZS50YXJnZXQubm9kZU5hbWUgPT0gJ0EnKSB7XG4gICAgICAgIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2Nyb2xsJykpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgLy8gR2V0IGFuY2hvciBsaW5rIGFuZCBjYWxjdWxhdGUgZGlzdGFuY2UgZnJvbSB0aGUgdG9wXG4gICAgICAgICAgICB2YXIgZGF0YUlEID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICAgICAgICB2YXIgZGF0YVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YUlEKTtcbiAgICAgICAgICAgIHZhciBkYXRhU3BlZWQgPSAoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1zcGVlZCcpKSA/IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtc3BlZWQnKSA6IDUwMDtcbiAgICAgICAgICAgIHZhciBkYXRhT2Zmc2V0ID0gKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtb2Zmc2V0JykpID8gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1vZmZzZXQnKSA6IDA7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBhbmNob3IgZXhpc3RzXG4gICAgICAgICAgICBpZiAoZGF0YVRhcmdldCkge1xuICAgICAgICAgICAgICAvLyBTY3JvbGwgdG8gdGhlIGFuY2hvclxuICAgICAgICAgICAgICBzbW9vdGhTY3JvbGwoZGF0YVRhcmdldCwgZGF0YVNwZWVkLCBkYXRhT2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIH0sIGZhbHNlKTtcblxufSkoKTtcbiIsIndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZ2l0ZmVlZDtcbiAgICB2YXIgZmVlZENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZWVkJyk7XG5cbiAgICBmdW5jdGlvbiBmZWVkQnVpbGRlcihmZWVkLCBsaW1pdCkge1xuICAgICAgICB2YXIgbGltaXQgPSBsaW1pdCB8fCAzO1xuICAgICAgICBcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGxpbWl0OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FsZXJ0Jyk7XG4gICAgICAgICAgICBlbGVtLmlubmVySFRNTCA9IGZlZWRbaV0uY29udGVudFswXS5fO1xuICAgICAgICAgICAgZmVlZENvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuXG4gICAga2lja2JhY2sucmVxdWVzdCh7XG4gICAgICAgIHVybDogJy9mZWVkJyxcbiAgICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgZ2l0ZmVlZCA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgICAgICB2YXIgZW50cmllcyA9IGdpdGZlZWQuZmVlZC5lbnRyeTtcbiAgICAgICAgXG4gICAgICAgIGZlZWRCdWlsZGVyKGVudHJpZXMsIDYpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuO1xuICAgIH0pWydjYXRjaCddKGZ1bmN0aW9uKGVycikge1xuICAgICAgICByZXR1cm4gZXJyO1xuICAgIH0pO1xuICAgIFxufTtcbiIsIihmdW5jdGlvbih3aW5kb3cpIHtcbiAgdmFyIHRvZ2dsZUNvZGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWNvZGUnKSxcbiAgICAgIGFib3V0Q29kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2RlLWFib3V0JyksXG4gICAgICBhYm91dEJhcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFyZS1hYm91dCcpLFxuICAgICAgYWJvdXRTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fib3V0Jyk7XG5cbiAgdG9nZ2xlQ29kZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgYWJvdXRSZWN0ID0gYWJvdXRTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICBiYXJlUmVjdCA9IGFib3V0QmFyZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICBlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGFib3V0Q29kZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIHZhciBkZWxheURpc3BsYXkgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgYWJvdXRDb2RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGFib3V0QmFyZS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoZGVsYXlEaXNwbGF5KTtcbiAgICAgIH0sIDExMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBhYm91dENvZGUuc3R5bGUudG9wID0gJzBweCc7XG4gICAgICBhYm91dENvZGUuc3R5bGUucmlnaHQgPSAnLScrYWJvdXRSZWN0LndpZHRoKydweCc7XG4gICAgICBhYm91dENvZGUuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgYWJvdXRCYXJlLnN0eWxlLmxlZnQgPSAnLScrYWJvdXRSZWN0LndpZHRoKydweCc7XG4gICAgICB2YXIgZGVsYXlEaXNwbGF5ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGFib3V0QmFyZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBhYm91dENvZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoZGVsYXlEaXNwbGF5KTtcbiAgICAgIH0sIDUwMCk7XG4gICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9XG4gIH0sIGZhbHNlKTtcbn0pKHdpbmRvdyk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=