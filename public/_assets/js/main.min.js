function Timemap(e){"use strict";function t(e){return e.replace(/Y/,a).replace(/y/,a.toString().substr(2,3)).replace(/mm/,n+1).replace(/MM/,n.toString().length>1?n+1:"0"+(n+1)).replace(/M/,i[n]).replace(/m/,i[n].toString().substr(0,3)).replace(/dd/,r).replace(/DD/,r.toString().length>1?r:"0"+r).replace(/d/,s[o].toString().substr(0,3)).replace(/D/,s[o])}var e=e||new Date,n=e.getMonth(),r=e.getDate(),o=e.getDay(),a=e.getFullYear(),i=(e.getTime(),e.getHours(),e.getMinutes(),e.getSeconds(),["January","February","March","April","May","June","July","August","September","October","November","December"]),s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return{date:e,format:t}}!function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),o=Math.max(0,16-(r-e)),a=window.setTimeout(function(){t(r+o)},o);return e=r+o,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function r(e,t){Q[U]=e,Q[U+1]=t,U+=2,2===U&&(I?I(l):R())}function o(e){I=e}function a(){var e=process.nextTick,t=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=setImmediate),function(){e(l)}}function i(){return function(){z(l)}}function s(){var e=0,t=new K(l),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function u(){var e=new MessageChannel;return e.port1.onmessage=l,function(){e.port2.postMessage(0)}}function c(){return function(){setTimeout(l,1)}}function l(){for(var e=0;U>e;e+=2){var t=Q[e],n=Q[e+1];t(n),Q[e]=void 0,Q[e+1]=void 0}U=0}function d(){try{var e=require,t=e("vertx");return z=t.runOnLoop||t.runOnContext,i()}catch(n){return c()}}function f(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function h(e){try{return e.then}catch(t){return te.error=t,te}}function v(e,t,n,r){try{e.call(t,n,r)}catch(o){return o}}function y(e,t,n){J(function(e){var r=!1,o=v(n,t,function(n){r||(r=!0,t!==n?b(e,n):A(e,n))},function(t){r||(r=!0,E(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,E(e,o))},e)}function g(e,t){t._state===Z?A(e,t._result):t._state===ee?E(e,t._result):T(t,void 0,function(t){b(e,t)},function(t){E(e,t)})}function w(e,n){if(n.constructor===e.constructor)g(e,n);else{var r=h(n);r===te?E(e,te.error):void 0===r?A(e,n):t(r)?y(e,n,r):A(e,n)}}function b(t,n){t===n?E(t,m()):e(n)?w(t,n):A(t,n)}function _(e){e._onerror&&e._onerror(e._result),k(e)}function A(e,t){e._state===V&&(e._result=t,e._state=Z,0!==e._subscribers.length&&J(k,e))}function E(e,t){e._state===V&&(e._state=ee,e._result=t,J(_,e))}function T(e,t,n,r){var o=e._subscribers,a=o.length;e._onerror=null,o[a]=t,o[a+Z]=n,o[a+ee]=r,0===a&&e._state&&J(k,e)}function k(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,o,a=e._result,i=0;i<t.length;i+=3)r=t[i],o=t[i+n],r?F(n,r,o,a):o(a);e._subscribers.length=0}}function S(){this.error=null}function C(e,t){try{return e(t)}catch(n){return ne.error=n,ne}}function F(e,n,r,o){var a,i,s,u,c=t(r);if(c){if(a=C(r,o),a===ne?(u=!0,i=a.error,a=null):s=!0,n===a)return void E(n,p())}else a=o,s=!0;n._state!==V||(c&&s?b(n,a):u?E(n,i):e===Z?A(n,a):e===ee&&E(n,a))}function Y(e,t){try{t(function(t){b(e,t)},function(t){E(e,t)})}catch(n){E(e,n)}}function q(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(f),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?A(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&A(n.promise,n._result))):E(n.promise,n._validationError())}function D(e){return new re(this,e).promise}function M(e){function t(e){b(o,e)}function n(e){E(o,e)}var r=this,o=new r(f);if(!N(e))return E(o,new TypeError("You must pass an array to race.")),o;for(var a=e.length,i=0;o._state===V&&a>i;i++)T(r.resolve(e[i]),void 0,t,n);return o}function j(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return b(n,e),n}function L(e){var t=this,n=new t(f);return E(n,e),n}function O(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function x(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function P(e){this._id=ue++,this._state=void 0,this._result=void 0,this._subscribers=[],f!==e&&(t(e)||O(),this instanceof P||x(),Y(this,e))}function H(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=ce)}var B;B=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var z,I,R,N=B,U=0,J=({}.toString,r),G="undefined"!=typeof window?window:void 0,W=G||{},K=W.MutationObserver||W.WebKitMutationObserver,X="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),$="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3);R=X?a():K?s():$?u():void 0===G&&"function"==typeof require?d():c();var V=void 0,Z=1,ee=2,te=new S,ne=new S;q.prototype._validateInput=function(e){return N(e)},q.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},q.prototype._init=function(){this._result=new Array(this.length)};var re=q;q.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,o=0;n._state===V&&t>o;o++)e._eachEntry(r[o],o)},q.prototype._eachEntry=function(e,t){var r=this,o=r._instanceConstructor;n(e)?e.constructor===o&&e._state!==V?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(o.resolve(e),t):(r._remaining--,r._result[t]=e)},q.prototype._settledAt=function(e,t,n){var r=this,o=r.promise;o._state===V&&(r._remaining--,e===ee?E(o,n):r._result[t]=n),0===r._remaining&&A(o,r._result)},q.prototype._willSettleAt=function(e,t){var n=this;T(e,void 0,function(e){n._settledAt(Z,t,e)},function(e){n._settledAt(ee,t,e)})};var oe=D,ae=M,ie=j,se=L,ue=0,ce=P;P.all=oe,P.race=ae,P.resolve=ie,P.reject=se,P._setScheduler=o,P._asap=J,P.prototype={constructor:P,then:function(e,t){var n=this,r=n._state;if(r===Z&&!e||r===ee&&!t)return this;var o=new this.constructor(f),a=n._result;if(r){var i=arguments[r-1];J(function(){F(r,o,i,a)})}else T(n,o,e,t);return o},"catch":function(e){return this.then(null,e)}};var le=H,de={Promise:ce,polyfill:le};"function"==typeof define&&define.amd?define(function(){return de}):"undefined"!=typeof module&&module.exports?module.exports=de:"undefined"!=typeof this&&(this.ES6Promise=de),le()}.call(this),function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],r=n.length,o=window.console=window.console||{};r--;)e=n[r],o[e]||(o[e]=t)}(),"undefined"!=typeof module&&module.exports&&(module.exports=Timemap);var kickback=function(e){"use strict";function t(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}return e={},e.request=function(e){if("string"==typeof e){var n=e;e={},e.url=n,n=null}if(e.url=e.url?e.url:"/",e.data=e.data?e.data:null,e.method=e.method?e.method:"GET",e.headers=e.headers?e.headers:!1,e.cors=e.cors?e.cors:!1,e.async=e.async?e.async:!0,e.serialize=e.serialize?e.serialize:!1,e.auto=e.auto?e.auto:!1,Object.defineProperty(e,"tmp",{configurable:!0,writable:!0}),e.auto===!0)if("undefined"!=typeof window.FormData)if(e.data instanceof HTMLElement)e.data=new FormData(e.data);else{if("object"!=typeof e.data||e.data instanceof Array!=!1)throw new Error("Submit data as object or HTMLElement");e.tmp=e.data,e.data=new FormData,Object.keys(e.tmp).forEach(function(t){e.data.append(t,e.tmp[t])}),delete e.tmp}else e.data instanceof HTMLElement&&(e.tmp={},[].forEach.call(e.data,function(t){e.tmp[t.name]=t.value}),e.data=e.tmp,delete e.tmp),e.serialize=!0;return e.serialize===!0&&(e.data=t(e.data)),console.log(e.data instanceof FormData?"formDATA":"notFormData"),new Promise(function(t,n){var r=new XMLHttpRequest;r.open(e.method,e.url,e.async),r.onload=function(){200==r.status?t(r.response):n(Error("Error: ",r.statusTxt))},r.onerror=function(){n(Error("Network Error"))},e.headers!==!1&&(e.headers.type=e.headers.type||"Content-Type",e.headers.value=e.headers.value||"text/plain;charset=UTF-8",r.setRequestHeader(e.headers.type,e.headers.value)),e.headers===!1&&"post"===e.method.toLowerCase()&&e.serialize===!0&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send("get"===e.method.toLowerCase()?null:e.data)})},e}(kickback);"undefined"!=typeof module&&module.exports&&(module.exports=kickback),function(){"use strict";document.addEventListener("submit",function(e){e.preventDefault();var t=document.querySelector("form#contact"),n={};if([].forEach.call(t,function(e){""==e.value&&(n[e.name]="required")}),Object.keys(n).length)for(var r in n)n.hasOwnProperty(r)&&console.log("Error "+r+" "+n[r]);else kickback.request({url:"/contact",data:{name_full:t.name_full.value,email:t.email.value,msg:t.msg.value},method:"POST",serialize:!0}).then(function(e){return e.success===!0?console.log("SUCCESS",e):e.code?console.log("hmmm",e):console.log("dang",e),e})["catch"](function(e){return new Error("Prom fail: ",e)})},!1)}(),function(e){"use strict";function t(){i=e.scrollY,console.log("set cache Y",i)}function n(){console.log("scrolling stopped")}function r(t){if("string"==typeof t&&(t=document.querySelector(t)),!t)return!1;var n=t.getBoundingClientRect();return n.top>e.innerHeight||n.bottom<0?(console.log(t,"is NOT in view"),t.classList.contains("in-view")&&t.classList.remove("in-view"),!1):(console.log(t,"is in view"),t.classList.add("in-view"),!0)}var o=null,a=null,i=0,s=(document.querySelector('ul[role="menubar"]'),document.getElementById("main-nav")),u=document.getElementById("masthead"),c=["#about","#work","#projects"],l="#eaeaea",d="#AFB4D8",f="#6F94BE",m="#6EAEB3",p="#66CF97",h="#49DB45",v="#1DE410";e.onscroll=function(y){null!=o&&clearTimeout(o),null!=a&&clearTimeout(a),i<e.scrollY&&s.classList.add("hide-nav"),i>e.scrollY&&s.classList.remove("hide-nav"),o=setTimeout(n,1500),a=setTimeout(t,100),0==e.scrollY&&(u.style.backgroundColor=l),e.scrollY>0&&e.scrollY<=20&&(u.style.backgroundColor=d),e.scrollY>=21&&e.scrollY<=40&&(u.style.backgroundColor=f),e.scrollY>=41&&e.scrollY<=60&&(u.style.backgroundColor=m),e.scrollY>=61&&e.scrollY<=80&&(u.style.backgroundColor=p),e.scrollY>=81&&e.scrollY<=100&&(u.style.backgroundColor=h),e.scrollY>=101&&e.scrollY<=120&&(u.style.backgroundColor=v),e.scrollY>=121&&(u.style.backgroundColor=l),c.forEach(function(e){r(e)})}}(window),function(){"use strict";var e=function(e,t,n){var r,o,a=window.pageYOffset,i=e.offsetTop,s=i-a,u=s/(t/16);n>0&&(i-=n);var c=function(){window.scrollBy(0,u),o=window.pageYOffset,r=requestAnimationFrame(c),u>=0?(o>=i-u||window.innerHeight+o>=document.body.offsetHeight)&&cancelAnimationFrame(r):(i||0)>=o&&cancelAnimationFrame(r)};r=requestAnimationFrame(c)};document.addEventListener("click",function(t){if(t.target&&"A"==t.target.nodeName&&t.target.classList.contains("scroll")){t.preventDefault();var n=t.target.getAttribute("href"),r=document.querySelector(n),o=t.target.getAttribute("data-scroll-speed")?t.target.getAttribute("data-scroll-speed"):500,a=t.target.getAttribute("data-scroll-offset")?t.target.getAttribute("data-scroll-offset"):!1;r&&e(r,o,a)}},!1)}(),window.onload=function(){function e(e,t){for(var t=t||3,r=0;t>r;r++){var o=document.createElement("div");o.classList.add("alert"),o.innerHTML=e[r].content[0]._,n.appendChild(o)}}var t,n=document.getElementById("feed");kickback.request({url:"/feed",method:"GET"}).then(function(n){t=JSON.parse(n);var r=t.feed.entry;e(r,6)})["catch"](function(e){return e})};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRpbWVtYXAuanMiLCJwb2x5ZmlsbHMuanMiLCJwbHVnaW5zLmpzIiwia2lja2JhY2suanMiLCJmb3JtLWFjdGlvbi5qcyIsInNjcm9sbGFibGVzLmpzIiwic21vb3RoLXNjcm9sbC5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsiVGltZW1hcCIsImRhdGVPYmoiLCJmb3JtYXQiLCJzdHIiLCJyZXBsYWNlIiwieWVhciIsInRvU3RyaW5nIiwic3Vic3RyIiwibW9udGgiLCJsZW5ndGgiLCJtb250aHMiLCJkYXkiLCJkYXlzIiwiZGF5T2ZXZWVrIiwiRGF0ZSIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldERheSIsImdldEZ1bGxZZWFyIiwiZ2V0VGltZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJkYXRlIiwibGFzdFRpbWUiLCJ2ZW5kb3JzIiwieCIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2FsbGJhY2siLCJlbGVtZW50IiwiY3VyclRpbWUiLCJ0aW1lVG9DYWxsIiwiTWF0aCIsIm1heCIsImlkIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImxpYiRlczYkcHJvbWlzZSR1dGlscyQkb2JqZWN0T3JGdW5jdGlvbiIsImxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbiIsImxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNNYXliZVRoZW5hYmxlIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAiLCJhcmciLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWUiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2giLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0U2NoZWR1bGVyIiwic2NoZWR1bGVGbiIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VOZXh0VGljayIsIm5leHRUaWNrIiwicHJvY2VzcyIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm5vZGUiLCJtYXRjaCIsIkFycmF5IiwiaXNBcnJheSIsInNldEltbWVkaWF0ZSIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VWZXJ0eFRpbWVyIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dCIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNdXRhdGlvbk9ic2VydmVyIiwiaXRlcmF0aW9ucyIsIm9ic2VydmVyIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwiZGF0YSIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNZXNzYWdlQ2hhbm5lbCIsImNoYW5uZWwiLCJNZXNzYWdlQ2hhbm5lbCIsInBvcnQxIiwib25tZXNzYWdlIiwicG9ydDIiLCJwb3N0TWVzc2FnZSIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VTZXRUaW1lb3V0IiwiaSIsInVuZGVmaW5lZCIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRhdHRlbXB0VmVydGV4IiwiciIsInJlcXVpcmUiLCJ2ZXJ0eCIsInJ1bk9uTG9vcCIsInJ1bk9uQ29udGV4dCIsImUiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc2VsZkZ1bGxmaWxsbWVudCIsIlR5cGVFcnJvciIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGNhbm5vdFJldHVybk93biIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGdldFRoZW4iLCJwcm9taXNlIiwidGhlbiIsImVycm9yIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlUaGVuIiwidmFsdWUiLCJmdWxmaWxsbWVudEhhbmRsZXIiLCJyZWplY3Rpb25IYW5kbGVyIiwiY2FsbCIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZUZvcmVpZ25UaGVuYWJsZSIsInRoZW5hYmxlIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQiLCJzZWFsZWQiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbCIsInJlYXNvbiIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdCIsIl9sYWJlbCIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU93blRoZW5hYmxlIiwiX3N0YXRlIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEIiwiX3Jlc3VsdCIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlTWF5YmVUaGVuYWJsZSIsIm1heWJlVGhlbmFibGUiLCJjb25zdHJ1Y3RvciIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2hSZWplY3Rpb24iLCJfb25lcnJvciIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2giLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HIiwiX3N1YnNjcmliZXJzIiwicGFyZW50IiwiY2hpbGQiLCJvbkZ1bGZpbGxtZW50Iiwib25SZWplY3Rpb24iLCJzdWJzY3JpYmVycyIsInNldHRsZWQiLCJkZXRhaWwiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbnZva2VDYWxsYmFjayIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0IiwidGhpcyIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeUNhdGNoIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SIiwic3VjY2VlZGVkIiwiZmFpbGVkIiwiaGFzQ2FsbGJhY2siLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbml0aWFsaXplUHJvbWlzZSIsInJlc29sdmVyIiwibGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IiLCJDb25zdHJ1Y3RvciIsImlucHV0IiwiZW51bWVyYXRvciIsIl9pbnN0YW5jZUNvbnN0cnVjdG9yIiwiX3ZhbGlkYXRlSW5wdXQiLCJfaW5wdXQiLCJfcmVtYWluaW5nIiwiX2luaXQiLCJfZW51bWVyYXRlIiwiX3ZhbGlkYXRpb25FcnJvciIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkYWxsIiwiZW50cmllcyIsImxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRkZWZhdWx0IiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkcmFjZSIsImxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheSIsInJlc29sdmUiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRyZXNvbHZlIiwib2JqZWN0IiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRyZWplY3QiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNSZXNvbHZlciIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc05ldyIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlIiwiX2lkIiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkJGNvdW50ZXIiLCJsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJHBvbHlmaWxsIiwibG9jYWwiLCJnbG9iYWwiLCJzZWxmIiwiRnVuY3Rpb24iLCJFcnJvciIsIlAiLCJQcm9taXNlIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiY2FzdCIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0IiwibGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheSIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyV2luZG93IiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJHbG9iYWwiLCJNdXRhdGlvbk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc05vZGUiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNXb3JrZXIiLCJVaW50OENsYW1wZWRBcnJheSIsImltcG9ydFNjcmlwdHMiLCJfZWFjaEVudHJ5IiwiZW50cnkiLCJjIiwiX3NldHRsZWRBdCIsIl93aWxsU2V0dGxlQXQiLCJzdGF0ZSIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkZGVmYXVsdCIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJGRlZmF1bHQiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRkZWZhdWx0IiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRkZWZhdWx0IiwiYWxsIiwicmFjZSIsInJlamVjdCIsIl9zZXRTY2hlZHVsZXIiLCJfYXNhcCIsInJlc3VsdCIsImFyZ3VtZW50cyIsImNhdGNoIiwibGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0IiwibGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZSIsInBvbHlmaWxsIiwiZGVmaW5lIiwibW9kdWxlIiwibWV0aG9kIiwibm9vcCIsIm1ldGhvZHMiLCJjb25zb2xlIiwiZXhwb3J0cyIsImtpY2tiYWNrIiwiX3NlcmlhbGl6ZSIsIm9iaiIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsInB1c2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwicmVxdWVzdCIsImtiT3B0aW9ucyIsInRtcCIsInVybCIsImhlYWRlcnMiLCJjb3JzIiwiYXN5bmMiLCJzZXJpYWxpemUiLCJhdXRvIiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIkZvcm1EYXRhIiwiSFRNTEVsZW1lbnQiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsImFwcGVuZCIsImVsZW0iLCJuYW1lIiwibG9nIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25sb2FkIiwic3RhdHVzIiwicmVzcG9uc2UiLCJzdGF0dXNUeHQiLCJvbmVycm9yIiwidHlwZSIsInNldFJlcXVlc3RIZWFkZXIiLCJ0b0xvd2VyQ2FzZSIsInNlbmQiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJmb3JtRGF0YSIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JtRXJyb3IiLCJmb3JtSW5wdXQiLCJuYW1lX2Z1bGwiLCJlbWFpbCIsIm1zZyIsInN1Y2Nlc3MiLCJjb2RlIiwiZXJyIiwic2Nyb2xsU2V0Q2FjaGVkIiwiY2FjaGVTY3JvbGxQb3MiLCJzY3JvbGxZIiwiaGFuZGxlU2Nyb2xsIiwiaXNFbGVtZW50VmlzaWJsZSIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJpbm5lckhlaWdodCIsImJvdHRvbSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkIiwic2Nyb2xsVGltZXIiLCJzY3JvbGxDYWNoZVRpbWVyIiwibWVudWJhciIsImdldEVsZW1lbnRCeUlkIiwibWFzdGhlYWQiLCJzZWN0aW9ucyIsImluaXRpYWxCR0NvbG9yIiwiYkdDb2xvcl8xIiwiYkdDb2xvcl8yIiwiYkdDb2xvcl8zIiwiYkdDb2xvcl80IiwiYkdDb2xvcl81IiwiYkdDb2xvcl82Iiwib25zY3JvbGwiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInNtb290aFNjcm9sbCIsImFuY2hvciIsImR1cmF0aW9uIiwib2Zmc2V0IiwicnVuQW5pbWF0aW9uIiwidHJhdmVsbGVkIiwic3RhcnRMb2NhdGlvbiIsInBhZ2VZT2Zmc2V0IiwiZW5kTG9jYXRpb24iLCJvZmZzZXRUb3AiLCJkaXN0YW5jZSIsImluY3JlbWVudHMiLCJhbmltYXRlU2Nyb2xsIiwic2Nyb2xsQnkiLCJib2R5Iiwib2Zmc2V0SGVpZ2h0IiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJkYXRhSUQiLCJnZXRBdHRyaWJ1dGUiLCJkYXRhVGFyZ2V0IiwiZGF0YVNwZWVkIiwiZGF0YU9mZnNldCIsImZlZWRCdWlsZGVyIiwiZmVlZCIsImxpbWl0IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImNvbnRlbnQiLCJfIiwiZmVlZENvbnRhaW5lciIsImFwcGVuZENoaWxkIiwiZ2l0ZmVlZCIsIkpTT04iLCJwYXJzZSJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBQUEsU0FBQUMsR0FDQSxZQXFDQSxTQUFBQyxHQUFBQyxHQUNBLE1BQUFBLEdBQUFDLFFBQUEsSUFBQUMsR0FDQUQsUUFBQSxJQUFBQyxFQUFBQyxXQUFBQyxPQUFBLEVBQUEsSUFDQUgsUUFBQSxLQUFBSSxFQUFBLEdBQ0FKLFFBQUEsS0FBQUksRUFBQUYsV0FBQUcsT0FBQSxFQUFBRCxFQUFBLEVBQUEsS0FBQUEsRUFBQSxJQUNBSixRQUFBLElBQUFNLEVBQUFGLElBQ0FKLFFBQUEsSUFBQU0sRUFBQUYsR0FBQUYsV0FBQUMsT0FBQSxFQUFBLElBQ0FILFFBQUEsS0FBQU8sR0FDQVAsUUFBQSxLQUFBTyxFQUFBTCxXQUFBRyxPQUFBLEVBQUFFLEVBQUEsSUFBQUEsR0FDQVAsUUFBQSxJQUFBUSxFQUFBQyxHQUFBUCxXQUFBQyxPQUFBLEVBQUEsSUFDQUgsUUFBQSxJQUFBUSxFQUFBQyxJQTdDQSxHQUFBWixHQUFBQSxHQUFBLEdBQUFhLE1BQ0FOLEVBQUFQLEVBQUFjLFdBQ0FKLEVBQUFWLEVBQUFlLFVBQ0FILEVBQUFaLEVBQUFnQixTQUNBWixFQUFBSixFQUFBaUIsY0FNQVIsR0FMQVQsRUFBQWtCLFVBQ0FsQixFQUFBbUIsV0FDQW5CLEVBQUFvQixhQUNBcEIsRUFBQXFCLGNBR0EsVUFDQSxXQUNBLFFBQ0EsUUFDQSxNQUNBLE9BQ0EsT0FDQSxTQUNBLFlBQ0EsVUFDQSxXQUNBLGFBR0FWLEdB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QUFBb08sT0FBQUcsYUFBQSxRQUNBQyxFQUFBN1AsU0FBQWtNLGNBQUF5RCxHQUNBRyxFQUFBek8sRUFBQW9PLE9BQUFHLGFBQUEscUJBQUF2TyxFQUFBb08sT0FBQUcsYUFBQSxxQkFBQSxJQUNBRyxFQUFBMU8sRUFBQW9PLE9BQUFHLGFBQUEsc0JBQUF2TyxFQUFBb08sT0FBQUcsYUFBQSx1QkFBQSxDQUdBQyxJQUVBcEIsRUFBQW9CLEVBQUFDLEVBQUFDLE1BS0EsTUNuRUF2UyxPQUFBOE4sT0FBQSxXQUlBLFFBQUEwRSxHQUFBQyxFQUFBQyxHQUdBLElBQUEsR0FGQUEsR0FBQUEsR0FBQSxFQUVBclAsRUFBQSxFQUFBcVAsRUFBQXJQLEVBQUFBLElBQUEsQ0FDQSxHQUFBbUssR0FBQWhMLFNBQUFtUSxjQUFBLE1BQ0FuRixHQUFBcUMsVUFBQUcsSUFBQSxTQUNBeEMsRUFBQW9GLFVBQUFILEVBQUFwUCxHQUFBd1AsUUFBQSxHQUFBQyxFQUNBQyxFQUFBQyxZQUFBeEYsSUFWQSxHQUFBeUYsR0FDQUYsRUFBQXZRLFNBQUE0TixlQUFBLE9BZUF0RSxVQUFBUSxTQUNBRyxJQUFBLFFBQ0FoQixPQUFBLFFBRUFySCxLQUFBLFNBQUE0SixHQUNBaUYsRUFBQUMsS0FBQUMsTUFBQW5GLEVBQ0EsSUFBQWhHLEdBQUFpTCxFQUFBUixLQUFBdEksS0FFQXFJLEdBQUF4SyxFQUFBLEtBR0EsU0FBQSxTQUFBa0gsR0FDQSxNQUFBQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFRpbWVtYXAoZGF0ZU9iaikge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkYXRlT2JqID0gZGF0ZU9iaiB8fCBuZXcgRGF0ZSgpLFxuICAgIG1vbnRoID0gZGF0ZU9iai5nZXRNb250aCgpLCAvLyBjdXMgamF2YXNjcmlwdCBzdGFydHMgbW9udGggYXQgMFxuICAgIGRheSA9IGRhdGVPYmouZ2V0RGF0ZSgpLFxuICAgIGRheU9mV2VlayA9IGRhdGVPYmouZ2V0RGF5KCksXG4gICAgeWVhciA9IGRhdGVPYmouZ2V0RnVsbFllYXIoKSxcbiAgICB0aW1lID0gZGF0ZU9iai5nZXRUaW1lKCksXG4gICAgaG91ciA9IGRhdGVPYmouZ2V0SG91cnMoKSxcbiAgICBtaW51dGVzID0gZGF0ZU9iai5nZXRNaW51dGVzKCksXG4gICAgc2Vjb25kcyA9IGRhdGVPYmouZ2V0U2Vjb25kcygpO1xuXG4gICAgdmFyIG1vbnRocyA9IFtcbiAgICAgICAgJ0phbnVhcnknLFxuICAgICAgICAnRmVicnVhcnknLFxuICAgICAgICAnTWFyY2gnLFxuICAgICAgICAnQXByaWwnLFxuICAgICAgICAnTWF5JyxcbiAgICAgICAgJ0p1bmUnLFxuICAgICAgICAnSnVseScsXG4gICAgICAgICdBdWd1c3QnLFxuICAgICAgICAnU2VwdGVtYmVyJyxcbiAgICAgICAgJ09jdG9iZXInLFxuICAgICAgICAnTm92ZW1iZXInLFxuICAgICAgICAnRGVjZW1iZXInXG4gICAgXTtcblxuICAgIHZhciBkYXlzID0gW1xuICAgICAgICAnU3VuZGF5JyxcbiAgICAgICAgJ01vbmRheScsXG4gICAgICAgICdUdWVzZGF5JyxcbiAgICAgICAgJ1dlZG5lc2RheScsXG4gICAgICAgICdUaHVyc2RheScsXG4gICAgICAgICdGcmlkYXknLFxuICAgICAgICAnU2F0dXJkYXknXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGZvcm1hdChzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9ZLywgeWVhcikgLy8gMjAxNVxuICAgICAgICAucmVwbGFjZSgveS8sIHllYXIudG9TdHJpbmcoKS5zdWJzdHIoMiwzKSkgLy8xNVxuICAgICAgICAucmVwbGFjZSgvbW0vLCBtb250aCsxKSAvLzUsIDksIDExXG4gICAgICAgIC5yZXBsYWNlKC9NTS8sIChtb250aC50b1N0cmluZygpLmxlbmd0aCA+IDEpID8gbW9udGggKyAxIDogJzAnKyhtb250aCsxKSkgLy8gMDUsIDA5LCAxMVxuICAgICAgICAucmVwbGFjZSgvTS8sIG1vbnRoc1ttb250aF0pIC8vIEphbnVhcnksIE1hcmNoLCBKdW5lXG4gICAgICAgIC5yZXBsYWNlKC9tLywgbW9udGhzW21vbnRoXS50b1N0cmluZygpLnN1YnN0cigwLDMpKSAvLyBKYW4sIE1hciwgSnVuXG4gICAgICAgIC5yZXBsYWNlKC9kZC8sIGRheSkgLy8gMSwgNSwgMjAsIDI2XG4gICAgICAgIC5yZXBsYWNlKC9ERC8sIChkYXkudG9TdHJpbmcoKS5sZW5ndGggPiAxKSA/IGRheSA6ICcwJytkYXkpIC8vIDAxLCAwNCwgMTUsIDIyXG4gICAgICAgIC5yZXBsYWNlKC9kLywgZGF5c1tkYXlPZldlZWtdLnRvU3RyaW5nKCkuc3Vic3RyKDAsMykpIC8vIE1vbiwgVHVlXG4gICAgICAgIC5yZXBsYWNlKC9ELywgZGF5c1tkYXlPZldlZWtdKTsgLy8gTW9uZGF5LCBUdWVzZGF5XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICAgIGRhdGU6IGRhdGVPYmosXG4gICAgICAgIGZvcm1hdDogZm9ybWF0XG4gICAgfTtcbn07XG5cbmlmKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBUaW1lbWFwO1xufVxuIiwiLy8gUmVxdWVzdEFuaW1hdGlvbkZyYW1lIFBvbHlmaWxsXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxhc3RUaW1lID0gMDtcbiAgICB2YXIgdmVuZG9ycyA9IFsnd2Via2l0JywgJ21veiddO1xuICAgIGZvcih2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKyt4KSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdmVuZG9yc1t4XSsnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9XG4gICAgICAgICAgd2luZG93W3ZlbmRvcnNbeF0rJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ10gfHwgd2luZG93W3ZlbmRvcnNbeF0rJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgIH1cblxuICAgIGlmICghd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSlcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgY3VyclRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHZhciB0aW1lVG9DYWxsID0gTWF0aC5tYXgoMCwgMTYgLSAoY3VyclRpbWUgLSBsYXN0VGltZSkpO1xuICAgICAgICAgICAgdmFyIGlkID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNhbGxiYWNrKGN1cnJUaW1lICsgdGltZVRvQ2FsbCk7IH0sXG4gICAgICAgICAgICAgIHRpbWVUb0NhbGwpO1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBjdXJyVGltZSArIHRpbWVUb0NhbGw7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH07XG5cbiAgICBpZiAoIXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSlcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgICAgIH07XG59KCkpO1xuXG4vKiFcbiAqIEBvdmVydmlldyBlczYtcHJvbWlzZSAtIGEgdGlueSBpbXBsZW1lbnRhdGlvbiBvZiBQcm9taXNlcy9BKy5cbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE0IFllaHVkYSBLYXR6LCBUb20gRGFsZSwgU3RlZmFuIFBlbm5lciBhbmQgY29udHJpYnV0b3JzIChDb252ZXJzaW9uIHRvIEVTNiBBUEkgYnkgSmFrZSBBcmNoaWJhbGQpXG4gKiBAbGljZW5zZSAgIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlXG4gKiAgICAgICAgICAgIFNlZSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vamFrZWFyY2hpYmFsZC9lczYtcHJvbWlzZS9tYXN0ZXIvTElDRU5TRVxuICogQHZlcnNpb24gICAyLjIuMFxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdXRpbHMkJG9iamVjdE9yRnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nIHx8ICh0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPT0gbnVsbCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzTWF5YmVUaGVuYWJsZSh4KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzQXJyYXkgPSBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuID0gMDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR2ZXJ0eE5leHQ7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbjtcblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwKGNhbGxiYWNrLCBhcmcpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuXSA9IGNhbGxiYWNrO1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2xpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gKyAxXSA9IGFyZztcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gKz0gMjtcbiAgICAgIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuID09PSAyKSB7XG4gICAgICAgIC8vIElmIGxlbiBpcyAyLCB0aGF0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byBzY2hlZHVsZSBhbiBhc3luYyBmbHVzaC5cbiAgICAgICAgLy8gSWYgYWRkaXRpb25hbCBjYWxsYmFja3MgYXJlIHF1ZXVlZCBiZWZvcmUgdGhlIHF1ZXVlIGlzIGZsdXNoZWQsIHRoZXlcbiAgICAgICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgICAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzZXRTY2hlZHVsZXIoc2NoZWR1bGVGbikge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuID0gc2NoZWR1bGVGbjtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJXaW5kb3cgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpID8gd2luZG93IDogdW5kZWZpbmVkO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3Nlckdsb2JhbCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyV2luZG93IHx8IHt9O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3Nlckdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYge30udG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4gICAgLy8gdGVzdCBmb3Igd2ViIHdvcmtlciBidXQgbm90IGluIElFMTBcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIGltcG9ydFNjcmlwdHMgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4gICAgLy8gbm9kZVxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VOZXh0VGljaygpIHtcbiAgICAgIHZhciBuZXh0VGljayA9IHByb2Nlc3MubmV4dFRpY2s7XG4gICAgICAvLyBub2RlIHZlcnNpb24gMC4xMC54IGRpc3BsYXlzIGEgZGVwcmVjYXRpb24gd2FybmluZyB3aGVuIG5leHRUaWNrIGlzIHVzZWQgcmVjdXJzaXZlbHlcbiAgICAgIC8vIHNldEltbWVkaWF0ZSBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIGluc3RlYWRcbiAgICAgIHZhciB2ZXJzaW9uID0gcHJvY2Vzcy52ZXJzaW9ucy5ub2RlLm1hdGNoKC9eKD86KFxcZCspXFwuKT8oPzooXFxkKylcXC4pPyhcXCp8XFxkKykkLyk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2ZXJzaW9uKSAmJiB2ZXJzaW9uWzFdID09PSAnMCcgJiYgdmVyc2lvblsyXSA9PT0gJzEwJykge1xuICAgICAgICBuZXh0VGljayA9IHNldEltbWVkaWF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbmV4dFRpY2sobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gdmVydHhcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlVmVydHhUaW1lcigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dChsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBsaWIkZXM2JHByb21pc2UkYXNhcCQkQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbm9kZS5kYXRhID0gKGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gd2ViIHdvcmtlclxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VTZXRUaW1lb3V0KCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCwgMSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuOyBpKz0yKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpXTtcbiAgICAgICAgdmFyIGFyZyA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpKzFdO1xuXG4gICAgICAgIGNhbGxiYWNrKGFyZyk7XG5cbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2ldID0gdW5kZWZpbmVkO1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaSsxXSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJGF0dGVtcHRWZXJ0ZXgoKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgciA9IHJlcXVpcmU7XG4gICAgICAgIHZhciB2ZXJ0eCA9IHIoJ3ZlcnR4Jyk7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVZlcnR4VGltZXIoKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVNldFRpbWVvdXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2g7XG4gICAgLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbiAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGlzTm9kZSkge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTmV4dFRpY2soKTtcbiAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTXV0YXRpb25PYnNlcnZlcigpO1xuICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGlzV29ya2VyKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJXaW5kb3cgPT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXR0ZW1wdFZlcnRleCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VTZXRUaW1lb3V0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCgpIHt9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyAgID0gdm9pZCAwO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQgPSAxO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCAgPSAyO1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SID0gbmV3IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0KCk7XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzZWxmRnVsbGZpbGxtZW50KCkge1xuICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXCJZb3UgY2Fubm90IHJlc29sdmUgYSBwcm9taXNlIHdpdGggaXRzZWxmXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGNhbm5vdFJldHVybk93bigpIHtcbiAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKCdBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZ2V0VGhlbihwcm9taXNlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuO1xuICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUi5lcnJvciA9IGVycm9yO1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5VGhlbih0aGVuLCB2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcik7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlLCB0aGVuKSB7XG4gICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQoZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvciA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeVRoZW4odGhlbiwgdGhlbmFibGUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHNlYWxlZCkgeyByZXR1cm47IH1cbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgICAgIGlmICh0aGVuYWJsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAgIGlmIChzZWFsZWQpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgc2VhbGVkID0gdHJ1ZTtcblxuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICB9LCAnU2V0dGxlOiAnICsgKHByb21pc2UuX2xhYmVsIHx8ICcgdW5rbm93biBwcm9taXNlJykpO1xuXG4gICAgICAgIGlmICghc2VhbGVkICYmIGVycm9yKSB7XG4gICAgICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9LCBwcm9taXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSkge1xuICAgICAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHRoZW5hYmxlLCB1bmRlZmluZWQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUpIHtcbiAgICAgIGlmIChtYXliZVRoZW5hYmxlLmNvbnN0cnVjdG9yID09PSBwcm9taXNlLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRoZW4gPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRnZXRUaGVuKG1heWJlVGhlbmFibGUpO1xuXG4gICAgICAgIGlmICh0aGVuID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUi5lcnJvcik7XG4gICAgICAgIH0gZWxzZSBpZiAodGhlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICAgICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24odGhlbikpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpIHtcbiAgICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc2VsZkZ1bGxmaWxsbWVudCgpKTtcbiAgICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRvYmplY3RPckZ1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICAgICAgaWYgKHByb21pc2UuX29uZXJyb3IpIHtcbiAgICAgICAgcHJvbWlzZS5fb25lcnJvcihwcm9taXNlLl9yZXN1bHQpO1xuICAgICAgfVxuXG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoKHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykgeyByZXR1cm47IH1cblxuICAgICAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gICAgICBwcm9taXNlLl9zdGF0ZSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRDtcblxuICAgICAgaWYgKHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkZGVmYXVsdChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoLCBwcm9taXNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKSB7XG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHsgcmV0dXJuOyB9XG4gICAgICBwcm9taXNlLl9zdGF0ZSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEO1xuICAgICAgcHJvbWlzZS5fcmVzdWx0ID0gcmVhc29uO1xuXG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkZGVmYXVsdChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgIHZhciBzdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gICAgICB2YXIgbGVuZ3RoID0gc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG4gICAgICBwYXJlbnQuX29uZXJyb3IgPSBudWxsO1xuXG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGhdID0gY2hpbGQ7XG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGggKyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRURdID0gb25GdWxmaWxsbWVudDtcbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aCArIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEXSAgPSBvblJlamVjdGlvbjtcblxuICAgICAgaWYgKGxlbmd0aCA9PT0gMCAmJiBwYXJlbnQuX3N0YXRlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRkZWZhdWx0KGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gsIHBhcmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaChwcm9taXNlKSB7XG4gICAgICB2YXIgc3Vic2NyaWJlcnMgPSBwcm9taXNlLl9zdWJzY3JpYmVycztcbiAgICAgIHZhciBzZXR0bGVkID0gcHJvbWlzZS5fc3RhdGU7XG5cbiAgICAgIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHsgcmV0dXJuOyB9XG5cbiAgICAgIHZhciBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICBjaGlsZCA9IHN1YnNjcmliZXJzW2ldO1xuICAgICAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2soZGV0YWlsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0KCkge1xuICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUiA9IG5ldyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCgpO1xuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5Q2F0Y2goY2FsbGJhY2ssIGRldGFpbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGRldGFpbCk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SLmVycm9yID0gZTtcbiAgICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7XG4gICAgICB2YXIgaGFzQ2FsbGJhY2sgPSBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24oY2FsbGJhY2spLFxuICAgICAgICAgIHZhbHVlLCBlcnJvciwgc3VjY2VlZGVkLCBmYWlsZWQ7XG5cbiAgICAgIGlmIChoYXNDYWxsYmFjaykge1xuICAgICAgICB2YWx1ZSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpO1xuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SKSB7XG4gICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICBlcnJvciA9IHZhbHVlLmVycm9yO1xuICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBkZXRhaWw7XG4gICAgICAgIHN1Y2NlZWRlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykge1xuICAgICAgICAvLyBub29wXG4gICAgICB9IGVsc2UgaWYgKGhhc0NhbGxiYWNrICYmIHN1Y2NlZWRlZCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoZmFpbGVkKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbml0aWFsaXplUHJvbWlzZShwcm9taXNlLCByZXNvbHZlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzb2x2ZXIoZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpe1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICB9LCBmdW5jdGlvbiByZWplY3RQcm9taXNlKHJlYXNvbikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IoQ29uc3RydWN0b3IsIGlucHV0KSB7XG4gICAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICAgIGVudW1lcmF0b3IuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICAgIGVudW1lcmF0b3IucHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcblxuICAgICAgaWYgKGVudW1lcmF0b3IuX3ZhbGlkYXRlSW5wdXQoaW5wdXQpKSB7XG4gICAgICAgIGVudW1lcmF0b3IuX2lucHV0ICAgICA9IGlucHV0O1xuICAgICAgICBlbnVtZXJhdG9yLmxlbmd0aCAgICAgPSBpbnB1dC5sZW5ndGg7XG4gICAgICAgIGVudW1lcmF0b3IuX3JlbWFpbmluZyA9IGlucHV0Lmxlbmd0aDtcblxuICAgICAgICBlbnVtZXJhdG9yLl9pbml0KCk7XG5cbiAgICAgICAgaWYgKGVudW1lcmF0b3IubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChlbnVtZXJhdG9yLnByb21pc2UsIGVudW1lcmF0b3IuX3Jlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW51bWVyYXRvci5sZW5ndGggPSBlbnVtZXJhdG9yLmxlbmd0aCB8fCAwO1xuICAgICAgICAgIGVudW1lcmF0b3IuX2VudW1lcmF0ZSgpO1xuICAgICAgICAgIGlmIChlbnVtZXJhdG9yLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwoZW51bWVyYXRvci5wcm9taXNlLCBlbnVtZXJhdG9yLl9yZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KGVudW1lcmF0b3IucHJvbWlzZSwgZW51bWVyYXRvci5fdmFsaWRhdGlvbkVycm9yKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fdmFsaWRhdGVJbnB1dCA9IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0FycmF5KGlucHV0KTtcbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl92YWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0FycmF5IE1ldGhvZHMgbXVzdCBiZSBwcm92aWRlZCBhbiBBcnJheScpO1xuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3Jlc3VsdCA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG4gICAgfTtcblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yO1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9lbnVtZXJhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICAgICAgdmFyIGxlbmd0aCAgPSBlbnVtZXJhdG9yLmxlbmd0aDtcbiAgICAgIHZhciBwcm9taXNlID0gZW51bWVyYXRvci5wcm9taXNlO1xuICAgICAgdmFyIGlucHV0ICAgPSBlbnVtZXJhdG9yLl9pbnB1dDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IHByb21pc2UuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HICYmIGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBlbnVtZXJhdG9yLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX2VhY2hFbnRyeSA9IGZ1bmN0aW9uKGVudHJ5LCBpKSB7XG4gICAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG4gICAgICB2YXIgYyA9IGVudW1lcmF0b3IuX2luc3RhbmNlQ29uc3RydWN0b3I7XG5cbiAgICAgIGlmIChsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzTWF5YmVUaGVuYWJsZShlbnRyeSkpIHtcbiAgICAgICAgaWYgKGVudHJ5LmNvbnN0cnVjdG9yID09PSBjICYmIGVudHJ5Ll9zdGF0ZSAhPT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykge1xuICAgICAgICAgIGVudHJ5Ll9vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoZW50cnkuX3N0YXRlLCBpLCBlbnRyeS5fcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbnVtZXJhdG9yLl93aWxsU2V0dGxlQXQoYy5yZXNvbHZlKGVudHJ5KSwgaSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVudW1lcmF0b3IuX3JlbWFpbmluZy0tO1xuICAgICAgICBlbnVtZXJhdG9yLl9yZXN1bHRbaV0gPSBlbnRyeTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbihzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcbiAgICAgIHZhciBwcm9taXNlID0gZW51bWVyYXRvci5wcm9taXNlO1xuXG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgZW51bWVyYXRvci5fcmVtYWluaW5nLS07XG5cbiAgICAgICAgaWYgKHN0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW51bWVyYXRvci5fcmVzdWx0W2ldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVudW1lcmF0b3IuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIGVudW1lcmF0b3IuX3Jlc3VsdCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fd2lsbFNldHRsZUF0ID0gZnVuY3Rpb24ocHJvbWlzZSwgaSkge1xuICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBlbnVtZXJhdG9yLl9zZXR0bGVkQXQobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgZW51bWVyYXRvci5fc2V0dGxlZEF0KGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVELCBpLCByZWFzb24pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGFsbChlbnRyaWVzKSB7XG4gICAgICByZXR1cm4gbmV3IGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRkZWZhdWx0KHRoaXMsIGVudHJpZXMpLnByb21pc2U7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGFsbDtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRyYWNlKGVudHJpZXMpIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcblxuICAgICAgaWYgKCFsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzQXJyYXkoZW50cmllcykpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIGZ1bmN0aW9uIG9uRnVsZmlsbG1lbnQodmFsdWUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uUmVqZWN0aW9uKHJlYXNvbikge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IHByb21pc2UuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HICYmIGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUoQ29uc3RydWN0b3IucmVzb2x2ZShlbnRyaWVzW2ldKSwgdW5kZWZpbmVkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJHJhY2U7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkcmVzb2x2ZShvYmplY3QpIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gICAgICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gQ29uc3RydWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRyZXNvbHZlO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkcmVqZWN0KHJlYXNvbikge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJHJlamVjdDtcblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkY291bnRlciA9IDA7XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNSZXNvbHZlcigpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNOZXcoKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlO1xuICAgIC8qKlxuICAgICAgQGNsYXNzIFByb21pc2VcbiAgICAgIEBwYXJhbSB7ZnVuY3Rpb259IHJlc29sdmVyXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAY29uc3RydWN0b3JcbiAgICAqL1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgICB0aGlzLl9pZCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRjb3VudGVyKys7XG4gICAgICB0aGlzLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICAgIGlmIChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wICE9PSByZXNvbHZlcikge1xuICAgICAgICBpZiAoIWxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbihyZXNvbHZlcikpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNSZXNvbHZlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlKSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc05ldygpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW5pdGlhbGl6ZVByb21pc2UodGhpcywgcmVzb2x2ZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLmFsbCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yYWNlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yZXNvbHZlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yZWplY3QgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuX3NldFNjaGVkdWxlciA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzZXRTY2hlZHVsZXI7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuX2FzYXAgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkZGVmYXVsdDtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLnByb3RvdHlwZSA9IHtcbiAgICAgIGNvbnN0cnVjdG9yOiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZSxcblxuICAgIC8qKlxuICAgICAgQG1ldGhvZCB0aGVuXG4gICAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxlZFxuICAgICAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3RlZFxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQHJldHVybiB7UHJvbWlzZX1cbiAgICAqL1xuICAgICAgdGhlbjogZnVuY3Rpb24ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXM7XG4gICAgICAgIHZhciBzdGF0ZSA9IHBhcmVudC5fc3RhdGU7XG5cbiAgICAgICAgaWYgKHN0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQgJiYgIW9uRnVsZmlsbG1lbnQgfHwgc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEICYmICFvblJlamVjdGlvbikge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG4gICAgICAgIHZhciByZXN1bHQgPSBwYXJlbnQuX3Jlc3VsdDtcblxuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbc3RhdGUgLSAxXTtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkZGVmYXVsdChmdW5jdGlvbigpe1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc3RhdGUsIGNoaWxkLCBjYWxsYmFjaywgcmVzdWx0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfSxcblxuICAgIC8qKlxuICAgICAgQG1ldGhvZCBjYXRjaFxuICAgICAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICAgKi9cbiAgICAgICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRwb2x5ZmlsbCgpIHtcbiAgICAgIHZhciBsb2NhbDtcblxuICAgICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbG9jYWwgPSBnbG9iYWw7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGxvY2FsID0gc2VsZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgbG9jYWwgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBQID0gbG9jYWwuUHJvbWlzZTtcblxuICAgICAgaWYgKFAgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKSA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsb2NhbC5Qcm9taXNlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGRlZmF1bHQ7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJHBvbHlmaWxsO1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2UgPSB7XG4gICAgICAnUHJvbWlzZSc6IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0LFxuICAgICAgJ3BvbHlmaWxsJzogbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0XG4gICAgfTtcblxuICAgIC8qIGdsb2JhbCBkZWZpbmU6dHJ1ZSBtb2R1bGU6dHJ1ZSB3aW5kb3c6IHRydWUgKi9cbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmVbJ2FtZCddKSB7XG4gICAgICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlOyB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZVsnZXhwb3J0cyddKSB7XG4gICAgICBtb2R1bGVbJ2V4cG9ydHMnXSA9IGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2U7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXNbJ0VTNlByb21pc2UnXSA9IGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2U7XG4gICAgfVxuXG4gICAgbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0KCk7XG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gQXZvaWQgYGNvbnNvbGVgIGVycm9ycyBpbiBicm93c2VycyB0aGF0IGxhY2sgYSBjb25zb2xlLlxuKGZ1bmN0aW9uKCkge1xuICAgIHZhciBtZXRob2Q7XG4gICAgdmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICB2YXIgbWV0aG9kcyA9IFtcbiAgICAgICAgJ2Fzc2VydCcsICdjbGVhcicsICdjb3VudCcsICdkZWJ1ZycsICdkaXInLCAnZGlyeG1sJywgJ2Vycm9yJyxcbiAgICAgICAgJ2V4Y2VwdGlvbicsICdncm91cCcsICdncm91cENvbGxhcHNlZCcsICdncm91cEVuZCcsICdpbmZvJywgJ2xvZycsXG4gICAgICAgICdtYXJrVGltZWxpbmUnLCAncHJvZmlsZScsICdwcm9maWxlRW5kJywgJ3RhYmxlJywgJ3RpbWUnLCAndGltZUVuZCcsXG4gICAgICAgICd0aW1lbGluZScsICd0aW1lbGluZUVuZCcsICd0aW1lU3RhbXAnLCAndHJhY2UnLCAnd2FybidcbiAgICBdO1xuICAgIHZhciBsZW5ndGggPSBtZXRob2RzLmxlbmd0aDtcbiAgICB2YXIgY29uc29sZSA9ICh3aW5kb3cuY29uc29sZSA9IHdpbmRvdy5jb25zb2xlIHx8IHt9KTtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBtZXRob2QgPSBtZXRob2RzW2xlbmd0aF07XG5cbiAgICAgICAgLy8gT25seSBzdHViIHVuZGVmaW5lZCBtZXRob2RzLlxuICAgICAgICBpZiAoIWNvbnNvbGVbbWV0aG9kXSkge1xuICAgICAgICAgICAgY29uc29sZVttZXRob2RdID0gbm9vcDtcbiAgICAgICAgfVxuICAgIH1cbn0oKSk7XG4iLCJ2YXIga2lja2JhY2sgPSAoZnVuY3Rpb24oa2lja2JhY2spIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgLy8gbWFrZSBhIG5ldyBvYmplY3RcbiAgICBraWNrYmFjayA9IHt9O1xuXG4gICAgLy8gcHJpdmF0ZSBtZXRob2RcbiAgICBmdW5jdGlvbiBfc2VyaWFsaXplKG9iaikge1xuICAgICAgICB2YXIgc3RyID0gW107XG4gICAgICAgIGZvcih2YXIgcCBpbiBvYmope1xuICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgICAgICAgIHN0ci5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChwKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtwXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHIuam9pbihcIiZcIik7XG4gICAgfTtcblxuICAgIC8vIG1haW4gcHVibGljIG1ldGhvZFxuICAgIGtpY2tiYWNrLnJlcXVlc3QgPSBmdW5jdGlvbihrYk9wdGlvbnMpIHtcbiAgICAgICAgLy8gb3B0aW9ucyBjb25maWd1cmF0aW9uIGFuZCBkZWZhdWx0c1xuICAgICAgICBpZih0eXBlb2Yga2JPcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gYXNzdW1lIGl0J3MgYSB1cmwgYW5kIHdlIGFyZSB1c2luZyBHRVQgXG4gICAgICAgICAgICB2YXIgdG1wID0ga2JPcHRpb25zO1xuICAgICAgICAgICAga2JPcHRpb25zID0ge307XG4gICAgICAgICAgICBrYk9wdGlvbnMudXJsID0gdG1wO1xuICAgICAgICAgICAgdG1wID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGtiT3B0aW9ucy51cmwgPSAoa2JPcHRpb25zLnVybCkgPyBrYk9wdGlvbnMudXJsIDogJy8nO1xuICAgICAgICBrYk9wdGlvbnMuZGF0YSA9IChrYk9wdGlvbnMuZGF0YSkgPyBrYk9wdGlvbnMuZGF0YSA6IG51bGw7XG4gICAgICAgIGtiT3B0aW9ucy5tZXRob2QgPSAoa2JPcHRpb25zLm1ldGhvZCkgPyBrYk9wdGlvbnMubWV0aG9kIDogJ0dFVCc7XG4gICAgICAgIGtiT3B0aW9ucy5oZWFkZXJzID0gKGtiT3B0aW9ucy5oZWFkZXJzKSA/IGtiT3B0aW9ucy5oZWFkZXJzIDogZmFsc2U7XG4gICAgICAgIGtiT3B0aW9ucy5jb3JzID0gKGtiT3B0aW9ucy5jb3JzKSA/IGtiT3B0aW9ucy5jb3JzIDogZmFsc2U7XG4gICAgICAgIGtiT3B0aW9ucy5hc3luYyA9IChrYk9wdGlvbnMuYXN5bmMpID8ga2JPcHRpb25zLmFzeW5jIDogdHJ1ZTtcbiAgICAgICAga2JPcHRpb25zLnNlcmlhbGl6ZSA9IChrYk9wdGlvbnMuc2VyaWFsaXplKSA/IGtiT3B0aW9ucy5zZXJpYWxpemUgOiBmYWxzZTtcbiAgICAgICAga2JPcHRpb25zLmF1dG8gPSAoa2JPcHRpb25zLmF1dG8pID8ga2JPcHRpb25zLmF1dG8gOiBmYWxzZTsgXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShrYk9wdGlvbnMsICd0bXAnLCB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZihrYk9wdGlvbnMuYXV0byA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYodHlwZW9mIHdpbmRvdy5Gb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcpIHsgXG4gICAgICAgICAgICAgICAgaWYoa2JPcHRpb25zLmRhdGEgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBrYk9wdGlvbnMuZGF0YSA9IG5ldyBGb3JtRGF0YShrYk9wdGlvbnMuZGF0YSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Yga2JPcHRpb25zLmRhdGEgPT09ICdvYmplY3QnICYmIGtiT3B0aW9ucy5kYXRhIGluc3RhbmNlb2YgQXJyYXkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGtiT3B0aW9ucy50bXAgPSBrYk9wdGlvbnMuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAga2JPcHRpb25zLmRhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoa2JPcHRpb25zLnRtcCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtiT3B0aW9ucy5kYXRhLmFwcGVuZChrZXksIGtiT3B0aW9ucy50bXBba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUga2JPcHRpb25zLnRtcDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1Ym1pdCBkYXRhIGFzIG9iamVjdCBvciBIVE1MRWxlbWVudCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYoa2JPcHRpb25zLmRhdGEgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBrYk9wdGlvbnMudG1wID0ge307XG4gICAgICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChrYk9wdGlvbnMuZGF0YSwgZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAga2JPcHRpb25zLnRtcFtlbGVtLm5hbWVdID0gZWxlbS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGtiT3B0aW9ucy5kYXRhID0ga2JPcHRpb25zLnRtcDtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGtiT3B0aW9ucy50bXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGtiT3B0aW9ucy5zZXJpYWxpemUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoa2JPcHRpb25zLnNlcmlhbGl6ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAga2JPcHRpb25zLmRhdGEgPSBfc2VyaWFsaXplKGtiT3B0aW9ucy5kYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGtiT3B0aW9ucy5kYXRhIGluc3RhbmNlb2YgRm9ybURhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmb3JtREFUQScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ25vdEZvcm1EYXRhJyk7XG4gICAgICAgIH0gXG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgeGhyLm9wZW4oa2JPcHRpb25zLm1ldGhvZCwga2JPcHRpb25zLnVybCwga2JPcHRpb25zLmFzeW5jKTtcblxuICAgICAgICAgICAgLy8gY2hlY2sgc3RhdHVzXG4gICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYoeGhyLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh4aHIucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChFcnJvcignRXJyb3I6ICcsIHhoci5zdGF0dXNUeHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBuZXR3b3JrIGVycm9yXG4gICAgICAgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdChFcnJvcignTmV0d29yayBFcnJvcicpKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIHNldCBoZWFkZXJzXG4gICAgICAgICAgICBpZihrYk9wdGlvbnMuaGVhZGVycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBrYk9wdGlvbnMuaGVhZGVycy50eXBlID0ga2JPcHRpb25zLmhlYWRlcnMudHlwZSB8fCAnQ29udGVudC1UeXBlJztcbiAgICAgICAgICAgICAgICBrYk9wdGlvbnMuaGVhZGVycy52YWx1ZSA9IGtiT3B0aW9ucy5oZWFkZXJzLnZhbHVlIHx8ICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnO1xuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtiT3B0aW9ucy5oZWFkZXJzLnR5cGUsIGtiT3B0aW9ucy5oZWFkZXJzLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoa2JPcHRpb25zLmhlYWRlcnMgPT09IGZhbHNlICYmIGtiT3B0aW9ucy5tZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ3Bvc3QnICYmIGtiT3B0aW9ucy5zZXJpYWxpemUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFrZSB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgaWYoa2JPcHRpb25zLm1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAnZ2V0Jykge1xuICAgICAgICAgICAgICAgIHhoci5zZW5kKG51bGwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4aHIuc2VuZChrYk9wdGlvbnMuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07IC8vIGVuZCBtYWluIG1ldGhvZFxuXG5cbiAgICByZXR1cm4ga2lja2JhY2s7XG5cbn0oa2lja2JhY2spKTtcblxuLy8gc2VlIGlmIHdlIGFyZSBpbiBub2RlIGlmIHNvIHN1cHBvcnQgaXQhXG5pZih0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0ga2lja2JhY2s7XG59XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBmb3JtRGF0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0jY29udGFjdCcpLFxuICAgICAgICBmb3JtRXJyb3IgPSB7fTtcblxuICAgIFtdLmZvckVhY2guY2FsbChmb3JtRGF0YSwgZnVuY3Rpb24oZm9ybUlucHV0KSB7XG4gICAgICBpZihmb3JtSW5wdXQudmFsdWUgPT0gJycpIHtcbiAgICAgICAgZm9ybUVycm9yW2Zvcm1JbnB1dC5uYW1lXSA9ICdyZXF1aXJlZCc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZihPYmplY3Qua2V5cyhmb3JtRXJyb3IpLmxlbmd0aCkge1xuICAgICAgZm9yKHZhciBlcnJvciBpbiBmb3JtRXJyb3IpIHtcbiAgICAgICAgaWYoZm9ybUVycm9yLmhhc093blByb3BlcnR5KGVycm9yKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciAnK2Vycm9yKycgJytmb3JtRXJyb3JbZXJyb3JdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBraWNrYmFjay5yZXF1ZXN0KHtcbiAgICAgICAgdXJsOiAnL2NvbnRhY3QnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBuYW1lX2Z1bGw6IGZvcm1EYXRhLm5hbWVfZnVsbC52YWx1ZSxcbiAgICAgICAgICAgIGVtYWlsOiBmb3JtRGF0YS5lbWFpbC52YWx1ZSxcbiAgICAgICAgICAgIG1zZzogZm9ybURhdGEubXNnLnZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBzZXJpYWxpemU6IHRydWVcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBpZihyZXNwb25zZS5zdWNjZXNzID09PSB0cnVlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1NVQ0NFU1MnLCByZXNwb25zZSk7XG4gICAgICAgIH0gZWxzZSBpZihyZXNwb25zZS5jb2RlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2htbW0nLCByZXNwb25zZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGFuZycsIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9KVsnY2F0Y2gnXShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1Byb20gZmFpbDogJyxlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIH0sIGZhbHNlKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24od2luZG93KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHNjcm9sbFRpbWVyID0gbnVsbCxcbiAgICAgICAgc2Nyb2xsQ2FjaGVUaW1lciA9IG51bGwsXG4gICAgICAgIGNhY2hlU2Nyb2xsUG9zID0gMDtcblxuICAgIHZhciBuYXZtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndWxbcm9sZT1cIm1lbnViYXJcIl0nKSxcbiAgICAgICAgbWVudWJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLW5hdicpLFxuICAgICAgICBtYXN0aGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXN0aGVhZCcpO1xuXG4gICAgdmFyIHNlY3Rpb25zID0gW1xuICAgICAgICAgICAgJyNhYm91dCcsXG4gICAgICAgICAgICAnI3dvcmsnLFxuICAgICAgICAgICAgJyNwcm9qZWN0cydcbiAgICAgICAgXTtcblxuICAgIHZhciBpbml0aWFsQkdDb2xvciA9ICcjZWFlYWVhJyxcbiAgICAgICAgYkdDb2xvcl8xID0gJyNBRkI0RDgnLFxuICAgICAgICBiR0NvbG9yXzIgPSAnIzZGOTRCRScsXG4gICAgICAgIGJHQ29sb3JfMyA9ICcjNkVBRUIzJyxcbiAgICAgICAgYkdDb2xvcl80ID0gJyM2NkNGOTcnLFxuICAgICAgICBiR0NvbG9yXzUgPSAnIzQ5REI0NScsXG4gICAgICAgIGJHQ29sb3JfNiA9ICcjMURFNDEwJztcblxuICAgIGZ1bmN0aW9uIHNjcm9sbFNldENhY2hlZCgpIHtcbiAgICAgICAgY2FjaGVTY3JvbGxQb3MgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgICAgY29uc29sZS5sb2coJ3NldCBjYWNoZSBZJywgY2FjaGVTY3JvbGxQb3MpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVNjcm9sbCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3Njcm9sbGluZyBzdG9wcGVkJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNFbGVtZW50VmlzaWJsZShlbGVtKSB7XG4gICAgICAgIGlmKHR5cGVvZiBlbGVtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbSk7XG4gICAgICAgIH1cbiAgICAgICBcbiAgICAgICAgaWYoIWVsZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgXG4gICAgICAgIGlmKHJlY3QudG9wID4gd2luZG93LmlubmVySGVpZ2h0IHx8IHJlY3QuYm90dG9tIDwgMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZWxlbSwgJ2lzIE5PVCBpbiB2aWV3Jyk7XG4gICAgICAgICAgICBpZihlbGVtLmNsYXNzTGlzdC5jb250YWlucygnaW4tdmlldycpKSB7XG4gICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdpbi12aWV3Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlbGVtLCAnaXMgaW4gdmlldycpO1xuICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdpbi12aWV3Jyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uIGRldGVjdFNjcm9sbChlKSB7XG4gICAgICAgIGlmKHNjcm9sbFRpbWVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChzY3JvbGxUaW1lcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZihzY3JvbGxDYWNoZVRpbWVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChzY3JvbGxDYWNoZVRpbWVyKTtcbiAgICAgICAgfSBcblxuICAgICAgICBpZihjYWNoZVNjcm9sbFBvcyA8IHdpbmRvdy5zY3JvbGxZKSB7XG4gICAgICAgICAgICAvL3Njcm9sbGluZyBkb3duIFxuICAgICAgICAgICAgbWVudWJhci5jbGFzc0xpc3QuYWRkKCdoaWRlLW5hdicpO1xuICAgICAgICB9XG4gICAgICAgIGlmKGNhY2hlU2Nyb2xsUG9zID4gd2luZG93LnNjcm9sbFkpIHtcbiAgICAgICAgICAgIC8vc2Nyb2xsaW5nIHVwXG4gICAgICAgICAgICBtZW51YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtbmF2Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBzY3JvbGxUaW1lciA9IHNldFRpbWVvdXQoaGFuZGxlU2Nyb2xsLCAxNTAwKTtcbiAgICAgICAgc2Nyb2xsQ2FjaGVUaW1lciA9IHNldFRpbWVvdXQoc2Nyb2xsU2V0Q2FjaGVkLCAxMDApO1xuXG4gICAgICAgIGlmKHdpbmRvdy5zY3JvbGxZID09IDApIHsgbWFzdGhlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gaW5pdGlhbEJHQ29sb3I7IH0gXG4gICAgICAgIGlmKHdpbmRvdy5zY3JvbGxZID4gMCAmJiB3aW5kb3cuc2Nyb2xsWSA8PSAyMCkgeyBtYXN0aGVhZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiR0NvbG9yXzE7IH1cbiAgICAgICAgaWYod2luZG93LnNjcm9sbFkgPj0gMjEgJiYgd2luZG93LnNjcm9sbFkgPD0gNDApIHsgbWFzdGhlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYkdDb2xvcl8yOyB9XG4gICAgICAgIGlmKHdpbmRvdy5zY3JvbGxZID49IDQxICYmIHdpbmRvdy5zY3JvbGxZIDw9IDYwKSB7IG1hc3RoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJHQ29sb3JfMzsgfVxuICAgICAgICBpZih3aW5kb3cuc2Nyb2xsWSA+PSA2MSAmJiB3aW5kb3cuc2Nyb2xsWSA8PSA4MCkgeyBtYXN0aGVhZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiR0NvbG9yXzQ7IH1cbiAgICAgICAgaWYod2luZG93LnNjcm9sbFkgPj0gODEgJiYgd2luZG93LnNjcm9sbFkgPD0gMTAwKSB7IG1hc3RoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJHQ29sb3JfNTsgfVxuICAgICAgICBpZih3aW5kb3cuc2Nyb2xsWSA+PSAxMDEgJiYgd2luZG93LnNjcm9sbFkgPD0gMTIwKSB7IG1hc3RoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJHQ29sb3JfNjsgfVxuICAgICAgICBpZih3aW5kb3cuc2Nyb2xsWSA+PSAxMjEpIHsgbWFzdGhlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gaW5pdGlhbEJHQ29sb3I7IH1cblxuICAgICAgICBzZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICAgIGlzRWxlbWVudFZpc2libGUoZWxlbSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbn0pKHdpbmRvdyk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBGdW5jdGlvbiB0byBhbmltYXRlIHRoZSBzY3JvbGxcbiAgICB2YXIgc21vb3RoU2Nyb2xsID0gZnVuY3Rpb24oYW5jaG9yLCBkdXJhdGlvbiwgb2Zmc2V0KSB7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSBob3cgZmFyIGFuZCBob3cgZmFzdCB0byBzY3JvbGxcbiAgICAgIHZhciBzdGFydExvY2F0aW9uID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgdmFyIGVuZExvY2F0aW9uID0gYW5jaG9yLm9mZnNldFRvcDtcbiAgICAgIHZhciBkaXN0YW5jZSA9IGVuZExvY2F0aW9uIC0gc3RhcnRMb2NhdGlvbjtcbiAgICAgIHZhciBpbmNyZW1lbnRzID0gZGlzdGFuY2UgLyAoZHVyYXRpb24gLyAxNik7XG4gICAgICB2YXIgc3RvcEFuaW1hdGlvbiwgcnVuQW5pbWF0aW9uLCB0cmF2ZWxsZWQ7XG5cbiAgICAgIGlmKG9mZnNldCA+IDApIHtcbiAgICAgICAgZW5kTG9jYXRpb24gPSBlbmRMb2NhdGlvbiAtIG9mZnNldDtcbiAgICAgIH1cblxuICAgICAgLy8gU2Nyb2xsIHRoZSBwYWdlIGJ5IGFuIGluY3JlbWVudCwgYW5kIGNoZWNrIGlmIGl0J3MgdGltZSB0byBzdG9wXG4gICAgICB2YXIgYW5pbWF0ZVNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgaW5jcmVtZW50cyk7XG4gICAgICAgIHRyYXZlbGxlZCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcblxuICAgICAgICBydW5BbmltYXRpb24gPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZVNjcm9sbCk7XG5cbiAgICAgICAgLy8gSWYgc2Nyb2xsaW5nIGRvd25cbiAgICAgICAgICBpZiAoaW5jcmVtZW50cyA+PSAwKSB7XG4gICAgICAgICAgICAvLyBTdG9wIGFuaW1hdGlvbiB3aGVuIHlvdSByZWFjaCB0aGUgYW5jaG9yIE9SIHRoZSBib3R0b20gb2YgdGhlIHBhZ2VcbiAgICAgICAgICAgICAgaWYgKCh0cmF2ZWxsZWQgPj0gKGVuZExvY2F0aW9uIC0gaW5jcmVtZW50cykpIHx8ICgod2luZG93LmlubmVySGVpZ2h0ICsgdHJhdmVsbGVkKSA+PSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCkpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShydW5BbmltYXRpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHNjcm9sbGluZyB1cFxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gU3RvcCBhbmltYXRpb24gd2hlbiB5b3UgcmVhY2ggdGhlIGFuY2hvciBPUiB0aGUgdG9wIG9mIHRoZSBwYWdlXG4gICAgICAgICAgICAgIGlmICh0cmF2ZWxsZWQgPD0gKGVuZExvY2F0aW9uIHx8IDApKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocnVuQW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIExvb3AgdGhlIGFuaW1hdGlvbiBmdW5jdGlvblxuICAgICAgcnVuQW5pbWF0aW9uID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGVTY3JvbGwpO1xuXG4gICAgfTtcblxuICAgIC8vIFdoZW4gdGhlIHNtb290aCBzY3JvbGwgbGluayBpcyBjbGlja2VkXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgLy8gZXZlbnQgZGVsZWdhdGlvblxuICAgIGlmKGUudGFyZ2V0ICYmIGUudGFyZ2V0Lm5vZGVOYW1lID09ICdBJykge1xuICAgICAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Njcm9sbCcpKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIC8vIEdldCBhbmNob3IgbGluayBhbmQgY2FsY3VsYXRlIGRpc3RhbmNlIGZyb20gdGhlIHRvcFxuICAgICAgICAgICAgdmFyIGRhdGFJRCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgICAgICAgICAgdmFyIGRhdGFUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGFJRCk7XG4gICAgICAgICAgICB2YXIgZGF0YVNwZWVkID0gKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtc3BlZWQnKSkgPyBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsLXNwZWVkJykgOiA1MDA7XG4gICAgICAgICAgICB2YXIgZGF0YU9mZnNldCA9IChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsLW9mZnNldCcpKSA/IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtb2Zmc2V0JykgOiBmYWxzZTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIGFuY2hvciBleGlzdHNcbiAgICAgICAgICAgIGlmIChkYXRhVGFyZ2V0KSB7XG4gICAgICAgICAgICAgIC8vIFNjcm9sbCB0byB0aGUgYW5jaG9yXG4gICAgICAgICAgICAgIHNtb290aFNjcm9sbChkYXRhVGFyZ2V0LCBkYXRhU3BlZWQsIGRhdGFPZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgfSwgZmFsc2UpO1xuXG59KSgpO1xuIiwid2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBnaXRmZWVkO1xuICAgIHZhciBmZWVkQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlZWQnKTtcblxuICAgIGZ1bmN0aW9uIGZlZWRCdWlsZGVyKGZlZWQsIGxpbWl0KSB7XG4gICAgICAgIHZhciBsaW1pdCA9IGxpbWl0IHx8IDM7XG4gICAgICAgIFxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGltaXQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnYWxlcnQnKTtcbiAgICAgICAgICAgIGVsZW0uaW5uZXJIVE1MID0gZmVlZFtpXS5jb250ZW50WzBdLl87XG4gICAgICAgICAgICBmZWVkQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG5cbiAgICBraWNrYmFjay5yZXF1ZXN0KHtcbiAgICAgICAgdXJsOiAnL2ZlZWQnLFxuICAgICAgICBtZXRob2Q6ICdHRVQnXG4gICAgfSlcbiAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBnaXRmZWVkID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gICAgICAgIHZhciBlbnRyaWVzID0gZ2l0ZmVlZC5mZWVkLmVudHJ5O1xuICAgICAgICBcbiAgICAgICAgZmVlZEJ1aWxkZXIoZW50cmllcywgNik7XG4gICAgICAgIFxuICAgICAgICByZXR1cm47XG4gICAgfSlbJ2NhdGNoJ10oZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgfSk7XG4gICAgXG59O1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9