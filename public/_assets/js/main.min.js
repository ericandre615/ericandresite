function Timemap(e){"use strict";function t(e){return e.replace(/Y/,i).replace(/y/,i.toString().substr(2,3)).replace(/mm/,n+1).replace(/MM/,n.toString().length>1?n+1:"0"+(n+1)).replace(/M/,a[n]).replace(/m/,a[n].toString().substr(0,3)).replace(/dd/,r).replace(/DD/,r.toString().length>1?r:"0"+r).replace(/d/,s[o].toString().substr(0,3)).replace(/D/,s[o])}var e=e||new Date,n=e.getMonth(),r=e.getDate(),o=e.getDay(),i=e.getFullYear(),a=(e.getTime(),e.getHours(),e.getMinutes(),e.getSeconds(),["January","February","March","April","May","June","July","August","September","October","November","December"]),s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return{date:e,format:t}}!function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),o=Math.max(0,16-(r-e)),i=window.setTimeout(function(){t(r+o)},o);return e=r+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function r(e,t){Q[U]=e,Q[U+1]=t,U+=2,2===U&&(R?R(l):z())}function o(e){R=e}function i(){var e=process.nextTick,t=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=setImmediate),function(){e(l)}}function a(){return function(){I(l)}}function s(){var e=0,t=new K(l),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=l,function(){e.port2.postMessage(0)}}function u(){return function(){setTimeout(l,1)}}function l(){for(var e=0;U>e;e+=2){var t=Q[e],n=Q[e+1];t(n),Q[e]=void 0,Q[e+1]=void 0}U=0}function d(){try{var e=require,t=e("vertx");return I=t.runOnLoop||t.runOnContext,a()}catch(n){return u()}}function f(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function h(e){try{return e.then}catch(t){return te.error=t,te}}function y(e,t,n,r){try{e.call(t,n,r)}catch(o){return o}}function v(e,t,n){J(function(e){var r=!1,o=y(n,t,function(n){r||(r=!0,t!==n?b(e,n):A(e,n))},function(t){r||(r=!0,E(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,E(e,o))},e)}function g(e,t){t._state===Z?A(e,t._result):t._state===ee?E(e,t._result):T(t,void 0,function(t){b(e,t)},function(t){E(e,t)})}function w(e,n){if(n.constructor===e.constructor)g(e,n);else{var r=h(n);r===te?E(e,te.error):void 0===r?A(e,n):t(r)?v(e,n,r):A(e,n)}}function b(t,n){t===n?E(t,m()):e(n)?w(t,n):A(t,n)}function _(e){e._onerror&&e._onerror(e._result),k(e)}function A(e,t){e._state===V&&(e._result=t,e._state=Z,0!==e._subscribers.length&&J(k,e))}function E(e,t){e._state===V&&(e._state=ee,e._result=t,J(_,e))}function T(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+Z]=n,o[i+ee]=r,0===i&&e._state&&J(k,e)}function k(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,o,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?F(n,r,o,i):o(i);e._subscribers.length=0}}function S(){this.error=null}function C(e,t){try{return e(t)}catch(n){return ne.error=n,ne}}function F(e,n,r,o){var i,a,s,c,u=t(r);if(u){if(i=C(r,o),i===ne?(c=!0,a=i.error,i=null):s=!0,n===i)return void E(n,p())}else i=o,s=!0;n._state!==V||(u&&s?b(n,i):c?E(n,a):e===Z?A(n,i):e===ee&&E(n,i))}function Y(e,t){try{t(function(t){b(e,t)},function(t){E(e,t)})}catch(n){E(e,n)}}function q(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(f),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?A(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&A(n.promise,n._result))):E(n.promise,n._validationError())}function D(e){return new re(this,e).promise}function M(e){function t(e){b(o,e)}function n(e){E(o,e)}var r=this,o=new r(f);if(!N(e))return E(o,new TypeError("You must pass an array to race.")),o;for(var i=e.length,a=0;o._state===V&&i>a;a++)T(r.resolve(e[a]),void 0,t,n);return o}function j(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return b(n,e),n}function O(e){var t=this,n=new t(f);return E(n,e),n}function x(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function L(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function P(e){this._id=ce++,this._state=void 0,this._result=void 0,this._subscribers=[],f!==e&&(t(e)||x(),this instanceof P||L(),Y(this,e))}function H(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=ue)}var B;B=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var I,R,z,N=B,U=0,J=({}.toString,r),G="undefined"!=typeof window?window:void 0,W=G||{},K=W.MutationObserver||W.WebKitMutationObserver,X="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),$="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3);z=X?i():K?s():$?c():void 0===G&&"function"==typeof require?d():u();var V=void 0,Z=1,ee=2,te=new S,ne=new S;q.prototype._validateInput=function(e){return N(e)},q.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},q.prototype._init=function(){this._result=new Array(this.length)};var re=q;q.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,o=0;n._state===V&&t>o;o++)e._eachEntry(r[o],o)},q.prototype._eachEntry=function(e,t){var r=this,o=r._instanceConstructor;n(e)?e.constructor===o&&e._state!==V?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(o.resolve(e),t):(r._remaining--,r._result[t]=e)},q.prototype._settledAt=function(e,t,n){var r=this,o=r.promise;o._state===V&&(r._remaining--,e===ee?E(o,n):r._result[t]=n),0===r._remaining&&A(o,r._result)},q.prototype._willSettleAt=function(e,t){var n=this;T(e,void 0,function(e){n._settledAt(Z,t,e)},function(e){n._settledAt(ee,t,e)})};var oe=D,ie=M,ae=j,se=O,ce=0,ue=P;P.all=oe,P.race=ie,P.resolve=ae,P.reject=se,P._setScheduler=o,P._asap=J,P.prototype={constructor:P,then:function(e,t){var n=this,r=n._state;if(r===Z&&!e||r===ee&&!t)return this;var o=new this.constructor(f),i=n._result;if(r){var a=arguments[r-1];J(function(){F(r,o,a,i)})}else T(n,o,e,t);return o},"catch":function(e){return this.then(null,e)}};var le=H,de={Promise:ue,polyfill:le};"function"==typeof define&&define.amd?define(function(){return de}):"undefined"!=typeof module&&module.exports?module.exports=de:"undefined"!=typeof this&&(this.ES6Promise=de),le()}.call(this),function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],r=n.length,o=window.console=window.console||{};r--;)e=n[r],o[e]||(o[e]=t)}(),"undefined"!=typeof module&&module.exports&&(module.exports=Timemap);var kickback=function(e){"use strict";function t(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}return e={},e.request=function(e){if("string"==typeof e){var n=e;e={},e.url=n,n=null}if(e.url=e.url?e.url:"/",e.data=e.data?e.data:null,e.method=e.method?e.method:"GET",e.headers=e.headers?e.headers:!1,e.cors=e.cors?e.cors:!1,e.async=e.async?e.async:!0,e.serialize=e.serialize?e.serialize:!1,e.auto=e.auto?e.auto:!1,Object.defineProperty(e,"tmp",{configurable:!0,writable:!0}),e.auto===!0)if("undefined"!=typeof window.FormData)if(e.data instanceof HTMLElement)e.data=new FormData(e.data);else{if("object"!=typeof e.data||e.data instanceof Array!=!1)throw new Error("Submit data as object or HTMLElement");e.tmp=e.data,e.data=new FormData,Object.keys(e.tmp).forEach(function(t){e.data.append(t,e.tmp[t])}),delete e.tmp}else e.data instanceof HTMLElement&&(e.tmp={},[].forEach.call(e.data,function(t){e.tmp[t.name]=t.value}),e.data=e.tmp,delete e.tmp),e.serialize=!0;return e.serialize===!0&&(e.data=t(e.data)),console.log(e.data instanceof FormData?"formDATA":"notFormData"),new Promise(function(t,n){var r=new XMLHttpRequest;r.open(e.method,e.url,e.async),r.onload=function(){200==r.status?t(r.response):n(Error("Error: ",r.statusTxt))},r.onerror=function(){n(Error("Network Error"))},e.headers!==!1&&(e.headers.type=e.headers.type||"Content-Type",e.headers.value=e.headers.value||"text/plain;charset=UTF-8",r.setRequestHeader(e.headers.type,e.headers.value)),e.headers===!1&&"post"===e.method.toLowerCase()&&e.serialize===!0&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send("get"===e.method.toLowerCase()?null:e.data)})},e}(kickback);"undefined"!=typeof module&&module.exports&&(module.exports=kickback),function(){"use strict";document.addEventListener("submit",function(e){e.preventDefault();var t=document.querySelector("form#contact"),n={};if([].forEach.call(t,function(e){""==e.value&&(n[e.name]="required")}),Object.keys(n).length)for(var r in n)n.hasOwnProperty(r)&&console.log("Error "+r+" "+n[r]);else kickback.request({url:"/contact",data:t,method:"POST",auto:!0}).then(function(e){return e.success===!0?console.log("SUCCESS"):console.log("hmmm",e),e})["catch"](function(e){return new Error("Prom fail: ",e)})},!1)}(),function(e){"use strict";function t(){a=e.scrollY,console.log("set cache Y",a)}function n(){console.log("scrolling stopped")}function r(t){if("string"==typeof t&&(t=document.querySelector(t)),!t)return!1;var n=t.getBoundingClientRect();return n.top>e.innerHeight||n.bottom<0?(console.log(t,"is NOT in view"),t.classList.contains("in-view")&&t.classList.remove("in-view"),!1):(console.log(t,"is in view"),t.classList.add("in-view"),!0)}var o=null,i=null,a=0,s=(document.querySelector('ul[role="menubar"]'),document.getElementById("main-nav")),c=document.getElementById("masthead"),u=["#about","#work","#projects"],l="#eaeaea",d="#AFB4D8",f="#6F94BE",m="#6EAEB3",p="#66CF97",h="#49DB45",y="#1DE410";e.onscroll=function(v){null!=o&&clearTimeout(o),null!=i&&clearTimeout(i),a<e.scrollY&&s.classList.add("hide-nav"),a>e.scrollY&&s.classList.remove("hide-nav"),o=setTimeout(n,1500),i=setTimeout(t,100),0==e.scrollY&&(c.style.backgroundColor=l),e.scrollY>0&&e.scrollY<=20&&(c.style.backgroundColor=d),e.scrollY>=21&&e.scrollY<=40&&(c.style.backgroundColor=f),e.scrollY>=41&&e.scrollY<=60&&(c.style.backgroundColor=m),e.scrollY>=61&&e.scrollY<=80&&(c.style.backgroundColor=p),e.scrollY>=81&&e.scrollY<=100&&(c.style.backgroundColor=h),e.scrollY>=101&&e.scrollY<=120&&(c.style.backgroundColor=y),e.scrollY>=121&&(c.style.backgroundColor=l),u.forEach(function(e){r(e)})}}(window),function(){"use strict";var e=function(e,t,n){var r,o,i=window.pageYOffset,a=e.offsetTop,s=a-i,c=s/(t/16);n>0&&(a-=n);var u=function(){window.scrollBy(0,c),o=window.pageYOffset,r=requestAnimationFrame(u),c>=0?(o>=a-c||window.innerHeight+o>=document.body.offsetHeight)&&cancelAnimationFrame(r):(a||0)>=o&&cancelAnimationFrame(r)};r=requestAnimationFrame(u)};document.addEventListener("click",function(t){if(t.target&&"A"==t.target.nodeName&&t.target.classList.contains("scroll")){t.preventDefault();var n=t.target.getAttribute("href"),r=document.querySelector(n),o=t.target.getAttribute("data-scroll-speed")?t.target.getAttribute("data-scroll-speed"):500,i=t.target.getAttribute("data-scroll-offset")?t.target.getAttribute("data-scroll-offset"):!1;r&&e(r,o,i)}},!1)}(),window.onload=function(){function e(e){for(var t=0;3>t;t++){var r=document.createElement("div");r.innerHTML=e[t].content[0]._,n.appendChild(r)}}var t,n=document.getElementById("feed");kickback.request({url:"/feed",method:"GET"}).then(function(n){t=JSON.parse(n);{var r=t.feed.entry;t.feed.entry[0].content[0]._}console.log(t.feed.entry[0].content[0]._),e(r)})["catch"](function(e){return e})};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRpbWVtYXAuanMiLCJwb2x5ZmlsbHMuanMiLCJwbHVnaW5zLmpzIiwia2lja2JhY2suanMiLCJmb3JtLWFjdGlvbi5qcyIsInNjcm9sbGFibGVzLmpzIiwic21vb3RoLXNjcm9sbC5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsiVGltZW1hcCIsImRhdGVPYmoiLCJmb3JtYXQiLCJzdHIiLCJyZXBsYWNlIiwieWVhciIsInRvU3RyaW5nIiwic3Vic3RyIiwibW9udGgiLCJsZW5ndGgiLCJtb250aHMiLCJkYXkiLCJkYXlzIiwiZGF5T2ZXZWVrIiwiRGF0ZSIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldERheSIsImdldEZ1bGxZZWFyIiwiZ2V0VGltZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJkYXRlIiwibGFzdFRpbWUiLCJ2ZW5kb3JzIiwieCIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2FsbGJhY2siLCJlbGVtZW50IiwiY3VyclRpbWUiLCJ0aW1lVG9DYWxsIiwiTWF0aCIsIm1heCIsImlkIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImxpYiRlczYkcHJvbWlzZSR1dGlscyQkb2JqZWN0T3JGdW5jdGlvbiIsImxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbiIsImxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNNYXliZVRoZW5hYmxlIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAiLCJhcmciLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWUiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2giLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0U2NoZWR1bGVyIiwic2NoZWR1bGVGbiIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VOZXh0VGljayIsIm5leHRUaWNrIiwicHJvY2VzcyIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm5vZGUiLCJtYXRjaCIsIkFycmF5IiwiaXNBcnJheSIsInNldEltbWVkaWF0ZSIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VWZXJ0eFRpbWVyIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dCIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNdXRhdGlvbk9ic2VydmVyIiwiaXRlcmF0aW9ucyIsIm9ic2VydmVyIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwiZGF0YSIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNZXNzYWdlQ2hhbm5lbCIsImNoYW5uZWwiLCJNZXNzYWdlQ2hhbm5lbCIsInBvcnQxIiwib25tZXNzYWdlIiwicG9ydDIiLCJwb3N0TWVzc2FnZSIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VTZXRUaW1lb3V0IiwiaSIsInVuZGVmaW5lZCIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRhdHRlbXB0VmVydGV4IiwiciIsInJlcXVpcmUiLCJ2ZXJ0eCIsInJ1bk9uTG9vcCIsInJ1bk9uQ29udGV4dCIsImUiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc2VsZkZ1bGxmaWxsbWVudCIsIlR5cGVFcnJvciIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGNhbm5vdFJldHVybk93biIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGdldFRoZW4iLCJwcm9taXNlIiwidGhlbiIsImVycm9yIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlUaGVuIiwidmFsdWUiLCJmdWxmaWxsbWVudEhhbmRsZXIiLCJyZWplY3Rpb25IYW5kbGVyIiwiY2FsbCIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZUZvcmVpZ25UaGVuYWJsZSIsInRoZW5hYmxlIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQiLCJzZWFsZWQiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbCIsInJlYXNvbiIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdCIsIl9sYWJlbCIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU93blRoZW5hYmxlIiwiX3N0YXRlIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEIiwiX3Jlc3VsdCIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlTWF5YmVUaGVuYWJsZSIsIm1heWJlVGhlbmFibGUiLCJjb25zdHJ1Y3RvciIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2hSZWplY3Rpb24iLCJfb25lcnJvciIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2giLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HIiwiX3N1YnNjcmliZXJzIiwicGFyZW50IiwiY2hpbGQiLCJvbkZ1bGZpbGxtZW50Iiwib25SZWplY3Rpb24iLCJzdWJzY3JpYmVycyIsInNldHRsZWQiLCJkZXRhaWwiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbnZva2VDYWxsYmFjayIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0IiwidGhpcyIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeUNhdGNoIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SIiwic3VjY2VlZGVkIiwiZmFpbGVkIiwiaGFzQ2FsbGJhY2siLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbml0aWFsaXplUHJvbWlzZSIsInJlc29sdmVyIiwibGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IiLCJDb25zdHJ1Y3RvciIsImlucHV0IiwiZW51bWVyYXRvciIsIl9pbnN0YW5jZUNvbnN0cnVjdG9yIiwiX3ZhbGlkYXRlSW5wdXQiLCJfaW5wdXQiLCJfcmVtYWluaW5nIiwiX2luaXQiLCJfZW51bWVyYXRlIiwiX3ZhbGlkYXRpb25FcnJvciIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkYWxsIiwiZW50cmllcyIsImxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRkZWZhdWx0IiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkcmFjZSIsImxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheSIsInJlc29sdmUiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRyZXNvbHZlIiwib2JqZWN0IiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRyZWplY3QiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNSZXNvbHZlciIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc05ldyIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlIiwiX2lkIiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkJGNvdW50ZXIiLCJsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJHBvbHlmaWxsIiwibG9jYWwiLCJnbG9iYWwiLCJzZWxmIiwiRnVuY3Rpb24iLCJFcnJvciIsIlAiLCJQcm9taXNlIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiY2FzdCIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0IiwibGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheSIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyV2luZG93IiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJHbG9iYWwiLCJNdXRhdGlvbk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc05vZGUiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNXb3JrZXIiLCJVaW50OENsYW1wZWRBcnJheSIsImltcG9ydFNjcmlwdHMiLCJfZWFjaEVudHJ5IiwiZW50cnkiLCJjIiwiX3NldHRsZWRBdCIsIl93aWxsU2V0dGxlQXQiLCJzdGF0ZSIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkZGVmYXVsdCIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJGRlZmF1bHQiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRkZWZhdWx0IiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRkZWZhdWx0IiwiYWxsIiwicmFjZSIsInJlamVjdCIsIl9zZXRTY2hlZHVsZXIiLCJfYXNhcCIsInJlc3VsdCIsImFyZ3VtZW50cyIsImNhdGNoIiwibGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0IiwibGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZSIsInBvbHlmaWxsIiwiZGVmaW5lIiwibW9kdWxlIiwibWV0aG9kIiwibm9vcCIsIm1ldGhvZHMiLCJjb25zb2xlIiwiZXhwb3J0cyIsImtpY2tiYWNrIiwiX3NlcmlhbGl6ZSIsIm9iaiIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsInB1c2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwicmVxdWVzdCIsImtiT3B0aW9ucyIsInRtcCIsInVybCIsImhlYWRlcnMiLCJjb3JzIiwiYXN5bmMiLCJzZXJpYWxpemUiLCJhdXRvIiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIkZvcm1EYXRhIiwiSFRNTEVsZW1lbnQiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsImFwcGVuZCIsImVsZW0iLCJuYW1lIiwibG9nIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25sb2FkIiwic3RhdHVzIiwicmVzcG9uc2UiLCJzdGF0dXNUeHQiLCJvbmVycm9yIiwidHlwZSIsInNldFJlcXVlc3RIZWFkZXIiLCJ0b0xvd2VyQ2FzZSIsInNlbmQiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJmb3JtRGF0YSIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JtRXJyb3IiLCJmb3JtSW5wdXQiLCJzdWNjZXNzIiwiZXJyIiwic2Nyb2xsU2V0Q2FjaGVkIiwiY2FjaGVTY3JvbGxQb3MiLCJzY3JvbGxZIiwiaGFuZGxlU2Nyb2xsIiwiaXNFbGVtZW50VmlzaWJsZSIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJpbm5lckhlaWdodCIsImJvdHRvbSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkIiwic2Nyb2xsVGltZXIiLCJzY3JvbGxDYWNoZVRpbWVyIiwibWVudWJhciIsImdldEVsZW1lbnRCeUlkIiwibWFzdGhlYWQiLCJzZWN0aW9ucyIsImluaXRpYWxCR0NvbG9yIiwiYkdDb2xvcl8xIiwiYkdDb2xvcl8yIiwiYkdDb2xvcl8zIiwiYkdDb2xvcl80IiwiYkdDb2xvcl81IiwiYkdDb2xvcl82Iiwib25zY3JvbGwiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInNtb290aFNjcm9sbCIsImFuY2hvciIsImR1cmF0aW9uIiwib2Zmc2V0IiwicnVuQW5pbWF0aW9uIiwidHJhdmVsbGVkIiwic3RhcnRMb2NhdGlvbiIsInBhZ2VZT2Zmc2V0IiwiZW5kTG9jYXRpb24iLCJvZmZzZXRUb3AiLCJkaXN0YW5jZSIsImluY3JlbWVudHMiLCJhbmltYXRlU2Nyb2xsIiwic2Nyb2xsQnkiLCJib2R5Iiwib2Zmc2V0SGVpZ2h0IiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJkYXRhSUQiLCJnZXRBdHRyaWJ1dGUiLCJkYXRhVGFyZ2V0IiwiZGF0YVNwZWVkIiwiZGF0YU9mZnNldCIsImZlZWRCdWlsZGVyIiwiZmVlZCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJjb250ZW50IiwiXyIsImZlZWRDb250YWluZXIiLCJhcHBlbmRDaGlsZCIsImdpdGZlZWQiLCJKU09OIiwicGFyc2UiXSwibWFwcGluZ3MiOiJBQUFBLFFBQUFBLFNBQUFDLEdBQ0EsWUFxQ0EsU0FBQUMsR0FBQUMsR0FDQSxNQUFBQSxHQUFBQyxRQUFBLElBQUFDLEdBQ0FELFFBQUEsSUFBQUMsRUFBQUMsV0FBQUMsT0FBQSxFQUFBLElBQ0FILFFBQUEsS0FBQUksRUFBQSxHQUNBSixRQUFBLEtBQUFJLEVBQUFGLFdBQUFHLE9BQUEsRUFBQUQsRUFBQSxFQUFBLEtBQUFBLEVBQUEsSUFDQUosUUFBQSxJQUFBTSxFQUFBRixJQUNBSixRQUFBLElBQUFNLEVBQUFGLEdBQUFGLFdBQUFDLE9BQUEsRUFBQSxJQUNBSCxRQUFBLEtBQUFPLEdBQ0FQLFFBQUEsS0FBQU8sRUFBQUwsV0FBQUcsT0FBQSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FQLFFBQUEsSUFBQVEsRUFBQUMsR0FBQVAsV0FBQUMsT0FBQSxFQUFBLElBQ0FILFFBQUEsSUFBQVEsRUFBQUMsSUE3Q0EsR0FBQVosR0FBQUEsR0FBQSxHQUFBYSxNQUNBTixFQUFBUCxFQUFBYyxXQUNBSixFQUFBVixFQUFBZSxVQUNBSCxFQUFBWixFQUFBZ0IsU0FDQVosRUFBQUosRUFBQWlCLGNBTUFSLEdBTEFULEVBQUFrQixVQUNBbEIsRUFBQW1CLFdBQ0FuQixFQUFBb0IsYUFDQXBCLEVBQUFxQixjQUdBLFVBQ0EsV0FDQSxRQUNBLFFBQ0EsTUFDQSxPQUNBLE9BQ0EsU0FDQSxZQUNBLFVBQ0EsV0FDQSxhQUdBVixHQUNBLFNBQ0EsU0FDQSxVQUNBLFlBQ0EsV0FDQSxTQUNBLFdBZ0JBLFFB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LGFBQUEsdUJBQUEsQ0FHQUMsSUFFQXBCLEVBQUFvQixFQUFBQyxFQUFBQyxNQUtBLE1DbkVBblMsT0FBQThOLE9BQUEsV0FJQSxRQUFBc0UsR0FBQUMsR0FDQSxJQUFBLEdBQUFoUCxHQUFBLEVBQUEsRUFBQUEsRUFBQUEsSUFBQSxDQUNBLEdBQUFtSyxHQUFBaEwsU0FBQThQLGNBQUEsTUFDQTlFLEdBQUErRSxVQUFBRixFQUFBaFAsR0FBQW1QLFFBQUEsR0FBQUMsRUFDQUMsRUFBQUMsWUFBQW5GLElBUEEsR0FBQW9GLEdBQ0FGLEVBQUFsUSxTQUFBd04sZUFBQSxPQVlBbEUsVUFBQVEsU0FDQUcsSUFBQSxRQUNBaEIsT0FBQSxRQUVBckgsS0FBQSxTQUFBNEosR0FDQTRFLEVBQUFDLEtBQUFDLE1BQUE5RSxFQUNBLEVBQUEsR0FBQWhHLEdBQUE0SyxFQUFBUCxLQUFBbEksS0FDQXlJLEdBQUFQLEtBQUFsSSxNQUFBLEdBQUFxSSxRQUFBLEdBQUFDLEVBQ0E3RyxRQUFBOEIsSUFBQWtGLEVBQUFQLEtBQUFsSSxNQUFBLEdBQUFxSSxRQUFBLEdBQUFDLEdBQ0FMLEVBQUFwSyxLQUVBLFNBQUEsU0FBQThHLEdBQ0EsTUFBQUEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBUaW1lbWFwKGRhdGVPYmopIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZGF0ZU9iaiA9IGRhdGVPYmogfHwgbmV3IERhdGUoKSxcbiAgICBtb250aCA9IGRhdGVPYmouZ2V0TW9udGgoKSwgLy8gY3VzIGphdmFzY3JpcHQgc3RhcnRzIG1vbnRoIGF0IDBcbiAgICBkYXkgPSBkYXRlT2JqLmdldERhdGUoKSxcbiAgICBkYXlPZldlZWsgPSBkYXRlT2JqLmdldERheSgpLFxuICAgIHllYXIgPSBkYXRlT2JqLmdldEZ1bGxZZWFyKCksXG4gICAgdGltZSA9IGRhdGVPYmouZ2V0VGltZSgpLFxuICAgIGhvdXIgPSBkYXRlT2JqLmdldEhvdXJzKCksXG4gICAgbWludXRlcyA9IGRhdGVPYmouZ2V0TWludXRlcygpLFxuICAgIHNlY29uZHMgPSBkYXRlT2JqLmdldFNlY29uZHMoKTtcblxuICAgIHZhciBtb250aHMgPSBbXG4gICAgICAgICdKYW51YXJ5JyxcbiAgICAgICAgJ0ZlYnJ1YXJ5JyxcbiAgICAgICAgJ01hcmNoJyxcbiAgICAgICAgJ0FwcmlsJyxcbiAgICAgICAgJ01heScsXG4gICAgICAgICdKdW5lJyxcbiAgICAgICAgJ0p1bHknLFxuICAgICAgICAnQXVndXN0JyxcbiAgICAgICAgJ1NlcHRlbWJlcicsXG4gICAgICAgICdPY3RvYmVyJyxcbiAgICAgICAgJ05vdmVtYmVyJyxcbiAgICAgICAgJ0RlY2VtYmVyJ1xuICAgIF07XG5cbiAgICB2YXIgZGF5cyA9IFtcbiAgICAgICAgJ1N1bmRheScsXG4gICAgICAgICdNb25kYXknLFxuICAgICAgICAnVHVlc2RheScsXG4gICAgICAgICdXZWRuZXNkYXknLFxuICAgICAgICAnVGh1cnNkYXknLFxuICAgICAgICAnRnJpZGF5JyxcbiAgICAgICAgJ1NhdHVyZGF5J1xuICAgIF07XG5cbiAgICBmdW5jdGlvbiBmb3JtYXQoc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvWS8sIHllYXIpIC8vIDIwMTVcbiAgICAgICAgLnJlcGxhY2UoL3kvLCB5ZWFyLnRvU3RyaW5nKCkuc3Vic3RyKDIsMykpIC8vMTVcbiAgICAgICAgLnJlcGxhY2UoL21tLywgbW9udGgrMSkgLy81LCA5LCAxMVxuICAgICAgICAucmVwbGFjZSgvTU0vLCAobW9udGgudG9TdHJpbmcoKS5sZW5ndGggPiAxKSA/IG1vbnRoICsgMSA6ICcwJysobW9udGgrMSkpIC8vIDA1LCAwOSwgMTFcbiAgICAgICAgLnJlcGxhY2UoL00vLCBtb250aHNbbW9udGhdKSAvLyBKYW51YXJ5LCBNYXJjaCwgSnVuZVxuICAgICAgICAucmVwbGFjZSgvbS8sIG1vbnRoc1ttb250aF0udG9TdHJpbmcoKS5zdWJzdHIoMCwzKSkgLy8gSmFuLCBNYXIsIEp1blxuICAgICAgICAucmVwbGFjZSgvZGQvLCBkYXkpIC8vIDEsIDUsIDIwLCAyNlxuICAgICAgICAucmVwbGFjZSgvREQvLCAoZGF5LnRvU3RyaW5nKCkubGVuZ3RoID4gMSkgPyBkYXkgOiAnMCcrZGF5KSAvLyAwMSwgMDQsIDE1LCAyMlxuICAgICAgICAucmVwbGFjZSgvZC8sIGRheXNbZGF5T2ZXZWVrXS50b1N0cmluZygpLnN1YnN0cigwLDMpKSAvLyBNb24sIFR1ZVxuICAgICAgICAucmVwbGFjZSgvRC8sIGRheXNbZGF5T2ZXZWVrXSk7IC8vIE1vbmRheSwgVHVlc2RheVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgICBkYXRlOiBkYXRlT2JqLFxuICAgICAgICBmb3JtYXQ6IGZvcm1hdFxuICAgIH07XG59O1xuXG5pZih0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gVGltZW1hcDtcbn1cbiIsIi8vIFJlcXVlc3RBbmltYXRpb25GcmFtZSBQb2x5ZmlsbFxuKGZ1bmN0aW9uKCkge1xuICAgIHZhciBsYXN0VGltZSA9IDA7XG4gICAgdmFyIHZlbmRvcnMgPSBbJ3dlYmtpdCcsICdtb3onXTtcbiAgICBmb3IodmFyIHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsreCkge1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3ZlbmRvcnNbeF0rJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPVxuICAgICAgICAgIHdpbmRvd1t2ZW5kb3JzW3hdKydDYW5jZWxBbmltYXRpb25GcmFtZSddIHx8IHdpbmRvd1t2ZW5kb3JzW3hdKydDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgICB9XG5cbiAgICBpZiAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihjYWxsYmFjaywgZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGN1cnJUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICB2YXIgdGltZVRvQ2FsbCA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnJUaW1lIC0gbGFzdFRpbWUpKTtcbiAgICAgICAgICAgIHZhciBpZCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjYWxsYmFjayhjdXJyVGltZSArIHRpbWVUb0NhbGwpOyB9LFxuICAgICAgICAgICAgICB0aW1lVG9DYWxsKTtcbiAgICAgICAgICAgIGxhc3RUaW1lID0gY3VyclRpbWUgKyB0aW1lVG9DYWxsO1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9O1xuXG4gICAgaWYgKCF3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUpXG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgICB9O1xufSgpKTtcblxuLyohXG4gKiBAb3ZlcnZpZXcgZXM2LXByb21pc2UgLSBhIHRpbnkgaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZXMvQSsuXG4gKiBAY29weXJpZ2h0IENvcHlyaWdodCAoYykgMjAxNCBZZWh1ZGEgS2F0eiwgVG9tIERhbGUsIFN0ZWZhbiBQZW5uZXIgYW5kIGNvbnRyaWJ1dG9ycyAoQ29udmVyc2lvbiB0byBFUzYgQVBJIGJ5IEpha2UgQXJjaGliYWxkKVxuICogQGxpY2Vuc2UgICBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZVxuICogICAgICAgICAgICBTZWUgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2pha2VhcmNoaWJhbGQvZXM2LXByb21pc2UvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgMi4yLjBcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJyB8fCAodHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc01heWJlVGhlbmFibGUoeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5O1xuICAgIGlmICghQXJyYXkuaXNBcnJheSkge1xuICAgICAgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0FycmF5ID0gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9IDA7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkdmVydHhOZXh0O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkY3VzdG9tU2NoZWR1bGVyRm47XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbl0gPSBjYWxsYmFjaztcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuICsgMV0gPSBhcmc7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuICs9IDI7XG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9PT0gMikge1xuICAgICAgICAvLyBJZiBsZW4gaXMgMiwgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gc2NoZWR1bGUgYW4gYXN5bmMgZmx1c2guXG4gICAgICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbihsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcDtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbiA9IHNjaGVkdWxlRm47XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyV2luZG93ID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSA/IHdpbmRvdyA6IHVuZGVmaW5lZDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJHbG9iYWwgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyB8fCB7fTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3Nlckdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNOb2RlID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHt9LnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJztcblxuICAgIC8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc1dvcmtlciA9IHR5cGVvZiBVaW50OENsYW1wZWRBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuICAgIC8vIG5vZGVcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTmV4dFRpY2soKSB7XG4gICAgICB2YXIgbmV4dFRpY2sgPSBwcm9jZXNzLm5leHRUaWNrO1xuICAgICAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gICAgICAvLyBzZXRJbW1lZGlhdGUgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBpbnN0ZWFkXG4gICAgICB2YXIgdmVyc2lvbiA9IHByb2Nlc3MudmVyc2lvbnMubm9kZS5tYXRjaCgvXig/OihcXGQrKVxcLik/KD86KFxcZCspXFwuKT8oXFwqfFxcZCspJC8pO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmVyc2lvbikgJiYgdmVyc2lvblsxXSA9PT0gJzAnICYmIHZlcnNpb25bMl0gPT09ICcxMCcpIHtcbiAgICAgICAgbmV4dFRpY2sgPSBzZXRJbW1lZGlhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIG5leHRUaWNrKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHZlcnR4XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVZlcnR4VGltZXIoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR2ZXJ0eE5leHQobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU11dGF0aW9uT2JzZXJ2ZXIoKSB7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgbGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIG5vZGUuZGF0YSA9IChpdGVyYXRpb25zID0gKytpdGVyYXRpb25zICUgMik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHdlYiB3b3JrZXJcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTWVzc2FnZUNoYW5uZWwoKSB7XG4gICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2g7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0VGltZW91dChsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gsIDEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlID0gbmV3IEFycmF5KDEwMDApO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCgpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbjsgaSs9Mikge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaV07XG4gICAgICAgIHZhciBhcmcgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaSsxXTtcblxuICAgICAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2krMV0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gPSAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhdHRlbXB0VmVydGV4KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHIgPSByZXF1aXJlO1xuICAgICAgICB2YXIgdmVydHggPSByKCd2ZXJ0eCcpO1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkdmVydHhOZXh0ID0gdmVydHgucnVuT25Mb29wIHx8IHZlcnR4LnJ1bk9uQ29udGV4dDtcbiAgICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VWZXJ0eFRpbWVyKCk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VTZXRUaW1lb3V0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoO1xuICAgIC8vIERlY2lkZSB3aGF0IGFzeW5jIG1ldGhvZCB0byB1c2UgdG8gdHJpZ2dlcmluZyBwcm9jZXNzaW5nIG9mIHF1ZXVlZCBjYWxsYmFja3M6XG4gICAgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc05vZGUpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU5leHRUaWNrKCk7XG4gICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU11dGF0aW9uT2JzZXJ2ZXIoKTtcbiAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc1dvcmtlcikge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTWVzc2FnZUNoYW5uZWwoKTtcbiAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGF0dGVtcHRWZXJ0ZXgoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3AoKSB7fVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcgICA9IHZvaWQgMDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEID0gMTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQgID0gMjtcblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUiA9IG5ldyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCgpO1xuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc2VsZkZ1bGxmaWxsbWVudCgpIHtcbiAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IGNhbm5vdCByZXNvbHZlIGEgcHJvbWlzZSB3aXRoIGl0c2VsZlwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRjYW5ub3RSZXR1cm5Pd24oKSB7XG4gICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGdldFRoZW4ocHJvbWlzZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbjtcbiAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeVRoZW4odGhlbiwgdmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSwgdGhlbikge1xuICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRkZWZhdWx0KGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICAgICAgdmFyIHNlYWxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3IgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlUaGVuKHRoZW4sIHRoZW5hYmxlLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmIChzZWFsZWQpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgICBpZiAoc2VhbGVkKSB7IHJldHVybjsgfVxuICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG5cbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgfSwgJ1NldHRsZTogJyArIChwcm9taXNlLl9sYWJlbCB8fCAnIHVua25vd24gcHJvbWlzZScpKTtcblxuICAgICAgICBpZiAoIXNlYWxlZCAmJiBlcnJvcikge1xuICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSwgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHtcbiAgICAgIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICAgICAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZSh0aGVuYWJsZSwgdW5kZWZpbmVkLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKSB7XG4gICAgICBpZiAobWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3RvciA9PT0gcHJvbWlzZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0aGVuID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZ2V0VGhlbihtYXliZVRoZW5hYmxlKTtcblxuICAgICAgICBpZiAodGhlbiA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IuZXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKHRoZW4pKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHNlbGZGdWxsZmlsbG1lbnQoKSk7XG4gICAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSR1dGlscyQkb2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoUmVqZWN0aW9uKHByb21pc2UpIHtcbiAgICAgIGlmIChwcm9taXNlLl9vbmVycm9yKSB7XG4gICAgICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgICAgIH1cblxuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaChwcm9taXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHsgcmV0dXJuOyB9XG5cbiAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHZhbHVlO1xuICAgICAgcHJvbWlzZS5fc3RhdGUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQ7XG5cbiAgICAgIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaCwgcHJvbWlzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbikge1xuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7IHJldHVybjsgfVxuICAgICAgcHJvbWlzZS5fc3RhdGUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRDtcbiAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gICAgICB2YXIgc3Vic2NyaWJlcnMgPSBwYXJlbnQuX3N1YnNjcmliZXJzO1xuICAgICAgdmFyIGxlbmd0aCA9IHN1YnNjcmliZXJzLmxlbmd0aDtcblxuICAgICAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoICsgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGggKyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRF0gID0gb25SZWplY3Rpb247XG5cbiAgICAgIGlmIChsZW5ndGggPT09IDAgJiYgcGFyZW50Ll9zdGF0ZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkZGVmYXVsdChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoLCBwYXJlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gocHJvbWlzZSkge1xuICAgICAgdmFyIHN1YnNjcmliZXJzID0gcHJvbWlzZS5fc3Vic2NyaWJlcnM7XG4gICAgICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gICAgICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7IHJldHVybjsgfVxuXG4gICAgICB2YXIgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwgPSBwcm9taXNlLl9yZXN1bHQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICAgICAgY2FsbGJhY2sgPSBzdWJzY3JpYmVyc1tpICsgc2V0dGxlZF07XG5cbiAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKGRldGFpbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCgpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1IgPSBuZXcgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRXJyb3JPYmplY3QoKTtcblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhkZXRhaWwpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUi5lcnJvciA9IGU7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgcHJvbWlzZSwgY2FsbGJhY2ssIGRldGFpbCkge1xuICAgICAgdmFyIGhhc0NhbGxiYWNrID0gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKGNhbGxiYWNrKSxcbiAgICAgICAgICB2YWx1ZSwgZXJyb3IsIHN1Y2NlZWRlZCwgZmFpbGVkO1xuXG4gICAgICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICAgICAgdmFsdWUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlDYXRjaChjYWxsYmFjaywgZGV0YWlsKTtcblxuICAgICAgICBpZiAodmFsdWUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUikge1xuICAgICAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgZXJyb3IgPSB2YWx1ZS5lcnJvcjtcbiAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRjYW5ub3RSZXR1cm5Pd24oKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZGV0YWlsO1xuICAgICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgLy8gbm9vcFxuICAgICAgfSBlbHNlIGlmIChoYXNDYWxsYmFjayAmJiBzdWNjZWVkZWQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGZhaWxlZCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW5pdGlhbGl6ZVByb21pc2UocHJvbWlzZSwgcmVzb2x2ZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc29sdmVyKGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKXtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gICAgICBlbnVtZXJhdG9yLl9pbnN0YW5jZUNvbnN0cnVjdG9yID0gQ29uc3RydWN0b3I7XG4gICAgICBlbnVtZXJhdG9yLnByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG5cbiAgICAgIGlmIChlbnVtZXJhdG9yLl92YWxpZGF0ZUlucHV0KGlucHV0KSkge1xuICAgICAgICBlbnVtZXJhdG9yLl9pbnB1dCAgICAgPSBpbnB1dDtcbiAgICAgICAgZW51bWVyYXRvci5sZW5ndGggICAgID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICBlbnVtZXJhdG9yLl9yZW1haW5pbmcgPSBpbnB1dC5sZW5ndGg7XG5cbiAgICAgICAgZW51bWVyYXRvci5faW5pdCgpO1xuXG4gICAgICAgIGlmIChlbnVtZXJhdG9yLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwoZW51bWVyYXRvci5wcm9taXNlLCBlbnVtZXJhdG9yLl9yZXN1bHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVudW1lcmF0b3IubGVuZ3RoID0gZW51bWVyYXRvci5sZW5ndGggfHwgMDtcbiAgICAgICAgICBlbnVtZXJhdG9yLl9lbnVtZXJhdGUoKTtcbiAgICAgICAgICBpZiAoZW51bWVyYXRvci5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKGVudW1lcmF0b3IucHJvbWlzZSwgZW51bWVyYXRvci5fcmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChlbnVtZXJhdG9yLnByb21pc2UsIGVudW1lcmF0b3IuX3ZhbGlkYXRpb25FcnJvcigpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX3ZhbGlkYXRlSW5wdXQgPSBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheShpbnB1dCk7XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fdmFsaWRhdGlvbkVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuICAgIH07XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvcjtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fZW51bWVyYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICAgIHZhciBsZW5ndGggID0gZW51bWVyYXRvci5sZW5ndGg7XG4gICAgICB2YXIgcHJvbWlzZSA9IGVudW1lcmF0b3IucHJvbWlzZTtcbiAgICAgIHZhciBpbnB1dCAgID0gZW51bWVyYXRvci5faW5wdXQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBwcm9taXNlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyAmJiBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZW51bWVyYXRvci5fZWFjaEVudHJ5KGlucHV0W2ldLCBpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9lYWNoRW50cnkgPSBmdW5jdGlvbihlbnRyeSwgaSkge1xuICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuICAgICAgdmFyIGMgPSBlbnVtZXJhdG9yLl9pbnN0YW5jZUNvbnN0cnVjdG9yO1xuXG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc01heWJlVGhlbmFibGUoZW50cnkpKSB7XG4gICAgICAgIGlmIChlbnRyeS5jb25zdHJ1Y3RvciA9PT0gYyAmJiBlbnRyeS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgICBlbnRyeS5fb25lcnJvciA9IG51bGw7XG4gICAgICAgICAgZW51bWVyYXRvci5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW51bWVyYXRvci5fd2lsbFNldHRsZUF0KGMucmVzb2x2ZShlbnRyeSksIGkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbnVtZXJhdG9yLl9yZW1haW5pbmctLTtcbiAgICAgICAgZW51bWVyYXRvci5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fc2V0dGxlZEF0ID0gZnVuY3Rpb24oc3RhdGUsIGksIHZhbHVlKSB7XG4gICAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG4gICAgICB2YXIgcHJvbWlzZSA9IGVudW1lcmF0b3IucHJvbWlzZTtcblxuICAgICAgaWYgKHByb21pc2UuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7XG4gICAgICAgIGVudW1lcmF0b3IuX3JlbWFpbmluZy0tO1xuXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVudW1lcmF0b3IuX3Jlc3VsdFtpXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlbnVtZXJhdG9yLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCBlbnVtZXJhdG9yLl9yZXN1bHQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX3dpbGxTZXR0bGVBdCA9IGZ1bmN0aW9uKHByb21pc2UsIGkpIHtcbiAgICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHByb21pc2UsIHVuZGVmaW5lZCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgZW51bWVyYXRvci5fc2V0dGxlZEF0KGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCwgaSwgdmFsdWUpO1xuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIGVudW1lcmF0b3IuX3NldHRsZWRBdChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRhbGwoZW50cmllcykge1xuICAgICAgcmV0dXJuIG5ldyBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkZGVmYXVsdCh0aGlzLCBlbnRyaWVzKS5wcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRhbGw7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkcmFjZShlbnRyaWVzKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICAgICAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG5cbiAgICAgIGlmICghbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuJykpO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxlbmd0aCA9IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICBmdW5jdGlvbiBvbkZ1bGZpbGxtZW50KHZhbHVlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvblJlamVjdGlvbihyZWFzb24pIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBwcm9taXNlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyAmJiBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSksIHVuZGVmaW5lZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRyYWNlO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJHJlc29sdmUob2JqZWN0KSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICAgICAgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QuY29uc3RydWN0b3IgPT09IENvbnN0cnVjdG9yKSB7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCBvYmplY3QpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkcmVzb2x2ZTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJHJlamVjdChyZWFzb24pIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuICAgICAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRyZWplY3Q7XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGNvdW50ZXIgPSAwO1xuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzUmVzb2x2ZXIoKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzTmV3KCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZTtcbiAgICAvKipcbiAgICAgIEBjbGFzcyBQcm9taXNlXG4gICAgICBAcGFyYW0ge2Z1bmN0aW9ufSByZXNvbHZlclxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQGNvbnN0cnVjdG9yXG4gICAgKi9cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZShyZXNvbHZlcikge1xuICAgICAgdGhpcy5faWQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkY291bnRlcisrO1xuICAgICAgdGhpcy5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9yZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVycyA9IFtdO1xuXG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgICAgaWYgKCFsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24ocmVzb2x2ZXIpKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzUmVzb2x2ZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZSkpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNOZXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5hbGwgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmFjZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmVzb2x2ZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmVqZWN0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRkZWZhdWx0O1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLl9zZXRTY2hlZHVsZXIgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0U2NoZWR1bGVyO1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLl9hc2FwID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQ7XG5cbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gICAgICBjb25zdHJ1Y3RvcjogbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UsXG5cbiAgICAvKipcbiAgICAgIEBtZXRob2QgdGhlblxuICAgICAgQHBhcmFtIHtGdW5jdGlvbn0gb25GdWxmaWxsZWRcbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0ZWRcbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICAgKi9cbiAgICAgIHRoZW46IGZ1bmN0aW9uKG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzO1xuICAgICAgICB2YXIgc3RhdGUgPSBwYXJlbnQuX3N0YXRlO1xuXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEICYmICFvbkZ1bGZpbGxtZW50IHx8IHN0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCAmJiAhb25SZWplY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGlsZCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuICAgICAgICB2YXIgcmVzdWx0ID0gcGFyZW50Ll9yZXN1bHQ7XG5cbiAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzW3N0YXRlIC0gMV07XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGludm9rZUNhbGxiYWNrKHN0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHJlc3VsdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgIH0sXG5cbiAgICAvKipcbiAgICAgIEBtZXRob2QgY2F0Y2hcbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAgICovXG4gICAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkcG9seWZpbGwoKSB7XG4gICAgICB2YXIgbG9jYWw7XG5cbiAgICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGxvY2FsID0gZ2xvYmFsO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBsb2NhbCA9IHNlbGY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGxvY2FsID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncG9seWZpbGwgZmFpbGVkIGJlY2F1c2UgZ2xvYmFsIG9iamVjdCBpcyB1bmF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgICAgIGlmIChQICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChQLnJlc29sdmUoKSkgPT09ICdbb2JqZWN0IFByb21pc2VdJyAmJiAhUC5jYXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbG9jYWwuUHJvbWlzZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0O1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRwb2x5ZmlsbDtcblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlID0ge1xuICAgICAgJ1Byb21pc2UnOiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdCxcbiAgICAgICdwb2x5ZmlsbCc6IGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdFxuICAgIH07XG5cbiAgICAvKiBnbG9iYWwgZGVmaW5lOnRydWUgbW9kdWxlOnRydWUgd2luZG93OiB0cnVlICovXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lWydhbWQnXSkge1xuICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZTsgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGVbJ2V4cG9ydHMnXSkge1xuICAgICAgbW9kdWxlWydleHBvcnRzJ10gPSBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzWydFUzZQcm9taXNlJ10gPSBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlO1xuICAgIH1cblxuICAgIGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdCgpO1xufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEF2b2lkIGBjb25zb2xlYCBlcnJvcnMgaW4gYnJvd3NlcnMgdGhhdCBsYWNrIGEgY29uc29sZS5cbihmdW5jdGlvbigpIHtcbiAgICB2YXIgbWV0aG9kO1xuICAgIHZhciBub29wID0gZnVuY3Rpb24gKCkge307XG4gICAgdmFyIG1ldGhvZHMgPSBbXG4gICAgICAgICdhc3NlcnQnLCAnY2xlYXInLCAnY291bnQnLCAnZGVidWcnLCAnZGlyJywgJ2RpcnhtbCcsICdlcnJvcicsXG4gICAgICAgICdleGNlcHRpb24nLCAnZ3JvdXAnLCAnZ3JvdXBDb2xsYXBzZWQnLCAnZ3JvdXBFbmQnLCAnaW5mbycsICdsb2cnLFxuICAgICAgICAnbWFya1RpbWVsaW5lJywgJ3Byb2ZpbGUnLCAncHJvZmlsZUVuZCcsICd0YWJsZScsICd0aW1lJywgJ3RpbWVFbmQnLFxuICAgICAgICAndGltZWxpbmUnLCAndGltZWxpbmVFbmQnLCAndGltZVN0YW1wJywgJ3RyYWNlJywgJ3dhcm4nXG4gICAgXTtcbiAgICB2YXIgbGVuZ3RoID0gbWV0aG9kcy5sZW5ndGg7XG4gICAgdmFyIGNvbnNvbGUgPSAod2luZG93LmNvbnNvbGUgPSB3aW5kb3cuY29uc29sZSB8fCB7fSk7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgbWV0aG9kID0gbWV0aG9kc1tsZW5ndGhdO1xuXG4gICAgICAgIC8vIE9ubHkgc3R1YiB1bmRlZmluZWQgbWV0aG9kcy5cbiAgICAgICAgaWYgKCFjb25zb2xlW21ldGhvZF0pIHtcbiAgICAgICAgICAgIGNvbnNvbGVbbWV0aG9kXSA9IG5vb3A7XG4gICAgICAgIH1cbiAgICB9XG59KCkpO1xuIiwidmFyIGtpY2tiYWNrID0gKGZ1bmN0aW9uKGtpY2tiYWNrKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIC8vIG1ha2UgYSBuZXcgb2JqZWN0XG4gICAga2lja2JhY2sgPSB7fTtcblxuICAgIC8vIHByaXZhdGUgbWV0aG9kXG4gICAgZnVuY3Rpb24gX3NlcmlhbGl6ZShvYmopIHtcbiAgICAgICAgdmFyIHN0ciA9IFtdO1xuICAgICAgICBmb3IodmFyIHAgaW4gb2JqKXtcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICAgICAgICBzdHIucHVzaChlbmNvZGVVUklDb21wb25lbnQocCkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudChvYmpbcF0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyLmpvaW4oXCImXCIpO1xuICAgIH07XG5cbiAgICAvLyBtYWluIHB1YmxpYyBtZXRob2RcbiAgICBraWNrYmFjay5yZXF1ZXN0ID0gZnVuY3Rpb24oa2JPcHRpb25zKSB7XG4gICAgICAgIC8vIG9wdGlvbnMgY29uZmlndXJhdGlvbiBhbmQgZGVmYXVsdHNcbiAgICAgICAgaWYodHlwZW9mIGtiT3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIGFzc3VtZSBpdCdzIGEgdXJsIGFuZCB3ZSBhcmUgdXNpbmcgR0VUIFxuICAgICAgICAgICAgdmFyIHRtcCA9IGtiT3B0aW9ucztcbiAgICAgICAgICAgIGtiT3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAga2JPcHRpb25zLnVybCA9IHRtcDtcbiAgICAgICAgICAgIHRtcCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBrYk9wdGlvbnMudXJsID0gKGtiT3B0aW9ucy51cmwpID8ga2JPcHRpb25zLnVybCA6ICcvJztcbiAgICAgICAga2JPcHRpb25zLmRhdGEgPSAoa2JPcHRpb25zLmRhdGEpID8ga2JPcHRpb25zLmRhdGEgOiBudWxsO1xuICAgICAgICBrYk9wdGlvbnMubWV0aG9kID0gKGtiT3B0aW9ucy5tZXRob2QpID8ga2JPcHRpb25zLm1ldGhvZCA6ICdHRVQnO1xuICAgICAgICBrYk9wdGlvbnMuaGVhZGVycyA9IChrYk9wdGlvbnMuaGVhZGVycykgPyBrYk9wdGlvbnMuaGVhZGVycyA6IGZhbHNlO1xuICAgICAgICBrYk9wdGlvbnMuY29ycyA9IChrYk9wdGlvbnMuY29ycykgPyBrYk9wdGlvbnMuY29ycyA6IGZhbHNlO1xuICAgICAgICBrYk9wdGlvbnMuYXN5bmMgPSAoa2JPcHRpb25zLmFzeW5jKSA/IGtiT3B0aW9ucy5hc3luYyA6IHRydWU7XG4gICAgICAgIGtiT3B0aW9ucy5zZXJpYWxpemUgPSAoa2JPcHRpb25zLnNlcmlhbGl6ZSkgPyBrYk9wdGlvbnMuc2VyaWFsaXplIDogZmFsc2U7XG4gICAgICAgIGtiT3B0aW9ucy5hdXRvID0gKGtiT3B0aW9ucy5hdXRvKSA/IGtiT3B0aW9ucy5hdXRvIDogZmFsc2U7IFxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoa2JPcHRpb25zLCAndG1wJywge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYoa2JPcHRpb25zLmF1dG8gPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiB3aW5kb3cuRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSB7IFxuICAgICAgICAgICAgICAgIGlmKGtiT3B0aW9ucy5kYXRhIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAga2JPcHRpb25zLmRhdGEgPSBuZXcgRm9ybURhdGEoa2JPcHRpb25zLmRhdGEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGtiT3B0aW9ucy5kYXRhID09PSAnb2JqZWN0JyAmJiBrYk9wdGlvbnMuZGF0YSBpbnN0YW5jZW9mIEFycmF5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBrYk9wdGlvbnMudG1wID0ga2JPcHRpb25zLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGtiT3B0aW9ucy5kYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGtiT3B0aW9ucy50bXApLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrYk9wdGlvbnMuZGF0YS5hcHBlbmQoa2V5LCBrYk9wdGlvbnMudG1wW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGtiT3B0aW9ucy50bXA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdWJtaXQgZGF0YSBhcyBvYmplY3Qgb3IgSFRNTEVsZW1lbnQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmKGtiT3B0aW9ucy5kYXRhIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAga2JPcHRpb25zLnRtcCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoa2JPcHRpb25zLmRhdGEsIGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtiT3B0aW9ucy50bXBbZWxlbS5uYW1lXSA9IGVsZW0udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBrYk9wdGlvbnMuZGF0YSA9IGtiT3B0aW9ucy50bXA7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBrYk9wdGlvbnMudG1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBrYk9wdGlvbnMuc2VyaWFsaXplID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGtiT3B0aW9ucy5zZXJpYWxpemUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGtiT3B0aW9ucy5kYXRhID0gX3NlcmlhbGl6ZShrYk9wdGlvbnMuZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZihrYk9wdGlvbnMuZGF0YSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZm9ybURBVEEnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdub3RGb3JtRGF0YScpO1xuICAgICAgICB9IFxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHhoci5vcGVuKGtiT3B0aW9ucy5tZXRob2QsIGtiT3B0aW9ucy51cmwsIGtiT3B0aW9ucy5hc3luYyk7XG5cbiAgICAgICAgICAgIC8vIGNoZWNrIHN0YXR1c1xuICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmKHhoci5zdGF0dXMgPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoRXJyb3IoJ0Vycm9yOiAnLCB4aHIuc3RhdHVzVHh0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gbmV0d29yayBlcnJvclxuICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoRXJyb3IoJ05ldHdvcmsgRXJyb3InKSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBzZXQgaGVhZGVyc1xuICAgICAgICAgICAgaWYoa2JPcHRpb25zLmhlYWRlcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAga2JPcHRpb25zLmhlYWRlcnMudHlwZSA9IGtiT3B0aW9ucy5oZWFkZXJzLnR5cGUgfHwgJ0NvbnRlbnQtVHlwZSc7XG4gICAgICAgICAgICAgICAga2JPcHRpb25zLmhlYWRlcnMudmFsdWUgPSBrYk9wdGlvbnMuaGVhZGVycy52YWx1ZSB8fCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JztcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrYk9wdGlvbnMuaGVhZGVycy50eXBlLCBrYk9wdGlvbnMuaGVhZGVycy52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKGtiT3B0aW9ucy5oZWFkZXJzID09PSBmYWxzZSAmJiBrYk9wdGlvbnMubWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09ICdwb3N0JyAmJiBrYk9wdGlvbnMuc2VyaWFsaXplID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlcXVlc3RcbiAgICAgICAgICAgIGlmKGtiT3B0aW9ucy5tZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ2dldCcpIHtcbiAgICAgICAgICAgICAgICB4aHIuc2VuZChudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeGhyLnNlbmQoa2JPcHRpb25zLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9OyAvLyBlbmQgbWFpbiBtZXRob2RcblxuXG4gICAgcmV0dXJuIGtpY2tiYWNrO1xuXG59KGtpY2tiYWNrKSk7XG5cbi8vIHNlZSBpZiB3ZSBhcmUgaW4gbm9kZSBpZiBzbyBzdXBwb3J0IGl0IVxuaWYodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGtpY2tiYWNrO1xufVxuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZm9ybURhdGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtI2NvbnRhY3QnKSxcbiAgICAgICAgZm9ybUVycm9yID0ge307XG5cbiAgICBbXS5mb3JFYWNoLmNhbGwoZm9ybURhdGEsIGZ1bmN0aW9uKGZvcm1JbnB1dCkge1xuICAgICAgaWYoZm9ybUlucHV0LnZhbHVlID09ICcnKSB7XG4gICAgICAgIGZvcm1FcnJvcltmb3JtSW5wdXQubmFtZV0gPSAncmVxdWlyZWQnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYoT2JqZWN0LmtleXMoZm9ybUVycm9yKS5sZW5ndGgpIHtcbiAgICAgIGZvcih2YXIgZXJyb3IgaW4gZm9ybUVycm9yKSB7XG4gICAgICAgIGlmKGZvcm1FcnJvci5oYXNPd25Qcm9wZXJ0eShlcnJvcikpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgJytlcnJvcisnICcrZm9ybUVycm9yW2Vycm9yXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAga2lja2JhY2sucmVxdWVzdCh7XG4gICAgICAgIHVybDogJy9jb250YWN0JyxcbiAgICAgICAgZGF0YTogZm9ybURhdGEsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBhdXRvOiB0cnVlXG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgaWYocmVzcG9uc2Uuc3VjY2VzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdTVUNDRVNTJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2htbW0nLCByZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfSlbJ2NhdGNoJ10oZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdQcm9tIGZhaWw6ICcsZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICB9LCBmYWxzZSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBzY3JvbGxUaW1lciA9IG51bGwsXG4gICAgICAgIHNjcm9sbENhY2hlVGltZXIgPSBudWxsLFxuICAgICAgICBjYWNoZVNjcm9sbFBvcyA9IDA7XG5cbiAgICB2YXIgbmF2bWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3VsW3JvbGU9XCJtZW51YmFyXCJdJyksXG4gICAgICAgIG1lbnViYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbi1uYXYnKSxcbiAgICAgICAgbWFzdGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFzdGhlYWQnKTtcblxuICAgIHZhciBzZWN0aW9ucyA9IFtcbiAgICAgICAgICAgICcjYWJvdXQnLFxuICAgICAgICAgICAgJyN3b3JrJyxcbiAgICAgICAgICAgICcjcHJvamVjdHMnXG4gICAgICAgIF07XG5cbiAgICB2YXIgaW5pdGlhbEJHQ29sb3IgPSAnI2VhZWFlYScsXG4gICAgICAgIGJHQ29sb3JfMSA9ICcjQUZCNEQ4JyxcbiAgICAgICAgYkdDb2xvcl8yID0gJyM2Rjk0QkUnLFxuICAgICAgICBiR0NvbG9yXzMgPSAnIzZFQUVCMycsXG4gICAgICAgIGJHQ29sb3JfNCA9ICcjNjZDRjk3JyxcbiAgICAgICAgYkdDb2xvcl81ID0gJyM0OURCNDUnLFxuICAgICAgICBiR0NvbG9yXzYgPSAnIzFERTQxMCc7XG5cbiAgICBmdW5jdGlvbiBzY3JvbGxTZXRDYWNoZWQoKSB7XG4gICAgICAgIGNhY2hlU2Nyb2xsUG9zID0gd2luZG93LnNjcm9sbFk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzZXQgY2FjaGUgWScsIGNhY2hlU2Nyb2xsUG9zKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzY3JvbGxpbmcgc3RvcHBlZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRWxlbWVudFZpc2libGUoZWxlbSkge1xuICAgICAgICBpZih0eXBlb2YgZWxlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW0pO1xuICAgICAgICB9XG4gICAgICAgXG4gICAgICAgIGlmKCFlbGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIFxuICAgICAgICBpZihyZWN0LnRvcCA+IHdpbmRvdy5pbm5lckhlaWdodCB8fCByZWN0LmJvdHRvbSA8IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsZW0sICdpcyBOT1QgaW4gdmlldycpO1xuICAgICAgICAgICAgaWYoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2luLXZpZXcnKSkge1xuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaW4tdmlldycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZWxlbSwgJ2lzIGluIHZpZXcnKTtcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnaW4tdmlldycpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbiBkZXRlY3RTY3JvbGwoZSkge1xuICAgICAgICBpZihzY3JvbGxUaW1lciAhPSBudWxsKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsVGltZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoc2Nyb2xsQ2FjaGVUaW1lciAhPSBudWxsKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsQ2FjaGVUaW1lcik7XG4gICAgICAgIH0gXG5cbiAgICAgICAgaWYoY2FjaGVTY3JvbGxQb3MgPCB3aW5kb3cuc2Nyb2xsWSkge1xuICAgICAgICAgICAgLy9zY3JvbGxpbmcgZG93biBcbiAgICAgICAgICAgIG1lbnViYXIuY2xhc3NMaXN0LmFkZCgnaGlkZS1uYXYnKTtcbiAgICAgICAgfVxuICAgICAgICBpZihjYWNoZVNjcm9sbFBvcyA+IHdpbmRvdy5zY3JvbGxZKSB7XG4gICAgICAgICAgICAvL3Njcm9sbGluZyB1cFxuICAgICAgICAgICAgbWVudWJhci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlLW5hdicpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2Nyb2xsVGltZXIgPSBzZXRUaW1lb3V0KGhhbmRsZVNjcm9sbCwgMTUwMCk7XG4gICAgICAgIHNjcm9sbENhY2hlVGltZXIgPSBzZXRUaW1lb3V0KHNjcm9sbFNldENhY2hlZCwgMTAwKTtcblxuICAgICAgICBpZih3aW5kb3cuc2Nyb2xsWSA9PSAwKSB7IG1hc3RoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGluaXRpYWxCR0NvbG9yOyB9IFxuICAgICAgICBpZih3aW5kb3cuc2Nyb2xsWSA+IDAgJiYgd2luZG93LnNjcm9sbFkgPD0gMjApIHsgbWFzdGhlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYkdDb2xvcl8xOyB9XG4gICAgICAgIGlmKHdpbmRvdy5zY3JvbGxZID49IDIxICYmIHdpbmRvdy5zY3JvbGxZIDw9IDQwKSB7IG1hc3RoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJHQ29sb3JfMjsgfVxuICAgICAgICBpZih3aW5kb3cuc2Nyb2xsWSA+PSA0MSAmJiB3aW5kb3cuc2Nyb2xsWSA8PSA2MCkgeyBtYXN0aGVhZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiR0NvbG9yXzM7IH1cbiAgICAgICAgaWYod2luZG93LnNjcm9sbFkgPj0gNjEgJiYgd2luZG93LnNjcm9sbFkgPD0gODApIHsgbWFzdGhlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYkdDb2xvcl80OyB9XG4gICAgICAgIGlmKHdpbmRvdy5zY3JvbGxZID49IDgxICYmIHdpbmRvdy5zY3JvbGxZIDw9IDEwMCkgeyBtYXN0aGVhZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiR0NvbG9yXzU7IH1cbiAgICAgICAgaWYod2luZG93LnNjcm9sbFkgPj0gMTAxICYmIHdpbmRvdy5zY3JvbGxZIDw9IDEyMCkgeyBtYXN0aGVhZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiR0NvbG9yXzY7IH1cbiAgICAgICAgaWYod2luZG93LnNjcm9sbFkgPj0gMTIxKSB7IG1hc3RoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGluaXRpYWxCR0NvbG9yOyB9XG5cbiAgICAgICAgc2VjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgICBpc0VsZW1lbnRWaXNpYmxlKGVsZW0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG59KSh3aW5kb3cpO1xuIiwiKGZ1bmN0aW9uKCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLy8gRnVuY3Rpb24gdG8gYW5pbWF0ZSB0aGUgc2Nyb2xsXG4gICAgdmFyIHNtb290aFNjcm9sbCA9IGZ1bmN0aW9uKGFuY2hvciwgZHVyYXRpb24sIG9mZnNldCkge1xuXG4gICAgICAvLyBDYWxjdWxhdGUgaG93IGZhciBhbmQgaG93IGZhc3QgdG8gc2Nyb2xsXG4gICAgICB2YXIgc3RhcnRMb2NhdGlvbiA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgIHZhciBlbmRMb2NhdGlvbiA9IGFuY2hvci5vZmZzZXRUb3A7XG4gICAgICB2YXIgZGlzdGFuY2UgPSBlbmRMb2NhdGlvbiAtIHN0YXJ0TG9jYXRpb247XG4gICAgICB2YXIgaW5jcmVtZW50cyA9IGRpc3RhbmNlIC8gKGR1cmF0aW9uIC8gMTYpO1xuICAgICAgdmFyIHN0b3BBbmltYXRpb24sIHJ1bkFuaW1hdGlvbiwgdHJhdmVsbGVkO1xuXG4gICAgICBpZihvZmZzZXQgPiAwKSB7XG4gICAgICAgIGVuZExvY2F0aW9uID0gZW5kTG9jYXRpb24gLSBvZmZzZXQ7XG4gICAgICB9XG5cbiAgICAgIC8vIFNjcm9sbCB0aGUgcGFnZSBieSBhbiBpbmNyZW1lbnQsIGFuZCBjaGVjayBpZiBpdCdzIHRpbWUgdG8gc3RvcFxuICAgICAgdmFyIGFuaW1hdGVTY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2luZG93LnNjcm9sbEJ5KDAsIGluY3JlbWVudHMpO1xuICAgICAgICB0cmF2ZWxsZWQgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cbiAgICAgICAgcnVuQW5pbWF0aW9uID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGVTY3JvbGwpO1xuXG4gICAgICAgIC8vIElmIHNjcm9sbGluZyBkb3duXG4gICAgICAgICAgaWYgKGluY3JlbWVudHMgPj0gMCkge1xuICAgICAgICAgICAgLy8gU3RvcCBhbmltYXRpb24gd2hlbiB5b3UgcmVhY2ggdGhlIGFuY2hvciBPUiB0aGUgYm90dG9tIG9mIHRoZSBwYWdlXG4gICAgICAgICAgICAgIGlmICgodHJhdmVsbGVkID49IChlbmRMb2NhdGlvbiAtIGluY3JlbWVudHMpKSB8fCAoKHdpbmRvdy5pbm5lckhlaWdodCArIHRyYXZlbGxlZCkgPj0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQpKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocnVuQW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJZiBzY3JvbGxpbmcgdXBcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFN0b3AgYW5pbWF0aW9uIHdoZW4geW91IHJlYWNoIHRoZSBhbmNob3IgT1IgdGhlIHRvcCBvZiB0aGUgcGFnZVxuICAgICAgICAgICAgICBpZiAodHJhdmVsbGVkIDw9IChlbmRMb2NhdGlvbiB8fCAwKSkge1xuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJ1bkFuaW1hdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBMb29wIHRoZSBhbmltYXRpb24gZnVuY3Rpb25cbiAgICAgIHJ1bkFuaW1hdGlvbiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlU2Nyb2xsKTtcblxuICAgIH07XG5cbiAgICAvLyBXaGVuIHRoZSBzbW9vdGggc2Nyb2xsIGxpbmsgaXMgY2xpY2tlZFxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIC8vIGV2ZW50IGRlbGVnYXRpb25cbiAgICBpZihlLnRhcmdldCAmJiBlLnRhcmdldC5ub2RlTmFtZSA9PSAnQScpIHtcbiAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzY3JvbGwnKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAvLyBHZXQgYW5jaG9yIGxpbmsgYW5kIGNhbGN1bGF0ZSBkaXN0YW5jZSBmcm9tIHRoZSB0b3BcbiAgICAgICAgICAgIHZhciBkYXRhSUQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICAgICAgICAgIHZhciBkYXRhVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhSUQpO1xuICAgICAgICAgICAgdmFyIGRhdGFTcGVlZCA9IChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsLXNwZWVkJykpID8gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1zcGVlZCcpIDogNTAwO1xuICAgICAgICAgICAgdmFyIGRhdGFPZmZzZXQgPSAoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1vZmZzZXQnKSkgPyBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsLW9mZnNldCcpIDogZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBhbmNob3IgZXhpc3RzXG4gICAgICAgICAgICBpZiAoZGF0YVRhcmdldCkge1xuICAgICAgICAgICAgICAvLyBTY3JvbGwgdG8gdGhlIGFuY2hvclxuICAgICAgICAgICAgICBzbW9vdGhTY3JvbGwoZGF0YVRhcmdldCwgZGF0YVNwZWVkLCBkYXRhT2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIH0sIGZhbHNlKTtcblxufSkoKTtcbiIsIndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZ2l0ZmVlZDtcbiAgICB2YXIgZmVlZENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZWVkJyk7XG5cbiAgICBmdW5jdGlvbiBmZWVkQnVpbGRlcihmZWVkKSB7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBlbGVtLmlubmVySFRNTCA9IGZlZWRbaV0uY29udGVudFswXS5fO1xuICAgICAgICAgICAgZmVlZENvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuXG4gICAga2lja2JhY2sucmVxdWVzdCh7XG4gICAgICAgIHVybDogJy9mZWVkJyxcbiAgICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgZ2l0ZmVlZCA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgICAgICB2YXIgZW50cmllcyA9IGdpdGZlZWQuZmVlZC5lbnRyeTtcbiAgICAgICAgdmFyIGZlZWRIVE1MID0gZ2l0ZmVlZC5mZWVkLmVudHJ5WzBdLmNvbnRlbnRbMF0uXztcbiAgICAgICAgY29uc29sZS5sb2coZ2l0ZmVlZC5mZWVkLmVudHJ5WzBdLmNvbnRlbnRbMF0uXyk7XG4gICAgICAgIGZlZWRCdWlsZGVyKGVudHJpZXMpO1xuICAgICAgICByZXR1cm47XG4gICAgfSlbJ2NhdGNoJ10oZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgfSk7XG4gICAgXG59O1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9