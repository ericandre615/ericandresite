function Timemap(e){"use strict";function t(e){return e.replace(/Y/,i).replace(/y/,i.toString().substr(2,3)).replace(/mm/,n+1).replace(/MM/,n.toString().length>1?n+1:"0"+(n+1)).replace(/M/,a[n]).replace(/m/,a[n].toString().substr(0,3)).replace(/dd/,r).replace(/DD/,r.toString().length>1?r:"0"+r).replace(/d/,s[o].toString().substr(0,3)).replace(/D/,s[o])}var e=e||new Date,n=e.getMonth(),r=e.getDate(),o=e.getDay(),i=e.getFullYear(),a=(e.getTime(),e.getHours(),e.getMinutes(),e.getSeconds(),["January","February","March","April","May","June","July","August","September","October","November","December"]),s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return{date:e,format:t}}!function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),o=Math.max(0,16-(r-e)),i=window.setTimeout(function(){t(r+o)},o);return e=r+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function r(e,t){Q[U]=e,Q[U+1]=t,U+=2,2===U&&(N?N(u):R())}function o(e){N=e}function i(){var e=process.nextTick,t=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=setImmediate),function(){e(u)}}function a(){return function(){H(u)}}function s(){var e=0,t=new G(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=u,function(){e.port2.postMessage(0)}}function l(){return function(){setTimeout(u,1)}}function u(){for(var e=0;U>e;e+=2){var t=Q[e],n=Q[e+1];t(n),Q[e]=void 0,Q[e+1]=void 0}U=0}function d(){try{var e=require,t=e("vertx");return H=t.runOnLoop||t.runOnContext,a()}catch(n){return l()}}function f(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function v(e){try{return e.then}catch(t){return te.error=t,te}}function y(e,t,n,r){try{e.call(t,n,r)}catch(o){return o}}function g(e,t,n){J(function(e){var r=!1,o=y(n,t,function(n){r||(r=!0,t!==n?b(e,n):E(e,n))},function(t){r||(r=!0,A(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,A(e,o))},e)}function h(e,t){t._state===Z?E(e,t._result):t._state===ee?A(e,t._result):L(t,void 0,function(t){b(e,t)},function(t){A(e,t)})}function w(e,n){if(n.constructor===e.constructor)h(e,n);else{var r=v(n);r===te?A(e,te.error):void 0===r?E(e,n):t(r)?g(e,n,r):E(e,n)}}function b(t,n){t===n?A(t,m()):e(n)?w(t,n):E(t,n)}function _(e){e._onerror&&e._onerror(e._result),T(e)}function E(e,t){e._state===V&&(e._result=t,e._state=Z,0!==e._subscribers.length&&J(T,e))}function A(e,t){e._state===V&&(e._state=ee,e._result=t,J(_,e))}function L(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+Z]=n,o[i+ee]=r,0===i&&e._state&&J(T,e)}function T(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,o,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?C(n,r,o,i):o(i);e._subscribers.length=0}}function S(){this.error=null}function k(e,t){try{return e(t)}catch(n){return ne.error=n,ne}}function C(e,n,r,o){var i,a,s,c,l=t(r);if(l){if(i=k(r,o),i===ne?(c=!0,a=i.error,i=null):s=!0,n===i)return void A(n,p())}else i=o,s=!0;n._state!==V||(l&&s?b(n,i):c?A(n,a):e===Z?E(n,i):e===ee&&A(n,i))}function q(e,t){try{t(function(t){b(e,t)},function(t){A(e,t)})}catch(n){A(e,n)}}function F(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(f),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?E(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&E(n.promise,n._result))):A(n.promise,n._validationError())}function Y(e){return new re(this,e).promise}function B(e){function t(e){b(o,e)}function n(e){A(o,e)}var r=this,o=new r(f);if(!z(e))return A(o,new TypeError("You must pass an array to race.")),o;for(var i=e.length,a=0;o._state===V&&i>a;a++)L(r.resolve(e[a]),void 0,t,n);return o}function D(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return b(n,e),n}function M(e){var t=this,n=new t(f);return A(n,e),n}function O(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function x(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(e){this._id=ce++,this._state=void 0,this._result=void 0,this._subscribers=[],f!==e&&(t(e)||O(),this instanceof j||x(),q(this,e))}function I(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=le)}var P;P=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H,N,R,z=P,U=0,J=({}.toString,r),K="undefined"!=typeof window?window:void 0,W=K||{},G=W.MutationObserver||W.WebKitMutationObserver,X="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),$="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3);R=X?i():G?s():$?c():void 0===K&&"function"==typeof require?d():l();var V=void 0,Z=1,ee=2,te=new S,ne=new S;F.prototype._validateInput=function(e){return z(e)},F.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},F.prototype._init=function(){this._result=new Array(this.length)};var re=F;F.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,o=0;n._state===V&&t>o;o++)e._eachEntry(r[o],o)},F.prototype._eachEntry=function(e,t){var r=this,o=r._instanceConstructor;n(e)?e.constructor===o&&e._state!==V?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(o.resolve(e),t):(r._remaining--,r._result[t]=e)},F.prototype._settledAt=function(e,t,n){var r=this,o=r.promise;o._state===V&&(r._remaining--,e===ee?A(o,n):r._result[t]=n),0===r._remaining&&E(o,r._result)},F.prototype._willSettleAt=function(e,t){var n=this;L(e,void 0,function(e){n._settledAt(Z,t,e)},function(e){n._settledAt(ee,t,e)})};var oe=Y,ie=B,ae=D,se=M,ce=0,le=j;j.all=oe,j.race=ie,j.resolve=ae,j.reject=se,j._setScheduler=o,j._asap=J,j.prototype={constructor:j,then:function(e,t){var n=this,r=n._state;if(r===Z&&!e||r===ee&&!t)return this;var o=new this.constructor(f),i=n._result;if(r){var a=arguments[r-1];J(function(){C(r,o,a,i)})}else L(n,o,e,t);return o},"catch":function(e){return this.then(null,e)}};var ue=I,de={Promise:le,polyfill:ue};"function"==typeof define&&define.amd?define(function(){return de}):"undefined"!=typeof module&&module.exports?module.exports=de:"undefined"!=typeof this&&(this.ES6Promise=de),ue()}.call(this),function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],r=n.length,o=window.console=window.console||{};r--;)e=n[r],o[e]||(o[e]=t)}(),"undefined"!=typeof module&&module.exports&&(module.exports=Timemap);var kickback=function(e){"use strict";function t(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}return e={},e.request=function(e){if("string"==typeof e){var n=e;e={},e.url=n,n=null}if(e.url=e.url?e.url:"/",e.data=e.data?e.data:null,e.method=e.method?e.method:"GET",e.headers=e.headers?e.headers:!1,e.cors=e.cors?e.cors:!1,e.async=e.async?e.async:!0,e.serialize=e.serialize?e.serialize:!1,e.auto=e.auto?e.auto:!1,Object.defineProperty(e,"tmp",{configurable:!0,writable:!0}),e.auto===!0)if("undefined"!=typeof window.FormData)if(e.data instanceof HTMLElement)e.data=new FormData(e.data);else{if("object"!=typeof e.data||e.data instanceof Array!=!1)throw new Error("Submit data as object or HTMLElement");e.tmp=e.data,e.data=new FormData,Object.keys(e.tmp).forEach(function(t){e.data.append(t,e.tmp[t])}),delete e.tmp}else e.data instanceof HTMLElement&&(e.tmp={},[].forEach.call(e.data,function(t){e.tmp[t.name]=t.value}),e.data=e.tmp,delete e.tmp),e.serialize=!0;return e.serialize===!0&&(e.data=t(e.data)),console.log(e.data instanceof FormData?"formDATA":"notFormData"),new Promise(function(t,n){var r=new XMLHttpRequest;r.open(e.method,e.url,e.async),r.onload=function(){200==r.status?t(r.response):n(Error("Error: ",r.statusTxt))},r.onerror=function(){n(Error("Network Error"))},e.headers!==!1&&(e.headers.type=e.headers.type||"Content-Type",e.headers.value=e.headers.value||"text/plain;charset=UTF-8",r.setRequestHeader(e.headers.type,e.headers.value)),e.headers===!1&&"post"===e.method.toLowerCase()&&e.serialize===!0&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send("get"===e.method.toLowerCase()?null:e.data)})},e}(kickback);"undefined"!=typeof module&&module.exports&&(module.exports=kickback),function(){"use strict";var e=document.getElementById("contact"),t=document.querySelector('button[type="submit"]');[].forEach.call(e,function(e){"BUTTON"!==e.nodeName&&(e.addEventListener("focus",function(e){var t=e.target.name,n=document.querySelector('label[for="'+t+'"]');n.classList.add("active")},!1),e.addEventListener("blur",function(e){var t=e.target.name,n=document.querySelector('label[for="'+t+'"]');e.target.value.length&&n.classList.add("valid"),e.target.value.length||(n.classList.remove("valid"),n.classList.add("error")),n.classList.remove("active")},!1))}),document.addEventListener("submit",function(n){n.preventDefault();var r={};if([].forEach.call(e,function(e){if("BUTTON"!==e.nodeName)if(""==e.value)r[e.name]="required";else{var t=document.querySelector('label[for="'+e.name+'"]');t.classList.remove("error"),t.classList.add("valid")}}),Object.keys(r).length){for(var o in r)if(r.hasOwnProperty(o)){var i=document.querySelector('label[for="'+o+'"]');i.classList.add("error"),console.log("Error "+o+" "+r[o])}}else document.body.style.cursor="wait",t.setAttribute("disabled",!0),kickback.request({url:"/contact",data:{name_full:e.name_full.value,email:e.email.value,msg:e.msg.value},method:"POST",serialize:!0}).then(function(e){return e.success===!0?(console.log("SUCCESS",e),document.body.style.cursor="initial",t.removeAttribute("disabled")):e.code.length?(console.log("hmmm",e),document.body.style.cursor="initial",t.removeAttribute("disabled")):(console.log("dang",e),document.body.style.cursor="initial",t.removeAttribute("disabled")),e})["catch"](function(e){return new Error("Prom fail: ",e)})},!1)}(),function(e){"use strict";function t(){c=e.scrollY,console.log("set cache Y",c)}function n(){console.log("scrolling stopped"),console.log("dir",i),"down"==i&&(u.classList.remove("active"),d.classList.add("hide-nav"))}function r(e){e?(console.log("SKILLS in view add list"),Array.prototype.forEach.call(l,function(e){e.classList.add("active")})):(console.log("SKILLS NOT view remove list"),Array.prototype.forEach.call(l,function(e){e.classList.remove("active")}))}function o(t){if("string"==typeof t){var n=document.querySelector('a[href="'+t+'"]');t=document.querySelector(t)}if(!t)return!1;var r=t.getBoundingClientRect();return r.top>e.innerHeight-150||r.bottom<150?(console.log(t,"is NOT in view"),t.classList.contains("in-view")&&t.classList.remove("in-view"),n.classList.contains("active-nav")&&n.classList.remove("active-nav"),!1):(console.log(t,"is in view"),console.log(n,"is active"),t.classList.add("in-view"),n.classList.add("active-nav"),!0)}var i,a=null,s=null,c=0,l=document.querySelectorAll(".skill-bar"),u=document.querySelector('ul[role="menubar"]'),d=document.getElementById("main-nav"),f=document.getElementById("masthead"),m=["#about","#work","#skills","#projects","#education"],p="#eaeaea",v="#AFB4D8",y="#6F94BE",g="#6EAEB3",h="#66CF97",w="#49DB45",b="#1DE410";e.onscroll=function(l){null!=a&&clearTimeout(a),null!=s&&clearTimeout(s),c<e.scrollY&&(i="down"),c>e.scrollY&&(i="up",d.classList.remove("hide-nav")),a=setTimeout(n,500),s=setTimeout(t,100),0==e.scrollY&&(f.style.backgroundColor=p),e.scrollY>0&&e.scrollY<=20&&(f.style.backgroundColor=v),e.scrollY>=21&&e.scrollY<=40&&(f.style.backgroundColor=y),e.scrollY>=41&&e.scrollY<=60&&(f.style.backgroundColor=g),e.scrollY>=61&&e.scrollY<=80&&(f.style.backgroundColor=h),e.scrollY>=81&&e.scrollY<=100&&(f.style.backgroundColor=w),e.scrollY>=101&&e.scrollY<=120&&(f.style.backgroundColor=b),e.scrollY>=121&&(f.style.backgroundColor=p),m.forEach(function(e){o(e),"#skills"==e&&r(o(e)?!0:!1)})}}(window),function(){"use strict";var e=function(e,t,n){var r,o,i=window.pageYOffset,a=e.offsetTop,s=a-i,c=s/(t/16);n>0&&(a-=n);var l=function(){window.scrollBy(0,c),o=window.pageYOffset,r=requestAnimationFrame(l),c>=0?(o>=a-c||window.innerHeight+o>=document.body.offsetHeight)&&cancelAnimationFrame(r):(a||0)>=o&&cancelAnimationFrame(r)};r=requestAnimationFrame(l)};document.addEventListener("click",function(t){if(t.target&&"A"==t.target.nodeName&&t.target.classList.contains("scroll")){t.preventDefault();var n=t.target.getAttribute("href"),r=document.querySelector(n),o=t.target.getAttribute("data-scroll-speed")?t.target.getAttribute("data-scroll-speed"):500,i=t.target.getAttribute("data-scroll-offset")?t.target.getAttribute("data-scroll-offset"):0;r&&e(r,o,i)}},!1)}(),window.addEventListener("load",function(){function e(e,t){for(var t=t||3,r=0;t>r;r++){var o=document.createElement("div");o.classList.add("alert"),o.innerHTML=e[r].content[0]._,n.appendChild(o)}}var t,n=document.getElementById("feed");kickback.request({url:"/feed",method:"GET"}).then(function(n){t=JSON.parse(n);var r=t.feed.entry;e(r,6)})["catch"](function(e){return e})},!1),function(e){function t(){e.innerWidth<740?c.classList.contains("side-menu")||(c.classList.add("side-menu"),s.removeChild(c),l.appendChild(c)):c.classList.contains("side-menu")&&(l.removeChild(c),s.insertBefore(c,a),c.classList.remove("side-menu"))}var n=document.getElementById("toggle-code"),r=document.getElementById("code-about"),o=document.getElementById("bare-about"),i=document.getElementById("about"),a=document.getElementById("menu-btn"),s=document.getElementById("main-nav"),c=document.querySelector('ul[role="menubar"]'),l=document.getElementById("masthead");a.addEventListener("click",function(e){a.classList.toggle("active"),c.classList.toggle("active")},!1),n.addEventListener("click",function(t){{var n=i.getBoundingClientRect();o.getBoundingClientRect()}if(t.target.classList.contains("active")){t.target.classList.remove("active"),r.classList.remove("active");var a=e.setTimeout(function(){r.style.display="none",o.style.display="inline-block",e.clearTimeout(a)},1100)}else{r.style.top="0px",r.style.right="-"+n.width+"px",r.style.display="inline-block",o.style.left="-"+n.width+"px";var a=e.setTimeout(function(){o.style.display="none",r.classList.add("active"),e.clearTimeout(a)},500);t.target.classList.add("active")}},!1),e.addEventListener("load",t,!1),e.onresize=t}(window);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRpbWVtYXAuanMiLCJwb2x5ZmlsbHMuanMiLCJwbHVnaW5zLmpzIiwia2lja2JhY2suanMiLCJmb3JtLWFjdGlvbi5qcyIsInNjcm9sbGFibGVzLmpzIiwic21vb3RoLXNjcm9sbC5qcyIsImZlZWQuanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbIlRpbWVtYXAiLCJkYXRlT2JqIiwiZm9ybWF0Iiwic3RyIiwicmVwbGFjZSIsInllYXIiLCJ0b1N0cmluZyIsInN1YnN0ciIsIm1vbnRoIiwibGVuZ3RoIiwibW9udGhzIiwiZGF5IiwiZGF5cyIsImRheU9mV2VlayIsIkRhdGUiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXREYXkiLCJnZXRGdWxsWWVhciIsImdldFRpbWUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZGF0ZSIsImxhc3RUaW1lIiwidmVuZG9ycyIsIngiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNhbGxiYWNrIiwiZWxlbWVudCIsImN1cnJUaW1lIiwidGltZVRvQ2FsbCIsIk1hdGgiLCJtYXgiLCJpZCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJsaWIkZXM2JHByb21pc2UkdXRpbHMkJG9iamVjdE9yRnVuY3Rpb24iLCJsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24iLCJsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzTWF5YmVUaGVuYWJsZSIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwIiwiYXJnIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbiIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJHNldFNjaGVkdWxlciIsInNjaGVkdWxlRm4iLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTmV4dFRpY2siLCJuZXh0VGljayIsInByb2Nlc3MiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJub2RlIiwibWF0Y2giLCJBcnJheSIsImlzQXJyYXkiLCJzZXRJbW1lZGlhdGUiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlVmVydHhUaW1lciIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCR2ZXJ0eE5leHQiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTXV0YXRpb25PYnNlcnZlciIsIml0ZXJhdGlvbnMiLCJvYnNlcnZlciIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlciIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsImRhdGEiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTWVzc2FnZUNoYW5uZWwiLCJjaGFubmVsIiwiTWVzc2FnZUNoYW5uZWwiLCJwb3J0MSIsIm9ubWVzc2FnZSIsInBvcnQyIiwicG9zdE1lc3NhZ2UiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCIsImkiLCJ1bmRlZmluZWQiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkYXR0ZW1wdFZlcnRleCIsInIiLCJyZXF1aXJlIiwidmVydHgiLCJydW5Pbkxvb3AiLCJydW5PbkNvbnRleHQiLCJlIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHNlbGZGdWxsZmlsbG1lbnQiLCJUeXBlRXJyb3IiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRjYW5ub3RSZXR1cm5Pd24iLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRnZXRUaGVuIiwicHJvbWlzZSIsInRoZW4iLCJlcnJvciIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5VGhlbiIsInZhbHVlIiwiZnVsZmlsbG1lbnRIYW5kbGVyIiwicmVqZWN0aW9uSGFuZGxlciIsImNhbGwiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVGb3JlaWduVGhlbmFibGUiLCJ0aGVuYWJsZSIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRkZWZhdWx0Iiwic2VhbGVkIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZSIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwiLCJyZWFzb24iLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QiLCJfbGFiZWwiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVPd25UaGVuYWJsZSIsIl9zdGF0ZSIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCIsIl9yZXN1bHQiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZSIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU1heWJlVGhlbmFibGUiLCJtYXliZVRoZW5hYmxlIiwiY29uc3RydWN0b3IiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoUmVqZWN0aW9uIiwiX29uZXJyb3IiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyIsIl9zdWJzY3JpYmVycyIsInBhcmVudCIsImNoaWxkIiwib25GdWxmaWxsbWVudCIsIm9uUmVqZWN0aW9uIiwic3Vic2NyaWJlcnMiLCJzZXR0bGVkIiwiZGV0YWlsIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2siLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCIsInRoaXMiLCJsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlDYXRjaCIsImxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUiIsInN1Y2NlZWRlZCIsImZhaWxlZCIsImhhc0NhbGxiYWNrIiwibGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW5pdGlhbGl6ZVByb21pc2UiLCJyZXNvbHZlciIsImxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yIiwiQ29uc3RydWN0b3IiLCJpbnB1dCIsImVudW1lcmF0b3IiLCJfaW5zdGFuY2VDb25zdHJ1Y3RvciIsIl92YWxpZGF0ZUlucHV0IiwiX2lucHV0IiwiX3JlbWFpbmluZyIsIl9pbml0IiwiX2VudW1lcmF0ZSIsIl92YWxpZGF0aW9uRXJyb3IiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGFsbCIsImVudHJpZXMiLCJsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkZGVmYXVsdCIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJHJhY2UiLCJsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzQXJyYXkiLCJyZXNvbHZlIiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkcmVzb2x2ZSIsIm9iamVjdCIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkcmVqZWN0IiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzUmVzb2x2ZXIiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNOZXciLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZSIsIl9pZCIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRjb3VudGVyIiwibGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRwb2x5ZmlsbCIsImxvY2FsIiwiZ2xvYmFsIiwic2VsZiIsIkZ1bmN0aW9uIiwiRXJyb3IiLCJQIiwiUHJvbWlzZSIsIk9iamVjdCIsInByb3RvdHlwZSIsImNhc3QiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdCIsImxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXkiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyIsImxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsIiwiTXV0YXRpb25PYnNlcnZlciIsIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiLCJsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNOb2RlIiwibGliJGVzNiRwcm9taXNlJGFzYXAkJGlzV29ya2VyIiwiVWludDhDbGFtcGVkQXJyYXkiLCJpbXBvcnRTY3JpcHRzIiwiX2VhY2hFbnRyeSIsImVudHJ5IiwiYyIsIl9zZXR0bGVkQXQiLCJfd2lsbFNldHRsZUF0Iiwic3RhdGUiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGRlZmF1bHQiLCJsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRkZWZhdWx0IiwibGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdCIsImxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkZGVmYXVsdCIsImFsbCIsInJhY2UiLCJyZWplY3QiLCJfc2V0U2NoZWR1bGVyIiwiX2FzYXAiLCJyZXN1bHQiLCJhcmd1bWVudHMiLCJjYXRjaCIsImxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdCIsImxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2UiLCJwb2x5ZmlsbCIsImRlZmluZSIsIm1vZHVsZSIsIm1ldGhvZCIsIm5vb3AiLCJtZXRob2RzIiwiY29uc29sZSIsImV4cG9ydHMiLCJraWNrYmFjayIsIl9zZXJpYWxpemUiLCJvYmoiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJwdXNoIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsInJlcXVlc3QiLCJrYk9wdGlvbnMiLCJ0bXAiLCJ1cmwiLCJoZWFkZXJzIiwiY29ycyIsImFzeW5jIiwic2VyaWFsaXplIiwiYXV0byIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJGb3JtRGF0YSIsIkhUTUxFbGVtZW50Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJhcHBlbmQiLCJlbGVtIiwibmFtZSIsImxvZyIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsIm9ubG9hZCIsInN0YXR1cyIsInJlc3BvbnNlIiwic3RhdHVzVHh0Iiwib25lcnJvciIsInR5cGUiLCJzZXRSZXF1ZXN0SGVhZGVyIiwidG9Mb3dlckNhc2UiLCJzZW5kIiwiY29udGFjdEZvcm0iLCJnZXRFbGVtZW50QnlJZCIsInN1Ym1pdEJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJub2RlTmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbnB1dE5hbWUiLCJ0YXJnZXQiLCJpbnB1dExhYmVsIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwicHJldmVudERlZmF1bHQiLCJmb3JtRXJyb3IiLCJmb3JtSW5wdXQiLCJlcnJvckxhYmVsIiwiYm9keSIsInN0eWxlIiwiY3Vyc29yIiwic2V0QXR0cmlidXRlIiwibmFtZV9mdWxsIiwiZW1haWwiLCJtc2ciLCJzdWNjZXNzIiwicmVtb3ZlQXR0cmlidXRlIiwiY29kZSIsImVyciIsInNjcm9sbFNldENhY2hlZCIsImNhY2hlU2Nyb2xsUG9zIiwic2Nyb2xsWSIsImhhbmRsZVNjcm9sbCIsInNjcm9sbERpcmVjdGlvbiIsIm5hdm1lbnUiLCJtZW51YmFyIiwibGlzdFNraWxscyIsInNraWxsc0xpc3QiLCJpdGVtIiwiaXNFbGVtZW50VmlzaWJsZSIsImVsZW1BbmNob3IiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiaW5uZXJIZWlnaHQiLCJib3R0b20iLCJjb250YWlucyIsInNjcm9sbFRpbWVyIiwic2Nyb2xsQ2FjaGVUaW1lciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtYXN0aGVhZCIsInNlY3Rpb25zIiwiaW5pdGlhbEJHQ29sb3IiLCJiR0NvbG9yXzEiLCJiR0NvbG9yXzIiLCJiR0NvbG9yXzMiLCJiR0NvbG9yXzQiLCJiR0NvbG9yXzUiLCJiR0NvbG9yXzYiLCJvbnNjcm9sbCIsImJhY2tncm91bmRDb2xvciIsInNtb290aFNjcm9sbCIsImFuY2hvciIsImR1cmF0aW9uIiwib2Zmc2V0IiwicnVuQW5pbWF0aW9uIiwidHJhdmVsbGVkIiwic3RhcnRMb2NhdGlvbiIsInBhZ2VZT2Zmc2V0IiwiZW5kTG9jYXRpb24iLCJvZmZzZXRUb3AiLCJkaXN0YW5jZSIsImluY3JlbWVudHMiLCJhbmltYXRlU2Nyb2xsIiwic2Nyb2xsQnkiLCJvZmZzZXRIZWlnaHQiLCJkYXRhSUQiLCJnZXRBdHRyaWJ1dGUiLCJkYXRhVGFyZ2V0IiwiZGF0YVNwZWVkIiwiZGF0YU9mZnNldCIsImZlZWRCdWlsZGVyIiwiZmVlZCIsImxpbWl0IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImNvbnRlbnQiLCJfIiwiZmVlZENvbnRhaW5lciIsImFwcGVuZENoaWxkIiwiZ2l0ZmVlZCIsIkpTT04iLCJwYXJzZSIsInBvc2l0aW9uTmF2IiwiaW5uZXJXaWR0aCIsIm1haW5NZW51IiwibWVudU5hdiIsInJlbW92ZUNoaWxkIiwibWFzdEhlYWQiLCJpbnNlcnRCZWZvcmUiLCJtZW51QnRuIiwidG9nZ2xlQ29kZUJ0biIsImFib3V0Q29kZSIsImFib3V0QmFyZSIsImFib3V0U2VjdGlvbiIsInRvZ2dsZSIsImFib3V0UmVjdCIsImRlbGF5RGlzcGxheSIsImRpc3BsYXkiLCJyaWdodCIsIndpZHRoIiwibGVmdCIsIm9ucmVzaXplIl0sIm1hcHBpbmdzIjoiQUFBQSxRQUFBQSxTQUFBQyxHQUNBLFlBcUNBLFNBQUFDLEdBQUFDLEdBQ0EsTUFBQUEsR0FBQUMsUUFBQSxJQUFBQyxHQUNBRCxRQUFBLElBQUFDLEVBQUFDLFdBQUFDLE9BQUEsRUFBQSxJQUNBSCxRQUFBLEtBQUFJLEVBQUEsR0FDQUosUUFBQSxLQUFBSSxFQUFBRixXQUFBRyxPQUFBLEVBQUFELEVBQUEsRUFBQSxLQUFBQSxFQUFBLElBQ0FKLFFBQUEsSUFBQU0sRUFBQUYsSUFDQUosUUFBQSxJQUFBTSxFQUFBRixHQUFBRixXQUFBQyxPQUFBLEVBQUEsSUFDQUgsUUFBQSxLQUFBTyxHQUNBUCxRQUFBLEtBQUFPLEVBQUFMLFdBQUFHLE9BQUEsRUFBQUUsRUFBQSxJQUFBQSxHQUNBUCxRQUFBLElBQUFRLEVBQUFDLEdBQUFQLFdBQUFDLE9BQUEsRUFBQSxJQUNBSCxRQUFBLElBQUFRLEVBQUFDLElBN0NBLEdBQUFaLEdBQUFBLEdBQUEsR0FBQWEsTUFDQU4sRUFBQVAsRUFBQWMsV0FDQUosRUFBQVYsRUFBQWUsVUFDQUgsRUFBQVosRUFBQWdCLFNBQ0FaLEVBQUFKLEVBQUFpQixjQU1BUixHQUxBVCxFQUFBa0IsVUFDQWxCLEVBQUFtQixXQUNBbkIsRUFBQW9CLGFBQ0FwQixFQUFBcUIsY0FHQSxVQUNBLFdBQ0EsUUFDQSxRQUNBLE1BQ0EsT0FDQSxPQUNBLFNBQ0EsWUFDQSxVQUNBLFdBQ0EsYUFHQVYsR0FDQSxTQUNBLFNBQ0EsVUFDQSxZQUNBLFdBQ0EsU0FDQSxXQWdCQSxRQUNBVyxLQUFBdEIsRUFDQUMsT0FBQUEsSUNwREEsV0FHQSxJQUFBLEdBRkFzQixHQUFBLEVBQ0FDLEdBQUEsU0FBQSxPQUNBQyxFQUFBLEVBQUFBLEVBQUFELEVBQUFoQixTQUFBa0IsT0FBQUMsd0JBQUFGLEVBQ0FDLE9BQUFDLHNCQUFBRCxPQUFBRixFQUFBQyxHQUFBLHlCQUNBQyxPQUFBRSxxQkFDQUYsT0FBQUYsRUFBQUMsR0FBQSx5QkFBQUMsT0FBQUYsRUFBQUMsR0FBQSw4QkFHQUMsUUFBQUMsd0JBQ0FELE9BQUFDLHNCQUFBLFNBQUFFLEVBQUFDLEdBQ0EsR0FBQUMsSUFBQSxHQUFBbEIsT0FBQUssVUFDQWMsRUFBQUMsS0FBQUMsSUFBQSxFQUFBLElBQUFILEVBQUFSLElBQ0FZLEVBQUFULE9BQUFVLFdBQUEsV0FBQVAsRUFBQUUsRUFBQUMsSUFDQUEsRUFFQSxPQURBVCxHQUFBUSxFQUFBQyxFQUNBRyxJQUdBVCxPQUFBRSx1QkFDQUYsT0FBQUUscUJBQUEsU0FBQU8sR0FDQUUsYUFBQUYsUUFZQSxXQUNBLFlBQ0EsU0FBQUcsR0FBQWIsR0FDQSxNQUFBLGtCQUFBQSxJQUFBLGdCQUFBQSxJQUFBLE9BQUFBLEVBR0EsUUFBQWMsR0FBQWQsR0FDQSxNQUFBLGtCQUFBQSxHQUdBLFFBQUFlLEdBQUFmLEdBQ0EsTUFBQSxnQkFBQUEsSUFBQSxPQUFBQSxFQWtCQSxRQUFBZ0IsR0FBQVosRUFBQWEsR0FDQUMsRUFBQUMsR0FBQWYsRUFDQWMsRUFBQUMsRUFBQSxHQUFBRixFQUNBRSxHQUFBLEVBQ0EsSUFBQUEsSUFJQUMsRUFDQUEsRUFBQUMsR0FFQUMsS0FNQSxRQUFBQyxHQUFBQyxHQUNBSixFQUFBSSxFQWNBLFFBQUFDLEtBQ0EsR0FBQUMsR0FBQUMsUUFBQUQsU0FHQUUsRUFBQUQsUUFBQUUsU0FBQUMsS0FBQUMsTUFBQSxxQ0FJQSxPQUhBQyxPQUFBQyxRQUFBTCxJQUFBLE1BQUFBLEVBQUEsSUFBQSxPQUFBQSxFQUFBLEtBQ0FGLEVBQUFRLGNBRUEsV0FDQVIsRUFBQUwsSUFLQSxRQUFBYyxLQUNBLE1BQUEsWUFDQUMsRUFBQWYsSUFJQSxRQUFBZ0IsS0FDQSxHQUFBQyxHQUFBLEVBQ0FDLEVBQUEsR0FBQUMsR0FBQW5CLEdBQ0FTLEVBQUFXLFNBQUFDLGVBQUEsR0FHQSxPQUZBSCxHQUFBSSxRQUFBYixHQUFBYyxlQUFBLElBRUEsV0FDQWQsRUFBQWUsS0FBQVAsSUFBQUEsRUFBQSxHQUtBLFFBQUFRLEtBQ0EsR0FBQUMsR0FBQSxHQUFBQyxlQUVBLE9BREFELEdBQUFFLE1BQUFDLFVBQUE3QixFQUNBLFdBQ0EwQixFQUFBSSxNQUFBQyxZQUFBLElBSUEsUUFBQUMsS0FDQSxNQUFBLFlBQ0ExQyxXQUFBVSxFQUFBLElBS0EsUUFBQUEsS0FDQSxJQUFBLEdBQUFpQyxHQUFBLEVBQUFuQyxFQUFBbUMsRUFBQUEsR0FBQSxFQUFBLENBQ0EsR0FBQWxELEdBQUFjLEVBQUFvQyxHQUNBckMsRUFBQUMsRUFBQW9DLEVBQUEsRUFFQWxELEdBQUFhLEdBRUFDLEVBQUFvQyxHQUFBQyxPQUNBckMsRUFBQW9DLEVBQUEsR0FBQUMsT0FHQXBDLEVBQUEsRUFHQSxRQUFBcUMsS0FDQSxJQUNBLEdBQUFDLEdBQUFDLFFBQ0FDLEVBQUFGLEVBQUEsUUFFQSxPQURBckIsR0FBQXVCLEVBQUFDLFdBQUFELEVBQUFFLGFBQ0ExQixJQUNBLE1BQUEyQixHQUNBLE1BQUFULE1Ba0JBLFFBQUFVLE1BUUEsUUFBQUMsS0FDQSxNQUFBLElBQUFDLFdBQUEsNENBR0EsUUFBQUMsS0FDQSxNQUFBLElBQUFELFdBQUEsd0RBR0EsUUFBQUUsR0FBQUMsR0FDQSxJQUNBLE1BQUFBLEdBQUFDLEtBQ0EsTUFBQUMsR0FFQSxNQURBQyxJQUFBRCxNQUFBQSxFQUNBQyxJQUlBLFFBQUFDLEdBQUFILEVBQUFJLEVBQUFDLEVBQUFDLEdBQ0EsSUFDQU4sRUFBQU8sS0FBQUgsRUFBQUMsRUFBQUMsR0FDQSxNQUFBYixHQUNBLE1BQUFBLElBSUEsUUFBQWUsR0FBQVQsRUFBQVUsRUFBQVQsR0FDQVUsRUFBQSxTQUFBWCxHQUNBLEdBQUFZLElBQUEsRUFDQVYsRUFBQUUsRUFBQUgsRUFBQVMsRUFBQSxTQUFBTCxHQUNBTyxJQUNBQSxHQUFBLEVBQ0FGLElBQUFMLEVBQ0FRLEVBQUFiLEVBQUFLLEdBRUFTLEVBQUFkLEVBQUFLLEtBRUEsU0FBQVUsR0FDQUgsSUFDQUEsR0FBQSxFQUVBSSxFQUFBaEIsRUFBQWUsS0FDQSxZQUFBZixFQUFBaUIsUUFBQSxzQkFFQUwsR0FBQVYsSUFDQVUsR0FBQSxFQUNBSSxFQUFBaEIsRUFBQUUsS0FFQUYsR0FHQSxRQUFBa0IsR0FBQWxCLEVBQUFVLEdBQ0FBLEVBQUFTLFNBQUFDLEVBQ0FOLEVBQUFkLEVBQUFVLEVBQUFXLFNBQ0FYLEVBQUFTLFNBQUFHLEdBQ0FOLEVBQUFoQixFQUFBVSxFQUFBVyxTQUVBRSxFQUFBYixFQUFBdkIsT0FBQSxTQUFBa0IsR0FDQVEsRUFBQWIsRUFBQUssSUFDQSxTQUFBVSxHQUNBQyxFQUFBaEIsRUFBQWUsS0FLQSxRQUFBUyxHQUFBeEIsRUFBQXlCLEdBQ0EsR0FBQUEsRUFBQUMsY0FBQTFCLEVBQUEwQixZQUNBUixFQUFBbEIsRUFBQXlCLE9BQ0EsQ0FDQSxHQUFBeEIsR0FBQUYsRUFBQTBCLEVBRUF4QixLQUFBRSxHQUNBYSxFQUFBaEIsRUFBQUcsR0FBQUQsT0FDQWYsU0FBQWMsRUFDQWEsRUFBQWQsRUFBQXlCLEdBQ0EvRSxFQUFBdUQsR0FDQVEsRUFBQVQsRUFBQXlCLEVBQUF4QixHQUVBYSxFQUFBZCxFQUFBeUIsSUFLQSxRQUFBWixHQUFBYixFQUFBSyxHQUNBTCxJQUFBSyxFQUNBVyxFQUFBaEIsRUFBQUosS0FDQW5ELEVBQUE0RCxHQUNBbUIsRUFBQXhCLEVBQUFLLEdBRUFTLEVBQUFkLEVBQUFLLEdBSUEsUUFBQXNCLEdBQUEzQixHQUNBQSxFQUFBNEIsVUFDQTVCLEVBQUE0QixTQUFBNUIsRUFBQXFCLFNBR0FRLEVBQUE3QixHQUdBLFFBQUFjLEdBQUFkLEVBQUFLLEdBQ0FMLEVBQUFtQixTQUFBVyxJQUVBOUIsRUFBQXFCLFFBQUFoQixFQUNBTCxFQUFBbUIsT0FBQUMsRUFFQSxJQUFBcEIsRUFBQStCLGFBQUFwSCxRQUNBZ0csRUFBQWtCLEVBQUE3QixJQUlBLFFBQUFnQixHQUFBaEIsRUFBQWUsR0FDQWYsRUFBQW1CLFNBQUFXLElBQ0E5QixFQUFBbUIsT0FBQUcsR0FDQXRCLEVBQUFxQixRQUFBTixFQUVBSixFQUFBZ0IsRUFBQTNCLElBR0EsUUFBQXVCLEdBQUFTLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsR0FBQUosRUFBQUQsYUFDQXBILEVBQUF5SCxFQUFBekgsTUFFQXFILEdBQUFKLFNBQUEsS0FFQVEsRUFBQXpILEdBQUFzSCxFQUNBRyxFQUFBekgsRUFBQXlHLEdBQUFjLEVBQ0FFLEVBQUF6SCxFQUFBMkcsSUFBQWEsRUFFQSxJQUFBeEgsR0FBQXFILEVBQUFiLFFBQ0FSLEVBQUFrQixFQUFBRyxHQUlBLFFBQUFILEdBQUE3QixHQUNBLEdBQUFvQyxHQUFBcEMsRUFBQStCLGFBQ0FNLEVBQUFyQyxFQUFBbUIsTUFFQSxJQUFBLElBQUFpQixFQUFBekgsT0FBQSxDQUlBLElBQUEsR0FGQXNILEdBQUFqRyxFQUFBc0csRUFBQXRDLEVBQUFxQixRQUVBbkMsRUFBQSxFQUFBQSxFQUFBa0QsRUFBQXpILE9BQUF1RSxHQUFBLEVBQ0ErQyxFQUFBRyxFQUFBbEQsR0FDQWxELEVBQUFvRyxFQUFBbEQsRUFBQW1ELEdBRUFKLEVBQ0FNLEVBQUFGLEVBQUFKLEVBQUFqRyxFQUFBc0csR0FFQXRHLEVBQUFzRyxFQUlBdEMsR0FBQStCLGFBQUFwSCxPQUFBLEdBR0EsUUFBQTZILEtBQ0FDLEtBQUF2QyxNQUFBLEtBS0EsUUFBQXdDLEdBQUExRyxFQUFBc0csR0FDQSxJQUNBLE1BQUF0RyxHQUFBc0csR0FDQSxNQUFBNUMsR0FFQSxNQURBaUQsSUFBQXpDLE1BQUFSLEVBQ0FpRCxJQUlBLFFBQUFKLEdBQUFGLEVBQUFyQyxFQUFBaEUsRUFBQXNHLEdBQ0EsR0FDQWpDLEdBQUFILEVBQUEwQyxFQUFBQyxFQURBQyxFQUFBcEcsRUFBQVYsRUFHQSxJQUFBOEcsR0FXQSxHQVZBekMsRUFBQXFDLEVBQUExRyxFQUFBc0csR0FFQWpDLElBQUFzQyxJQUNBRSxHQUFBLEVBQ0EzQyxFQUFBRyxFQUFBSCxNQUNBRyxFQUFBLE1BRUF1QyxHQUFBLEVBR0E1QyxJQUFBSyxFQUVBLFdBREFXLEdBQUFoQixFQUFBRixTQUtBTyxHQUFBaUMsRUFDQU0sR0FBQSxDQUdBNUMsR0FBQW1CLFNBQUFXLElBRUFnQixHQUFBRixFQUNBL0IsRUFBQWIsRUFBQUssR0FDQXdDLEVBQ0E3QixFQUFBaEIsRUFBQUUsR0FDQW1DLElBQUFqQixFQUNBTixFQUFBZCxFQUFBSyxHQUNBZ0MsSUFBQWYsSUFDQU4sRUFBQWhCLEVBQUFLLElBSUEsUUFBQTBDLEdBQUEvQyxFQUFBZ0QsR0FDQSxJQUNBQSxFQUFBLFNBQUEzQyxHQUNBUSxFQUFBYixFQUFBSyxJQUNBLFNBQUFVLEdBQ0FDLEVBQUFoQixFQUFBZSxLQUVBLE1BQUFyQixHQUNBc0IsRUFBQWhCLEVBQUFOLElBSUEsUUFBQXVELEdBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsR0FBQVgsSUFFQVcsR0FBQUMscUJBQUFILEVBQ0FFLEVBQUFwRCxRQUFBLEdBQUFrRCxHQUFBdkQsR0FFQXlELEVBQUFFLGVBQUFILElBQ0FDLEVBQUFHLE9BQUFKLEVBQ0FDLEVBQUF6SSxPQUFBd0ksRUFBQXhJLE9BQ0F5SSxFQUFBSSxXQUFBTCxFQUFBeEksT0FFQXlJLEVBQUFLLFFBRUEsSUFBQUwsRUFBQXpJLE9BQ0FtRyxFQUFBc0MsRUFBQXBELFFBQUFvRCxFQUFBL0IsVUFFQStCLEVBQUF6SSxPQUFBeUksRUFBQXpJLFFBQUEsRUFDQXlJLEVBQUFNLGFBQ0EsSUFBQU4sRUFBQUksWUFDQTFDLEVBQUFzQyxFQUFBcEQsUUFBQW9ELEVBQUEvQixXQUlBTCxFQUFBb0MsRUFBQXBELFFBQUFvRCxFQUFBTyxvQkEyRUEsUUFBQUMsR0FBQUMsR0FDQSxNQUFBLElBQUFDLElBQUFyQixLQUFBb0IsR0FBQTdELFFBR0EsUUFBQStELEdBQUFGLEdBYUEsUUFBQTNCLEdBQUE3QixHQUNBUSxFQUFBYixFQUFBSyxHQUdBLFFBQUE4QixHQUFBcEIsR0FDQUMsRUFBQWhCLEVBQUFlLEdBaEJBLEdBQUFtQyxHQUFBVCxLQUVBekMsRUFBQSxHQUFBa0QsR0FBQXZELEVBRUEsS0FBQXFFLEVBQUFILEdBRUEsTUFEQTdDLEdBQUFoQixFQUFBLEdBQUFILFdBQUEsb0NBQ0FHLENBYUEsS0FBQSxHQVZBckYsR0FBQWtKLEVBQUFsSixPQVVBdUUsRUFBQSxFQUFBYyxFQUFBbUIsU0FBQVcsR0FBQW5ILEVBQUF1RSxFQUFBQSxJQUNBcUMsRUFBQTJCLEVBQUFlLFFBQUFKLEVBQUEzRSxJQUFBQyxPQUFBK0MsRUFBQUMsRUFHQSxPQUFBbkMsR0FHQSxRQUFBa0UsR0FBQUMsR0FFQSxHQUFBakIsR0FBQVQsSUFFQSxJQUFBMEIsR0FBQSxnQkFBQUEsSUFBQUEsRUFBQXpDLGNBQUF3QixFQUNBLE1BQUFpQixFQUdBLElBQUFuRSxHQUFBLEdBQUFrRCxHQUFBdkQsRUFFQSxPQURBa0IsR0FBQWIsRUFBQW1FLEdBQ0FuRSxFQUdBLFFBQUFvRSxHQUFBckQsR0FFQSxHQUFBbUMsR0FBQVQsS0FDQXpDLEVBQUEsR0FBQWtELEdBQUF2RCxFQUVBLE9BREFxQixHQUFBaEIsRUFBQWUsR0FDQWYsRUFNQSxRQUFBcUUsS0FDQSxLQUFBLElBQUF4RSxXQUFBLHNGQUdBLFFBQUF5RSxLQUNBLEtBQUEsSUFBQXpFLFdBQUEseUhBVUEsUUFBQTBFLEdBQUF2QixHQUNBUCxLQUFBK0IsSUFBQUMsS0FDQWhDLEtBQUF0QixPQUFBaEMsT0FDQXNELEtBQUFwQixRQUFBbEMsT0FDQXNELEtBQUFWLGdCQUVBcEMsSUFBQXFELElBQ0F0RyxFQUFBc0csSUFDQXFCLElBR0E1QixlQUFBOEIsSUFDQUQsSUFHQXZCLEVBQUFOLEtBQUFPLElBc0RBLFFBQUEwQixLQUNBLEdBQUFDLEVBRUEsSUFBQSxtQkFBQUMsUUFDQUQsRUFBQUMsV0FDQSxJQUFBLG1CQUFBQyxNQUNBRixFQUFBRSxTQUVBLEtBQ0FGLEVBQUFHLFNBQUEsaUJBQ0EsTUFBQXBGLEdBQ0EsS0FBQSxJQUFBcUYsT0FBQSw0RUFJQSxHQUFBQyxHQUFBTCxFQUFBTSxVQUVBRCxHQUFBLHFCQUFBRSxPQUFBQyxVQUFBM0ssU0FBQWdHLEtBQUF3RSxFQUFBZixZQUFBZSxFQUFBSSxRQUlBVCxFQUFBTSxRQUFBSSxJQTdtQkEsR0FBQUMsRUFNQUEsR0FMQTFILE1BQUFDLFFBS0FELE1BQUFDLFFBSkEsU0FBQWpDLEdBQ0EsTUFBQSxtQkFBQXNKLE9BQUFDLFVBQUEzSyxTQUFBZ0csS0FBQTVFLEdBTUEsSUFHQW9DLEdBQ0FoQixFQTBHQUUsRUE5R0E4RyxFQUFBc0IsRUFDQXZJLEVBQUEsRUFxQkE0RCxNQXBCQW5HLFNBb0JBb0MsR0FLQTJJLEVBQUEsbUJBQUExSixRQUFBQSxPQUFBc0QsT0FDQXFHLEVBQUFELE1BQ0FuSCxFQUFBb0gsRUFBQUMsa0JBQUFELEVBQUFFLHVCQUNBQyxFQUFBLG1CQUFBcEksVUFBQSx3QkFBQS9DLFNBQUFnRyxLQUFBakQsU0FHQXFJLEVBQUEsbUJBQUFDLG9CQUNBLG1CQUFBQyxnQkFDQSxtQkFBQWxILGdCQWlEQTlCLEVBQUEsR0FBQWMsT0FBQSxJQTZCQVYsR0FEQXlJLEVBQ0F0SSxJQUNBZSxFQUNBSCxJQUNBMkgsRUFDQWxILElBQ0FTLFNBQUFvRyxHQUFBLGtCQUFBakcsU0FDQUYsSUFFQUgsR0FLQSxJQUFBNkMsR0FBQSxPQUNBVixFQUFBLEVBQ0FFLEdBQUEsRUFFQW5CLEdBQUEsR0FBQXFDLEdBa0tBRyxHQUFBLEdBQUFILEVBd0ZBUyxHQUFBa0MsVUFBQTdCLGVBQUEsU0FBQUgsR0FDQSxNQUFBYSxHQUFBYixJQUdBRixFQUFBa0MsVUFBQXhCLGlCQUFBLFdBQ0EsTUFBQSxJQUFBb0IsT0FBQSw0Q0FHQTlCLEVBQUFrQyxVQUFBMUIsTUFBQSxXQUNBaEIsS0FBQXBCLFFBQUEsR0FBQXpELE9BQUE2RSxLQUFBOUgsUUFHQSxJQUFBbUosSUFBQWIsQ0FFQUEsR0FBQWtDLFVBQUF6QixXQUFBLFdBT0EsSUFBQSxHQU5BTixHQUFBWCxLQUVBOUgsRUFBQXlJLEVBQUF6SSxPQUNBcUYsRUFBQW9ELEVBQUFwRCxRQUNBbUQsRUFBQUMsRUFBQUcsT0FFQXJFLEVBQUEsRUFBQWMsRUFBQW1CLFNBQUFXLEdBQUFuSCxFQUFBdUUsRUFBQUEsSUFDQWtFLEVBQUEyQyxXQUFBNUMsRUFBQWpFLEdBQUFBLElBSUErRCxFQUFBa0MsVUFBQVksV0FBQSxTQUFBQyxFQUFBOUcsR0FDQSxHQUFBa0UsR0FBQVgsS0FDQXdELEVBQUE3QyxFQUFBQyxvQkFFQTFHLEdBQUFxSixHQUNBQSxFQUFBdEUsY0FBQXVFLEdBQUFELEVBQUE3RSxTQUFBVyxHQUNBa0UsRUFBQXBFLFNBQUEsS0FDQXdCLEVBQUE4QyxXQUFBRixFQUFBN0UsT0FBQWpDLEVBQUE4RyxFQUFBM0UsVUFFQStCLEVBQUErQyxjQUFBRixFQUFBaEMsUUFBQStCLEdBQUE5RyxJQUdBa0UsRUFBQUksYUFDQUosRUFBQS9CLFFBQUFuQyxHQUFBOEcsSUFJQS9DLEVBQUFrQyxVQUFBZSxXQUFBLFNBQUFFLEVBQUFsSCxFQUFBbUIsR0FDQSxHQUFBK0MsR0FBQVgsS0FDQXpDLEVBQUFvRCxFQUFBcEQsT0FFQUEsR0FBQW1CLFNBQUFXLElBQ0FzQixFQUFBSSxhQUVBNEMsSUFBQTlFLEdBQ0FOLEVBQUFoQixFQUFBSyxHQUVBK0MsRUFBQS9CLFFBQUFuQyxHQUFBbUIsR0FJQSxJQUFBK0MsRUFBQUksWUFDQTFDLEVBQUFkLEVBQUFvRCxFQUFBL0IsVUFJQTRCLEVBQUFrQyxVQUFBZ0IsY0FBQSxTQUFBbkcsRUFBQWQsR0FDQSxHQUFBa0UsR0FBQVgsSUFFQWxCLEdBQUF2QixFQUFBYixPQUFBLFNBQUFrQixHQUNBK0MsRUFBQThDLFdBQUE5RSxFQUFBbEMsRUFBQW1CLElBQ0EsU0FBQVUsR0FDQXFDLEVBQUE4QyxXQUFBNUUsR0FBQXBDLEVBQUE2QixLQU1BLElBQUFzRixJQUFBekMsRUE0QkEwQyxHQUFBdkMsRUFhQXdDLEdBQUFyQyxFQVFBc0MsR0FBQXBDLEVBRUFLLEdBQUEsRUFVQVksR0FBQWQsQ0EwQkFBLEdBQUFrQyxJQUFBSixHQUNBOUIsRUFBQW1DLEtBQUFKLEdBQ0EvQixFQUFBTixRQUFBc0MsR0FDQWhDLEVBQUFvQyxPQUFBSCxHQUNBakMsRUFBQXFDLGNBQUF6SixFQUNBb0gsRUFBQXNDLE1BQUFsRyxFQUVBNEQsRUFBQVksV0FDQXpELFlBQUE2QyxFQVNBdEUsS0FBQSxTQUFBaUMsRUFBQUMsR0FDQSxHQUFBSCxHQUFBUyxLQUNBMkQsRUFBQXBFLEVBQUFiLE1BRUEsSUFBQWlGLElBQUFoRixJQUFBYyxHQUFBa0UsSUFBQTlFLEtBQUFhLEVBQ0EsTUFBQU0sS0FHQSxJQUFBUixHQUFBLEdBQUFRLE1BQUFmLFlBQUEvQixHQUNBbUgsRUFBQTlFLEVBQUFYLE9BRUEsSUFBQStFLEVBQUEsQ0FDQSxHQUFBcEssR0FBQStLLFVBQUFYLEVBQUEsRUFDQXpGLEdBQUEsV0FDQTRCLEVBQUE2RCxFQUFBbkUsRUFBQWpHLEVBQUE4SyxTQUdBdkYsR0FBQVMsRUFBQUMsRUFBQUMsRUFBQUMsRUFHQSxPQUFBRixJQVNBK0UsUUFBQSxTQUFBN0UsR0FDQSxNQUFBTSxNQUFBeEMsS0FBQSxLQUFBa0MsSUEwQkEsSUFBQThFLElBQUF2QyxFQUVBd0MsSUFDQWpDLFFBQUFJLEdBQ0E4QixTQUFBRixHQUlBLG1CQUFBRyxTQUFBQSxPQUFBLElBQ0FBLE9BQUEsV0FBQSxNQUFBRixNQUNBLG1CQUFBRyxTQUFBQSxPQUFBLFFBQ0FBLE9BQUEsUUFBQUgsR0FDQSxtQkFBQXpFLFFBQ0FBLEtBQUEsV0FBQXlFLElBR0FELE1BQ0F6RyxLQUFBaUMsTUMvcUJBLFdBWUEsSUFYQSxHQUFBNkUsR0FDQUMsRUFBQSxhQUNBQyxHQUNBLFNBQUEsUUFBQSxRQUFBLFFBQUEsTUFBQSxTQUFBLFFBQ0EsWUFBQSxRQUFBLGlCQUFBLFdBQUEsT0FBQSxNQUNBLGVBQUEsVUFBQSxhQUFBLFFBQUEsT0FBQSxVQUNBLFdBQUEsY0FBQSxZQUFBLFFBQUEsUUFFQTdNLEVBQUE2TSxFQUFBN00sT0FDQThNLEVBQUE1TCxPQUFBNEwsUUFBQTVMLE9BQUE0TCxZQUVBOU0sS0FDQTJNLEVBQUFFLEVBQUE3TSxHQUdBOE0sRUFBQUgsS0FDQUcsRUFBQUgsR0FBQUMsTUZ1Q0EsbUJBQUFGLFNBQUFBLE9BQUFLLFVBQ0FMLE9BQUFLLFFBQUF4TixRRzFEQSxJQUFBeU4sVUFBQSxTQUFBQSxHQUNBLFlBS0EsU0FBQUMsR0FBQUMsR0FDQSxHQUFBeE4sS0FDQSxLQUFBLEdBQUF5TixLQUFBRCxHQUNBQSxFQUFBRSxlQUFBRCxJQUNBek4sRUFBQTJOLEtBQUFDLG1CQUFBSCxHQUFBLElBQUFHLG1CQUFBSixFQUFBQyxJQUdBLE9BQUF6TixHQUFBNk4sS0FBQSxLQXVHQSxNQWpIQVAsTUFjQUEsRUFBQVEsUUFBQSxTQUFBQyxHQUVBLEdBQUEsZ0JBQUFBLEdBQUEsQ0FFQSxHQUFBQyxHQUFBRCxDQUNBQSxNQUNBQSxFQUFBRSxJQUFBRCxFQUNBQSxFQUFBLEtBZ0JBLEdBYkFELEVBQUFFLElBQUFGLEVBQUEsSUFBQUEsRUFBQUUsSUFBQSxJQUNBRixFQUFBM0osS0FBQTJKLEVBQUEsS0FBQUEsRUFBQTNKLEtBQUEsS0FDQTJKLEVBQUFkLE9BQUFjLEVBQUEsT0FBQUEsRUFBQWQsT0FBQSxNQUNBYyxFQUFBRyxRQUFBSCxFQUFBLFFBQUFBLEVBQUFHLFNBQUEsRUFDQUgsRUFBQUksS0FBQUosRUFBQSxLQUFBQSxFQUFBSSxNQUFBLEVBQ0FKLEVBQUFLLE1BQUFMLEVBQUEsTUFBQUEsRUFBQUssT0FBQSxFQUNBTCxFQUFBTSxVQUFBTixFQUFBLFVBQUFBLEVBQUFNLFdBQUEsRUFDQU4sRUFBQU8sS0FBQVAsRUFBQSxLQUFBQSxFQUFBTyxNQUFBLEVBQ0F6RCxPQUFBMEQsZUFBQVIsRUFBQSxPQUNBUyxjQUFBLEVBQ0FDLFVBQUEsSUFHQVYsRUFBQU8sUUFBQSxFQUNBLEdBQUEsbUJBQUE5TSxRQUFBa04sU0FDQSxHQUFBWCxFQUFBM0osZUFBQXVLLGFBQ0FaLEVBQUEzSixLQUFBLEdBQUFzSyxVQUFBWCxFQUFBM0osVUFDQSxDQUFBLEdBQUEsZ0JBQUEySixHQUFBM0osTUFBQTJKLEVBQUEzSixlQUFBYixTQUFBLEVBUUEsS0FBQSxJQUFBbUgsT0FBQSx1Q0FQQXFELEdBQUFDLElBQUFELEVBQUEzSixLQUNBMkosRUFBQTNKLEtBQUEsR0FBQXNLLFVBQ0E3RCxPQUFBK0QsS0FBQWIsRUFBQUMsS0FBQWEsUUFBQSxTQUFBQyxHQUNBZixFQUFBM0osS0FBQTJLLE9BQUFELEVBQUFmLEVBQUFDLElBQUFjLFlBRUFmLEdBQUFDLFFBS0FELEdBQUEzSixlQUFBdUssZUFDQVosRUFBQUMsVUFDQWEsUUFBQTFJLEtBQUE0SCxFQUFBM0osS0FBQSxTQUFBNEssR0FDQWpCLEVBQUFDLElBQUFnQixFQUFBQyxNQUFBRCxFQUFBaEosUUFFQStILEVBQUEzSixLQUFBMkosRUFBQUMsVUFDQUQsR0FBQUMsS0FHQUQsRUFBQU0sV0FBQSxDQWNBLE9BVkFOLEdBQUFNLGFBQUEsSUFDQU4sRUFBQTNKLEtBQUFtSixFQUFBUSxFQUFBM0osT0FJQWdKLFFBQUE4QixJQURBbkIsRUFBQTNKLGVBQUFzSyxVQUNBLFdBRUEsZUFHQSxHQUFBOUQsU0FBQSxTQUFBaEIsRUFBQTBDLEdBQ0EsR0FBQTZDLEdBQUEsR0FBQUMsZUFDQUQsR0FBQUUsS0FBQXRCLEVBQUFkLE9BQUFjLEVBQUFFLElBQUFGLEVBQUFLLE9BR0FlLEVBQUFHLE9BQUEsV0FDQSxLQUFBSCxFQUFBSSxPQUNBM0YsRUFBQXVGLEVBQUFLLFVBRUFsRCxFQUFBNUIsTUFBQSxVQUFBeUUsRUFBQU0sYUFLQU4sRUFBQU8sUUFBQSxXQUNBcEQsRUFBQTVCLE1BQUEsbUJBSUFxRCxFQUFBRyxXQUFBLElBQ0FILEVBQUFHLFFBQUF5QixLQUFBNUIsRUFBQUcsUUFBQXlCLE1BQUEsZUFDQTVCLEVBQUFHLFFBQUFsSSxNQUFBK0gsRUFBQUcsUUFBQWxJLE9BQUEsMkJBQ0FtSixFQUFBUyxpQkFBQTdCLEVBQUFHLFFBQUF5QixLQUFBNUIsRUFBQUcsUUFBQWxJLFFBR0ErSCxFQUFBRyxXQUFBLEdBQUEsU0FBQUgsRUFBQWQsT0FBQTRDLGVBQUE5QixFQUFBTSxhQUFBLEdBQ0FjLEVBQUFTLGlCQUFBLGVBQUEscUNBSUFULEVBQUFXLEtBREEsUUFBQS9CLEVBQUFkLE9BQUE0QyxjQUNBLEtBRUE5QixFQUFBM0osU0FNQWtKLEdBRUFBLFNBR0Esb0JBQUFOLFNBQUFBLE9BQUFLLFVBQ0FMLE9BQUFLLFFBQUFDLFVDMUhBLFdBQ0EsWUFFQSxJQUFBeUMsR0FBQS9MLFNBQUFnTSxlQUFBLFdBQ0FDLEVBQUFqTSxTQUFBa00sY0FBQSw0QkFFQXJCLFFBQUExSSxLQUFBNEosRUFBQSxTQUFBakgsR0FDQSxXQUFBQSxFQUFBcUgsV0FDQXJILEVBQUFzSCxpQkFBQSxRQUFBLFNBQUEvSyxHQUNBLEdBQUFnTCxHQUFBaEwsRUFBQWlMLE9BQUFyQixLQUNBc0IsRUFBQXZNLFNBQUFrTSxjQUFBLGNBQUFHLEVBQUEsS0FDQUUsR0FBQUMsVUFBQUMsSUFBQSxZQUNBLEdBQ0EzSCxFQUFBc0gsaUJBQUEsT0FBQSxTQUFBL0ssR0FDQSxHQUFBZ0wsR0FBQWhMLEVBQUFpTCxPQUFBckIsS0FDQXNCLEVBQUF2TSxTQUFBa00sY0FBQSxjQUFBRyxFQUFBLEtBQ0FoTCxHQUFBaUwsT0FBQXRLLE1BQUExRixRQUNBaVEsRUFBQUMsVUFBQUMsSUFBQSxTQUVBcEwsRUFBQWlMLE9BQUF0SyxNQUFBMUYsU0FDQWlRLEVBQUFDLFVBQUFFLE9BQUEsU0FDQUgsRUFBQUMsVUFBQUMsSUFBQSxVQUVBRixFQUFBQyxVQUFBRSxPQUFBLFlBQ0EsTUFJQTFNLFNBQUFvTSxpQkFBQSxTQUFBLFNBQUEvSyxHQUNBQSxFQUFBc0wsZ0JBQ0EsSUFBQUMsS0FjQSxPQVpBL0IsUUFBQTFJLEtBQUE0SixFQUFBLFNBQUFjLEdBQ0EsR0FBQSxXQUFBQSxFQUFBVixTQUNBLEdBQUEsSUFBQVUsRUFBQTdLLE1BQ0E0SyxFQUFBQyxFQUFBNUIsTUFBQSxlQUNBLENBQ0EsR0FBQXNCLEdBQUF2TSxTQUFBa00sY0FBQSxjQUFBVyxFQUFBNUIsS0FBQSxLQUNBc0IsR0FBQUMsVUFBQUUsT0FBQSxTQUNBSCxFQUFBQyxVQUFBQyxJQUFBLFlBS0E1RixPQUFBK0QsS0FBQWdDLEdBQUF0USxRQUNBLElBQUEsR0FBQXVGLEtBQUErSyxHQUNBLEdBQUFBLEVBQUFsRCxlQUFBN0gsR0FBQSxDQUNBLEdBQUFpTCxHQUFBOU0sU0FBQWtNLGNBQUEsY0FBQXJLLEVBQUEsS0FDQWlMLEdBQUFOLFVBQUFDLElBQUEsU0FDQXJELFFBQUE4QixJQUFBLFNBQUFySixFQUFBLElBQUErSyxFQUFBL0ssU0FJQTdCLFVBQUErTSxLQUFBQyxNQUFBQyxPQUFBLE9BQ0FoQixFQUFBaUIsYUFBQSxZQUFBLEdBQ0E1RCxTQUFBUSxTQUNBRyxJQUFBLFdBQ0E3SixNQUNBK00sVUFBQXBCLEVBQUFvQixVQUFBbkwsTUFDQW9MLE1BQUFyQixFQUFBcUIsTUFBQXBMLE1BQ0FxTCxJQUFBdEIsRUFBQXNCLElBQUFyTCxPQUVBaUgsT0FBQSxPQUNBb0IsV0FBQSxJQUVBekksS0FBQSxTQUFBNEosR0FjQSxNQWJBQSxHQUFBOEIsV0FBQSxHQUNBbEUsUUFBQThCLElBQUEsVUFBQU0sR0FDQXhMLFNBQUErTSxLQUFBQyxNQUFBQyxPQUFBLFVBQ0FoQixFQUFBc0IsZ0JBQUEsYUFDQS9CLEVBQUFnQyxLQUFBbFIsUUFDQThNLFFBQUE4QixJQUFBLE9BQUFNLEdBQ0F4TCxTQUFBK00sS0FBQUMsTUFBQUMsT0FBQSxVQUNBaEIsRUFBQXNCLGdCQUFBLGNBRUFuRSxRQUFBOEIsSUFBQSxPQUFBTSxHQUNBeEwsU0FBQStNLEtBQUFDLE1BQUFDLE9BQUEsVUFDQWhCLEVBQUFzQixnQkFBQSxhQUVBL0IsSUFDQSxTQUFBLFNBQUFpQyxHQUNBLE1BQUEsSUFBQS9HLE9BQUEsY0FBQStHLE9BSUEsTUNyRkEsU0FBQWpRLEdBQ0EsWUE2QkEsU0FBQWtRLEtBQ0FDLEVBQUFuUSxFQUFBb1EsUUFDQXhFLFFBQUE4QixJQUFBLGNBQUF5QyxHQUdBLFFBQUFFLEtBQ0F6RSxRQUFBOEIsSUFBQSxxQkFDQTlCLFFBQUE4QixJQUFBLE1BQUE0QyxHQUNBLFFBQUFBLElBQ0FDLEVBQUF2QixVQUFBRSxPQUFBLFVBQ0FzQixFQUFBeEIsVUFBQUMsSUFBQSxhQUlBLFFBQUF3QixHQUFBMUMsR0FDQUEsR0FNQW5DLFFBQUE4QixJQUFBLDJCQUNBM0wsTUFBQXVILFVBQUErRCxRQUFBMUksS0FBQStMLEVBQUEsU0FBQUMsR0FDQUEsRUFBQTNCLFVBQUFDLElBQUEsY0FQQXJELFFBQUE4QixJQUFBLCtCQUNBM0wsTUFBQXVILFVBQUErRCxRQUFBMUksS0FBQStMLEVBQUEsU0FBQUMsR0FDQUEsRUFBQTNCLFVBQUFFLE9BQUEsYUFVQSxRQUFBMEIsR0FBQXBELEdBQ0EsR0FBQSxnQkFBQUEsR0FBQSxDQUNBLEdBQUFxRCxHQUFBck8sU0FBQWtNLGNBQUEsV0FBQWxCLEVBQUEsS0FDQUEsR0FBQWhMLFNBQUFrTSxjQUFBbEIsR0FHQSxJQUFBQSxFQUNBLE9BQUEsQ0FHQSxJQUFBc0QsR0FBQXRELEVBQUF1RCx1QkFFQSxPQUFBRCxHQUFBRSxJQUFBaFIsRUFBQWlSLFlBQUEsS0FBQUgsRUFBQUksT0FBQSxLQUNBdEYsUUFBQThCLElBQUFGLEVBQUEsa0JBQ0FBLEVBQUF3QixVQUFBbUMsU0FBQSxZQUNBM0QsRUFBQXdCLFVBQUFFLE9BQUEsV0FFQTJCLEVBQUE3QixVQUFBbUMsU0FBQSxlQUNBTixFQUFBN0IsVUFBQUUsT0FBQSxlQUdBLElBRUF0RCxRQUFBOEIsSUFBQUYsRUFBQSxjQUNBNUIsUUFBQThCLElBQUFtRCxFQUFBLGFBQ0FyRCxFQUFBd0IsVUFBQUMsSUFBQSxXQUNBNEIsRUFBQTdCLFVBQUFDLElBQUEsZUFFQSxHQW5GQSxHQUdBcUIsR0FIQWMsRUFBQSxLQUNBQyxFQUFBLEtBQ0FsQixFQUFBLEVBR0FPLEVBQUFsTyxTQUFBOE8saUJBQUEsY0FFQWYsRUFBQS9OLFNBQUFrTSxjQUFBLHNCQUNBOEIsRUFBQWhPLFNBQUFnTSxlQUFBLFlBQ0ErQyxFQUFBL08sU0FBQWdNLGVBQUEsWUFFQWdELEdBQ0EsU0FDQSxRQUNBLFVBQ0EsWUFDQSxjQUdBQyxFQUFBLFVBQ0FDLEVBQUEsVUFDQUMsRUFBQSxVQUNBQyxFQUFBLFVBQ0FDLEVBQUEsVUFDQUMsRUFBQSxVQUNBQyxFQUFBLFNBOERBL1IsR0FBQWdTLFNBQUEsU0FBQW5PLEdBQ0EsTUFBQXVOLEdBQ0F6USxhQUFBeVEsR0FHQSxNQUFBQyxHQUNBMVEsYUFBQTBRLEdBR0FsQixFQUFBblEsRUFBQW9RLFVBRUFFLEVBQUEsUUFHQUgsRUFBQW5RLEVBQUFvUSxVQUVBRSxFQUFBLEtBQ0FFLEVBQUF4QixVQUFBRSxPQUFBLGFBR0FrQyxFQUFBMVEsV0FBQTJQLEVBQUEsS0FDQWdCLEVBQUEzUSxXQUFBd1AsRUFBQSxLQUVBLEdBQUFsUSxFQUFBb1EsVUFBQW1CLEVBQUEvQixNQUFBeUMsZ0JBQUFSLEdBQ0F6UixFQUFBb1EsUUFBQSxHQUFBcFEsRUFBQW9RLFNBQUEsS0FBQW1CLEVBQUEvQixNQUFBeUMsZ0JBQUFQLEdBQ0ExUixFQUFBb1EsU0FBQSxJQUFBcFEsRUFBQW9RLFNBQUEsS0FBQW1CLEVBQUEvQixNQUFBeUMsZ0JBQUFOLEdBQ0EzUixFQUFBb1EsU0FBQSxJQUFBcFEsRUFBQW9RLFNBQUEsS0FBQW1CLEVBQUEvQixNQUFBeUMsZ0JBQUFMLEdBQ0E1UixFQUFBb1EsU0FBQSxJQUFBcFEsRUFBQW9RLFNBQUEsS0FBQW1CLEVBQUEvQixNQUFBeUMsZ0JBQUFKLEdBQ0E3UixFQUFBb1EsU0FBQSxJQUFBcFEsRUFBQW9RLFNBQUEsTUFBQW1CLEVBQUEvQixNQUFBeUMsZ0JBQUFILEdBQ0E5UixFQUFBb1EsU0FBQSxLQUFBcFEsRUFBQW9RLFNBQUEsTUFBQW1CLEVBQUEvQixNQUFBeUMsZ0JBQUFGLEdBQ0EvUixFQUFBb1EsU0FBQSxNQUFBbUIsRUFBQS9CLE1BQUF5QyxnQkFBQVIsR0FFQUQsRUFBQW5FLFFBQUEsU0FBQUcsR0FDQW9ELEVBQUFwRCxHQUNBLFdBQUFBLEdBRUFpRCxFQURBRyxFQUFBcEQsSUFDQSxHQUVBLE9BTUF4TixRQ3RJQSxXQUVBLFlBR0EsSUFBQWtTLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FHQSxHQUlBQyxHQUFBQyxFQUpBQyxFQUFBeFMsT0FBQXlTLFlBQ0FDLEVBQUFQLEVBQUFRLFVBQ0FDLEVBQUFGLEVBQUFGLEVBQ0FLLEVBQUFELEdBQUFSLEVBQUEsR0FHQUMsR0FBQSxJQUNBSyxHQUFBTCxFQUlBLElBQUFTLEdBQUEsV0FDQTlTLE9BQUErUyxTQUFBLEVBQUFGLEdBQ0FOLEVBQUF2UyxPQUFBeVMsWUFFQUgsRUFBQXJTLHNCQUFBNlMsR0FHQUQsR0FBQSxHQUVBTixHQUFBRyxFQUFBRyxHQUFBN1MsT0FBQWlSLFlBQUFzQixHQUFBL1AsU0FBQStNLEtBQUF5RCxlQUNBOVMscUJBQUFvUyxJQU1BSSxHQUFBLElBQUFILEdBQ0FyUyxxQkFBQW9TLEdBTUFBLEdBQUFyUyxzQkFBQTZTLEdBS0F0USxVQUFBb00saUJBQUEsUUFBQSxTQUFBL0ssR0FFQSxHQUFBQSxFQUFBaUwsUUFBQSxLQUFBakwsRUFBQWlMLE9BQUFILFVBQ0E5SyxFQUFBaUwsT0FBQUUsVUFBQW1DLFNBQUEsVUFBQSxDQUNBdE4sRUFBQXNMLGdCQUdBLElBQUE4RCxHQUFBcFAsRUFBQWlMLE9BQUFvRSxhQUFBLFFBQ0FDLEVBQUEzUSxTQUFBa00sY0FBQXVFLEdBQ0FHLEVBQUF2UCxFQUFBaUwsT0FBQW9FLGFBQUEscUJBQUFyUCxFQUFBaUwsT0FBQW9FLGFBQUEscUJBQUEsSUFDQUcsRUFBQXhQLEVBQUFpTCxPQUFBb0UsYUFBQSxzQkFBQXJQLEVBQUFpTCxPQUFBb0UsYUFBQSxzQkFBQSxDQUdBQyxJQUVBakIsRUFBQWlCLEVBQUFDLEVBQUFDLE1BS0EsTUNuRUFyVCxPQUFBNE8saUJBQUEsT0FBQSxXQUlBLFFBQUEwRSxHQUFBQyxFQUFBQyxHQUdBLElBQUEsR0FGQUEsR0FBQUEsR0FBQSxFQUVBblEsRUFBQSxFQUFBbVEsRUFBQW5RLEVBQUFBLElBQUEsQ0FDQSxHQUFBbUssR0FBQWhMLFNBQUFpUixjQUFBLE1BQ0FqRyxHQUFBd0IsVUFBQUMsSUFBQSxTQUNBekIsRUFBQWtHLFVBQUFILEVBQUFsUSxHQUFBc1EsUUFBQSxHQUFBQyxFQUNBQyxFQUFBQyxZQUFBdEcsSUFWQSxHQUFBdUcsR0FDQUYsRUFBQXJSLFNBQUFnTSxlQUFBLE9BZUExQyxVQUFBUSxTQUNBRyxJQUFBLFFBQ0FoQixPQUFBLFFBRUFySCxLQUFBLFNBQUE0SixHQUNBK0YsRUFBQUMsS0FBQUMsTUFBQWpHLEVBQ0EsSUFBQWhHLEdBQUErTCxFQUFBUixLQUFBcEosS0FFQW1KLEdBQUF0TCxFQUFBLEtBR0EsU0FBQSxTQUFBaUksR0FDQSxNQUFBQSxPQUdBLEdDaENBLFNBQUFqUSxHQXlDQSxRQUFBa1UsS0FDQWxVLEVBQUFtVSxXQUFBLElBQ0FDLEVBQUFwRixVQUFBbUMsU0FBQSxlQUNBaUQsRUFBQXBGLFVBQUFDLElBQUEsYUFDQW9GLEVBQUFDLFlBQUFGLEdBQ0FHLEVBQUFULFlBQUFNLElBR0FBLEVBQUFwRixVQUFBbUMsU0FBQSxlQUNBb0QsRUFBQUQsWUFBQUYsR0FDQUMsRUFBQUcsYUFBQUosRUFBQUssR0FDQUwsRUFBQXBGLFVBQUFFLE9BQUEsY0FuREEsR0FBQXdGLEdBQUFsUyxTQUFBZ00sZUFBQSxlQUNBbUcsRUFBQW5TLFNBQUFnTSxlQUFBLGNBQ0FvRyxFQUFBcFMsU0FBQWdNLGVBQUEsY0FDQXFHLEVBQUFyUyxTQUFBZ00sZUFBQSxTQUVBaUcsRUFBQWpTLFNBQUFnTSxlQUFBLFlBQ0E2RixFQUFBN1IsU0FBQWdNLGVBQUEsWUFDQTRGLEVBQUE1UixTQUFBa00sY0FBQSxzQkFDQTZGLEVBQUEvUixTQUFBZ00sZUFBQSxXQUVBaUcsR0FBQTdGLGlCQUFBLFFBQUEsU0FBQS9LLEdBQ0E0USxFQUFBekYsVUFBQThGLE9BQUEsVUFDQVYsRUFBQXBGLFVBQUE4RixPQUFBLFlBQ0EsR0FFQUosRUFBQTlGLGlCQUFBLFFBQUEsU0FBQS9LLEdBQ0EsQ0FBQSxHQUFBa1IsR0FBQUYsRUFBQTlELHVCQUNBNkQsR0FBQTdELHdCQUNBLEdBQUFsTixFQUFBaUwsT0FBQUUsVUFBQW1DLFNBQUEsVUFBQSxDQUNBdE4sRUFBQWlMLE9BQUFFLFVBQUFFLE9BQUEsVUFDQXlGLEVBQUEzRixVQUFBRSxPQUFBLFNBQ0EsSUFBQThGLEdBQUFoVixFQUFBVSxXQUFBLFdBQ0FpVSxFQUFBbkYsTUFBQXlGLFFBQUEsT0FDQUwsRUFBQXBGLE1BQUF5RixRQUFBLGVBQ0FqVixFQUFBVyxhQUFBcVUsSUFDQSxVQUNBLENBQ0FMLEVBQUFuRixNQUFBd0IsSUFBQSxNQUNBMkQsRUFBQW5GLE1BQUEwRixNQUFBLElBQUFILEVBQUFJLE1BQUEsS0FDQVIsRUFBQW5GLE1BQUF5RixRQUFBLGVBQ0FMLEVBQUFwRixNQUFBNEYsS0FBQSxJQUFBTCxFQUFBSSxNQUFBLElBQ0EsSUFBQUgsR0FBQWhWLEVBQUFVLFdBQUEsV0FDQWtVLEVBQUFwRixNQUFBeUYsUUFBQSxPQUNBTixFQUFBM0YsVUFBQUMsSUFBQSxVQUNBalAsRUFBQVcsYUFBQXFVLElBQ0EsSUFDQW5SLEdBQUFpTCxPQUFBRSxVQUFBQyxJQUFBLGFBRUEsR0FrQkFqUCxFQUFBNE8saUJBQUEsT0FBQXNGLEdBQUEsR0FDQWxVLEVBQUFxVixTQUFBbkIsR0FFQWxVIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gVGltZW1hcChkYXRlT2JqKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGRhdGVPYmogPSBkYXRlT2JqIHx8IG5ldyBEYXRlKCksXG4gICAgbW9udGggPSBkYXRlT2JqLmdldE1vbnRoKCksIC8vIGN1cyBqYXZhc2NyaXB0IHN0YXJ0cyBtb250aCBhdCAwXG4gICAgZGF5ID0gZGF0ZU9iai5nZXREYXRlKCksXG4gICAgZGF5T2ZXZWVrID0gZGF0ZU9iai5nZXREYXkoKSxcbiAgICB5ZWFyID0gZGF0ZU9iai5nZXRGdWxsWWVhcigpLFxuICAgIHRpbWUgPSBkYXRlT2JqLmdldFRpbWUoKSxcbiAgICBob3VyID0gZGF0ZU9iai5nZXRIb3VycygpLFxuICAgIG1pbnV0ZXMgPSBkYXRlT2JqLmdldE1pbnV0ZXMoKSxcbiAgICBzZWNvbmRzID0gZGF0ZU9iai5nZXRTZWNvbmRzKCk7XG5cbiAgICB2YXIgbW9udGhzID0gW1xuICAgICAgICAnSmFudWFyeScsXG4gICAgICAgICdGZWJydWFyeScsXG4gICAgICAgICdNYXJjaCcsXG4gICAgICAgICdBcHJpbCcsXG4gICAgICAgICdNYXknLFxuICAgICAgICAnSnVuZScsXG4gICAgICAgICdKdWx5JyxcbiAgICAgICAgJ0F1Z3VzdCcsXG4gICAgICAgICdTZXB0ZW1iZXInLFxuICAgICAgICAnT2N0b2JlcicsXG4gICAgICAgICdOb3ZlbWJlcicsXG4gICAgICAgICdEZWNlbWJlcidcbiAgICBdO1xuXG4gICAgdmFyIGRheXMgPSBbXG4gICAgICAgICdTdW5kYXknLFxuICAgICAgICAnTW9uZGF5JyxcbiAgICAgICAgJ1R1ZXNkYXknLFxuICAgICAgICAnV2VkbmVzZGF5JyxcbiAgICAgICAgJ1RodXJzZGF5JyxcbiAgICAgICAgJ0ZyaWRheScsXG4gICAgICAgICdTYXR1cmRheSdcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gZm9ybWF0KHN0cikge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1kvLCB5ZWFyKSAvLyAyMDE1XG4gICAgICAgIC5yZXBsYWNlKC95LywgeWVhci50b1N0cmluZygpLnN1YnN0cigyLDMpKSAvLzE1XG4gICAgICAgIC5yZXBsYWNlKC9tbS8sIG1vbnRoKzEpIC8vNSwgOSwgMTFcbiAgICAgICAgLnJlcGxhY2UoL01NLywgKG1vbnRoLnRvU3RyaW5nKCkubGVuZ3RoID4gMSkgPyBtb250aCArIDEgOiAnMCcrKG1vbnRoKzEpKSAvLyAwNSwgMDksIDExXG4gICAgICAgIC5yZXBsYWNlKC9NLywgbW9udGhzW21vbnRoXSkgLy8gSmFudWFyeSwgTWFyY2gsIEp1bmVcbiAgICAgICAgLnJlcGxhY2UoL20vLCBtb250aHNbbW9udGhdLnRvU3RyaW5nKCkuc3Vic3RyKDAsMykpIC8vIEphbiwgTWFyLCBKdW5cbiAgICAgICAgLnJlcGxhY2UoL2RkLywgZGF5KSAvLyAxLCA1LCAyMCwgMjZcbiAgICAgICAgLnJlcGxhY2UoL0RELywgKGRheS50b1N0cmluZygpLmxlbmd0aCA+IDEpID8gZGF5IDogJzAnK2RheSkgLy8gMDEsIDA0LCAxNSwgMjJcbiAgICAgICAgLnJlcGxhY2UoL2QvLCBkYXlzW2RheU9mV2Vla10udG9TdHJpbmcoKS5zdWJzdHIoMCwzKSkgLy8gTW9uLCBUdWVcbiAgICAgICAgLnJlcGxhY2UoL0QvLCBkYXlzW2RheU9mV2Vla10pOyAvLyBNb25kYXksIFR1ZXNkYXlcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGF0ZTogZGF0ZU9iaixcbiAgICAgICAgZm9ybWF0OiBmb3JtYXRcbiAgICB9O1xufTtcblxuaWYodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFRpbWVtYXA7XG59XG4iLCIvLyBSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgUG9seWZpbGxcbihmdW5jdGlvbigpIHtcbiAgICB2YXIgbGFzdFRpbWUgPSAwO1xuICAgIHZhciB2ZW5kb3JzID0gWyd3ZWJraXQnLCAnbW96J107XG4gICAgZm9yKHZhciB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvd1t2ZW5kb3JzW3hdKydSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID1cbiAgICAgICAgICB3aW5kb3dbdmVuZG9yc1t4XSsnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fCB3aW5kb3dbdmVuZG9yc1t4XSsnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgfVxuXG4gICAgaWYgKCF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oY2FsbGJhY2ssIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBjdXJyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdmFyIHRpbWVUb0NhbGwgPSBNYXRoLm1heCgwLCAxNiAtIChjdXJyVGltZSAtIGxhc3RUaW1lKSk7XG4gICAgICAgICAgICB2YXIgaWQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2FsbGJhY2soY3VyclRpbWUgKyB0aW1lVG9DYWxsKTsgfSxcbiAgICAgICAgICAgICAgdGltZVRvQ2FsbCk7XG4gICAgICAgICAgICBsYXN0VGltZSA9IGN1cnJUaW1lICsgdGltZVRvQ2FsbDtcbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfTtcblxuICAgIGlmICghd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKVxuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgfTtcbn0oKSk7XG5cbi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qYWtlYXJjaGliYWxkL2VzNi1wcm9taXNlL21hc3Rlci9MSUNFTlNFXG4gKiBAdmVyc2lvbiAgIDIuMi4wXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkb2JqZWN0T3JGdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbicgfHwgKHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNNYXliZVRoZW5hYmxlKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheSA9IGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXk7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gPSAwO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkdG9TdHJpbmcgPSB7fS50b1N0cmluZztcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuO1xuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAoY2FsbGJhY2ssIGFyZykge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2xpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW5dID0gY2FsbGJhY2s7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiArIDFdID0gYXJnO1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiArPSAyO1xuICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gPT09IDIpIHtcbiAgICAgICAgLy8gSWYgbGVuIGlzIDIsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgICAgICAvLyBJZiBhZGRpdGlvbmFsIGNhbGxiYWNrcyBhcmUgcXVldWVkIGJlZm9yZSB0aGUgcXVldWUgaXMgZmx1c2hlZCwgdGhleVxuICAgICAgICAvLyB3aWxsIGJlIHByb2Nlc3NlZCBieSB0aGlzIGZsdXNoIHRoYXQgd2UgYXJlIHNjaGVkdWxpbmcuXG4gICAgICAgIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkY3VzdG9tU2NoZWR1bGVyRm4pIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkY3VzdG9tU2NoZWR1bGVyRm4obGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXA7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHNldFNjaGVkdWxlcihzY2hlZHVsZUZuKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkY3VzdG9tU2NoZWR1bGVyRm4gPSBzY2hlZHVsZUZuO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJXaW5kb3cgfHwge307XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJHbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGlzTm9kZSA9IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbiAgICAvLyB0ZXN0IGZvciB3ZWIgd29ya2VyIGJ1dCBub3QgaW4gSUUxMFxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBNZXNzYWdlQ2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCc7XG5cbiAgICAvLyBub2RlXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU5leHRUaWNrKCkge1xuICAgICAgdmFyIG5leHRUaWNrID0gcHJvY2Vzcy5uZXh0VGljaztcbiAgICAgIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAgICAgLy8gc2V0SW1tZWRpYXRlIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgaW5zdGVhZFxuICAgICAgdmFyIHZlcnNpb24gPSBwcm9jZXNzLnZlcnNpb25zLm5vZGUubWF0Y2goL14oPzooXFxkKylcXC4pPyg/OihcXGQrKVxcLik/KFxcKnxcXGQrKSQvKTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZlcnNpb24pICYmIHZlcnNpb25bMV0gPT09ICcwJyAmJiB2ZXJzaW9uWzJdID09PSAnMTAnKSB7XG4gICAgICAgIG5leHRUaWNrID0gc2V0SW1tZWRpYXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBuZXh0VGljayhsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyB2ZXJ0eFxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VWZXJ0eFRpbWVyKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkdmVydHhOZXh0KGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIG9ic2VydmVyID0gbmV3IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlcihsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBub2RlLmRhdGEgPSAoaXRlcmF0aW9ucyA9ICsraXRlcmF0aW9ucyAlIDIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyB3ZWIgd29ya2VyXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU1lc3NhZ2VDaGFubmVsKCkge1xuICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVNldFRpbWVvdXQoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoLCAxKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZSA9IG5ldyBBcnJheSgxMDAwKTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2goKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW47IGkrPTIpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2ldO1xuICAgICAgICB2YXIgYXJnID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2krMV07XG5cbiAgICAgICAgY2FsbGJhY2soYXJnKTtcblxuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpKzFdID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuID0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXR0ZW1wdFZlcnRleCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByID0gcmVxdWlyZTtcbiAgICAgICAgdmFyIHZlcnR4ID0gcigndmVydHgnKTtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dCA9IHZlcnR4LnJ1bk9uTG9vcCB8fCB2ZXJ0eC5ydW5PbkNvbnRleHQ7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlVmVydHhUaW1lcigpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaDtcbiAgICAvLyBEZWNpZGUgd2hhdCBhc3luYyBtZXRob2QgdG8gdXNlIHRvIHRyaWdnZXJpbmcgcHJvY2Vzc2luZyBvZiBxdWV1ZWQgY2FsbGJhY2tzOlxuICAgIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNOb2RlKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VOZXh0VGljaygpO1xuICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNXb3JrZXIpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU1lc3NhZ2VDaGFubmVsKCk7XG4gICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhdHRlbXB0VmVydGV4KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVNldFRpbWVvdXQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKCkge31cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HICAgPSB2b2lkIDA7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCA9IDE7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEICA9IDI7XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IgPSBuZXcgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRXJyb3JPYmplY3QoKTtcblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHNlbGZGdWxsZmlsbG1lbnQoKSB7XG4gICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkY2Fubm90UmV0dXJuT3duKCkge1xuICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRnZXRUaGVuKHByb21pc2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLnRoZW47XG4gICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SLmVycm9yID0gZXJyb3I7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlUaGVuKHRoZW4sIHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUsIHRoZW4pIHtcbiAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkZGVmYXVsdChmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICAgIHZhciBzZWFsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5VGhlbih0aGVuLCB0aGVuYWJsZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAoc2VhbGVkKSB7IHJldHVybjsgfVxuICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICAgICAgaWYgKHRoZW5hYmxlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgaWYgKHNlYWxlZCkgeyByZXR1cm47IH1cbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0sICdTZXR0bGU6ICcgKyAocHJvbWlzZS5fbGFiZWwgfHwgJyB1bmtub3duIHByb21pc2UnKSk7XG5cbiAgICAgICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlKSB7XG4gICAgICBpZiAodGhlbmFibGUuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgICAgIH0gZWxzZSBpZiAodGhlbmFibGUuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSkge1xuICAgICAgaWYgKG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IgPT09IHByb21pc2UuY29uc3RydWN0b3IpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGhlbiA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGdldFRoZW4obWF5YmVUaGVuYWJsZSk7XG5cbiAgICAgICAgaWYgKHRoZW4gPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SLmVycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGVuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzZWxmRnVsbGZpbGxtZW50KCkpO1xuICAgICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkdXRpbHMkJG9iamVjdE9yRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaFJlamVjdGlvbihwcm9taXNlKSB7XG4gICAgICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgICAgICBwcm9taXNlLl9vbmVycm9yKHByb21pc2UuX3Jlc3VsdCk7XG4gICAgICB9XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gocHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7IHJldHVybjsgfVxuXG4gICAgICBwcm9taXNlLl9yZXN1bHQgPSB2YWx1ZTtcbiAgICAgIHByb21pc2UuX3N0YXRlID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEO1xuXG4gICAgICBpZiAocHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRkZWZhdWx0KGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gsIHByb21pc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykgeyByZXR1cm47IH1cbiAgICAgIHByb21pc2UuX3N0YXRlID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQ7XG4gICAgICBwcm9taXNlLl9yZXN1bHQgPSByZWFzb247XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRkZWZhdWx0KGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgdmFyIHN1YnNjcmliZXJzID0gcGFyZW50Ll9zdWJzY3JpYmVycztcbiAgICAgIHZhciBsZW5ndGggPSBzdWJzY3JpYmVycy5sZW5ndGg7XG5cbiAgICAgIHBhcmVudC5fb25lcnJvciA9IG51bGw7XG5cbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aF0gPSBjaGlsZDtcbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aCArIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRF0gPSBvbkZ1bGZpbGxtZW50O1xuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoICsgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURURdICA9IG9uUmVqZWN0aW9uO1xuXG4gICAgICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGRlZmF1bHQobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaCwgcGFyZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoKHByb21pc2UpIHtcbiAgICAgIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICAgICAgdmFyIHNldHRsZWQgPSBwcm9taXNlLl9zdGF0ZTtcblxuICAgICAgaWYgKHN1YnNjcmliZXJzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm47IH1cblxuICAgICAgdmFyIGNoaWxkLCBjYWxsYmFjaywgZGV0YWlsID0gcHJvbWlzZS5fcmVzdWx0O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIGNoaWxkID0gc3Vic2NyaWJlcnNbaV07XG4gICAgICAgIGNhbGxiYWNrID0gc3Vic2NyaWJlcnNbaSArIHNldHRsZWRdO1xuXG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGludm9rZUNhbGxiYWNrKHNldHRsZWQsIGNoaWxkLCBjYWxsYmFjaywgZGV0YWlsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRXJyb3JPYmplY3QoKSB7XG4gICAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SID0gbmV3IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0KCk7XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlDYXRjaChjYWxsYmFjaywgZGV0YWlsKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZGV0YWlsKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1IuZXJyb3IgPSBlO1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgICAgIHZhciBoYXNDYWxsYmFjayA9IGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICAgICAgdmFsdWUsIGVycm9yLCBzdWNjZWVkZWQsIGZhaWxlZDtcblxuICAgICAgaWYgKGhhc0NhbGxiYWNrKSB7XG4gICAgICAgIHZhbHVlID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5Q2F0Y2goY2FsbGJhY2ssIGRldGFpbCk7XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1IpIHtcbiAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICAgIGVycm9yID0gdmFsdWUuZXJyb3I7XG4gICAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1Y2NlZWRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkY2Fubm90UmV0dXJuT3duKCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGRldGFpbDtcbiAgICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7XG4gICAgICAgIC8vIG5vb3BcbiAgICAgIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChmYWlsZWQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXNvbHZlcihmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSl7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvcihDb25zdHJ1Y3RvciwgaW5wdXQpIHtcbiAgICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICAgICAgZW51bWVyYXRvci5faW5zdGFuY2VDb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgICAgZW51bWVyYXRvci5wcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuXG4gICAgICBpZiAoZW51bWVyYXRvci5fdmFsaWRhdGVJbnB1dChpbnB1dCkpIHtcbiAgICAgICAgZW51bWVyYXRvci5faW5wdXQgICAgID0gaW5wdXQ7XG4gICAgICAgIGVudW1lcmF0b3IubGVuZ3RoICAgICA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgZW51bWVyYXRvci5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICAgIGVudW1lcmF0b3IuX2luaXQoKTtcblxuICAgICAgICBpZiAoZW51bWVyYXRvci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKGVudW1lcmF0b3IucHJvbWlzZSwgZW51bWVyYXRvci5fcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbnVtZXJhdG9yLmxlbmd0aCA9IGVudW1lcmF0b3IubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgZW51bWVyYXRvci5fZW51bWVyYXRlKCk7XG4gICAgICAgICAgaWYgKGVudW1lcmF0b3IuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChlbnVtZXJhdG9yLnByb21pc2UsIGVudW1lcmF0b3IuX3Jlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QoZW51bWVyYXRvci5wcm9taXNlLCBlbnVtZXJhdG9yLl92YWxpZGF0aW9uRXJyb3IoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl92YWxpZGF0ZUlucHV0ID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzQXJyYXkoaW5wdXQpO1xuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX3ZhbGlkYXRpb25FcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5Jyk7XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fcmVzdWx0ID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTtcbiAgICB9O1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3I7XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gICAgICB2YXIgbGVuZ3RoICA9IGVudW1lcmF0b3IubGVuZ3RoO1xuICAgICAgdmFyIHByb21pc2UgPSBlbnVtZXJhdG9yLnByb21pc2U7XG4gICAgICB2YXIgaW5wdXQgICA9IGVudW1lcmF0b3IuX2lucHV0O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgcHJvbWlzZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcgJiYgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVudW1lcmF0b3IuX2VhY2hFbnRyeShpbnB1dFtpXSwgaSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24oZW50cnksIGkpIHtcbiAgICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcbiAgICAgIHZhciBjID0gZW51bWVyYXRvci5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcblxuICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNNYXliZVRoZW5hYmxlKGVudHJ5KSkge1xuICAgICAgICBpZiAoZW50cnkuY29uc3RydWN0b3IgPT09IGMgJiYgZW50cnkuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7XG4gICAgICAgICAgZW50cnkuX29uZXJyb3IgPSBudWxsO1xuICAgICAgICAgIGVudW1lcmF0b3IuX3NldHRsZWRBdChlbnRyeS5fc3RhdGUsIGksIGVudHJ5Ll9yZXN1bHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVudW1lcmF0b3IuX3dpbGxTZXR0bGVBdChjLnJlc29sdmUoZW50cnkpLCBpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW51bWVyYXRvci5fcmVtYWluaW5nLS07XG4gICAgICAgIGVudW1lcmF0b3IuX3Jlc3VsdFtpXSA9IGVudHJ5O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX3NldHRsZWRBdCA9IGZ1bmN0aW9uKHN0YXRlLCBpLCB2YWx1ZSkge1xuICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuICAgICAgdmFyIHByb21pc2UgPSBlbnVtZXJhdG9yLnByb21pc2U7XG5cbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykge1xuICAgICAgICBlbnVtZXJhdG9yLl9yZW1haW5pbmctLTtcblxuICAgICAgICBpZiAoc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbnVtZXJhdG9yLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZW51bWVyYXRvci5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgZW51bWVyYXRvci5fcmVzdWx0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbihwcm9taXNlLCBpKSB7XG4gICAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZShwcm9taXNlLCB1bmRlZmluZWQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGVudW1lcmF0b3IuX3NldHRsZWRBdChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQsIGksIHZhbHVlKTtcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICBlbnVtZXJhdG9yLl9zZXR0bGVkQXQobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQsIGksIHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkYWxsKGVudHJpZXMpIHtcbiAgICAgIHJldHVybiBuZXcgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJGRlZmF1bHQodGhpcywgZW50cmllcykucHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkYWxsO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJHJhY2UoZW50cmllcykge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgICAgIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuXG4gICAgICBpZiAoIWxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheShlbnRyaWVzKSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byByYWNlLicpKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBsZW5ndGggPSBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgZnVuY3Rpb24gb25GdWxmaWxsbWVudCh2YWx1ZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25SZWplY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgcHJvbWlzZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcgJiYgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZShDb25zdHJ1Y3Rvci5yZXNvbHZlKGVudHJpZXNbaV0pLCB1bmRlZmluZWQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkcmFjZTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRyZXNvbHZlKG9iamVjdCkge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgICAgIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgb2JqZWN0KTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJHJlc29sdmU7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRyZWplY3QocmVhc29uKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkcmVqZWN0O1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRjb3VudGVyID0gMDtcblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc1Jlc29sdmVyKCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc05ldygpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdQcm9taXNlJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2U7XG4gICAgLyoqXG4gICAgICBAY2xhc3MgUHJvbWlzZVxuICAgICAgQHBhcmFtIHtmdW5jdGlvbn0gcmVzb2x2ZXJcbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEBjb25zdHJ1Y3RvclxuICAgICovXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UocmVzb2x2ZXIpIHtcbiAgICAgIHRoaXMuX2lkID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGNvdW50ZXIrKztcbiAgICAgIHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fcmVzdWx0ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fc3Vic2NyaWJlcnMgPSBbXTtcblxuICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3AgIT09IHJlc29sdmVyKSB7XG4gICAgICAgIGlmICghbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKHJlc29sdmVyKSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc1Jlc29sdmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UpKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzTmV3KCk7XG4gICAgICAgIH1cblxuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbml0aWFsaXplUHJvbWlzZSh0aGlzLCByZXNvbHZlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuYWxsID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRkZWZhdWx0O1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLnJhY2UgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRkZWZhdWx0O1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLnJlc29sdmUgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRkZWZhdWx0O1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLnJlamVjdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5fc2V0U2NoZWR1bGVyID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHNldFNjaGVkdWxlcjtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5fYXNhcCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRkZWZhdWx0O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucHJvdG90eXBlID0ge1xuICAgICAgY29uc3RydWN0b3I6IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLFxuXG4gICAgLyoqXG4gICAgICBAbWV0aG9kIHRoZW5cbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uRnVsZmlsbGVkXG4gICAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAgICovXG4gICAgICB0aGVuOiBmdW5jdGlvbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuICAgICAgICBpZiAoc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCAmJiAhb25GdWxmaWxsbWVudCB8fCBzdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQgJiYgIW9uUmVqZWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hpbGQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHBhcmVudC5fcmVzdWx0O1xuXG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50c1tzdGF0ZSAtIDFdO1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRkZWZhdWx0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbnZva2VDYWxsYmFjayhzdGF0ZSwgY2hpbGQsIGNhbGxiYWNrLCByZXN1bHQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICB9LFxuXG4gICAgLyoqXG4gICAgICBAbWV0aG9kIGNhdGNoXG4gICAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGlvblxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQHJldHVybiB7UHJvbWlzZX1cbiAgICAqL1xuICAgICAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJHBvbHlmaWxsKCkge1xuICAgICAgdmFyIGxvY2FsO1xuXG4gICAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBsb2NhbCA9IGdsb2JhbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbG9jYWwgPSBzZWxmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BvbHlmaWxsIGZhaWxlZCBiZWNhdXNlIGdsb2JhbCBvYmplY3QgaXMgdW5hdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIFAgPSBsb2NhbC5Qcm9taXNlO1xuXG4gICAgICBpZiAoUCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUC5yZXNvbHZlKCkpID09PSAnW29iamVjdCBQcm9taXNlXScgJiYgIVAuY2FzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxvY2FsLlByb21pc2UgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdDtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkcG9seWZpbGw7XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZSA9IHtcbiAgICAgICdQcm9taXNlJzogbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGRlZmF1bHQsXG4gICAgICAncG9seWZpbGwnOiBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJGRlZmF1bHRcbiAgICB9O1xuXG4gICAgLyogZ2xvYmFsIGRlZmluZTp0cnVlIG1vZHVsZTp0cnVlIHdpbmRvdzogdHJ1ZSAqL1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZVsnYW1kJ10pIHtcbiAgICAgIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2U7IH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlWydleHBvcnRzJ10pIHtcbiAgICAgIG1vZHVsZVsnZXhwb3J0cyddID0gbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpc1snRVM2UHJvbWlzZSddID0gbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZTtcbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJGRlZmF1bHQoKTtcbn0pLmNhbGwodGhpcyk7XG4iLCIvLyBBdm9pZCBgY29uc29sZWAgZXJyb3JzIGluIGJyb3dzZXJzIHRoYXQgbGFjayBhIGNvbnNvbGUuXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1ldGhvZDtcbiAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIHZhciBtZXRob2RzID0gW1xuICAgICAgICAnYXNzZXJ0JywgJ2NsZWFyJywgJ2NvdW50JywgJ2RlYnVnJywgJ2RpcicsICdkaXJ4bWwnLCAnZXJyb3InLFxuICAgICAgICAnZXhjZXB0aW9uJywgJ2dyb3VwJywgJ2dyb3VwQ29sbGFwc2VkJywgJ2dyb3VwRW5kJywgJ2luZm8nLCAnbG9nJyxcbiAgICAgICAgJ21hcmtUaW1lbGluZScsICdwcm9maWxlJywgJ3Byb2ZpbGVFbmQnLCAndGFibGUnLCAndGltZScsICd0aW1lRW5kJyxcbiAgICAgICAgJ3RpbWVsaW5lJywgJ3RpbWVsaW5lRW5kJywgJ3RpbWVTdGFtcCcsICd0cmFjZScsICd3YXJuJ1xuICAgIF07XG4gICAgdmFyIGxlbmd0aCA9IG1ldGhvZHMubGVuZ3RoO1xuICAgIHZhciBjb25zb2xlID0gKHdpbmRvdy5jb25zb2xlID0gd2luZG93LmNvbnNvbGUgfHwge30pO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIG1ldGhvZCA9IG1ldGhvZHNbbGVuZ3RoXTtcblxuICAgICAgICAvLyBPbmx5IHN0dWIgdW5kZWZpbmVkIG1ldGhvZHMuXG4gICAgICAgIGlmICghY29uc29sZVttZXRob2RdKSB7XG4gICAgICAgICAgICBjb25zb2xlW21ldGhvZF0gPSBub29wO1xuICAgICAgICB9XG4gICAgfVxufSgpKTtcbiIsInZhciBraWNrYmFjayA9IChmdW5jdGlvbihraWNrYmFjaykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICAvLyBtYWtlIGEgbmV3IG9iamVjdFxuICAgIGtpY2tiYWNrID0ge307XG5cbiAgICAvLyBwcml2YXRlIG1ldGhvZFxuICAgIGZ1bmN0aW9uIF9zZXJpYWxpemUob2JqKSB7XG4gICAgICAgIHZhciBzdHIgPSBbXTtcbiAgICAgICAgZm9yKHZhciBwIGluIG9iail7XG4gICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgICAgICAgc3RyLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHApICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQob2JqW3BdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0ci5qb2luKFwiJlwiKTtcbiAgICB9O1xuXG4gICAgLy8gbWFpbiBwdWJsaWMgbWV0aG9kXG4gICAga2lja2JhY2sucmVxdWVzdCA9IGZ1bmN0aW9uKGtiT3B0aW9ucykge1xuICAgICAgICAvLyBvcHRpb25zIGNvbmZpZ3VyYXRpb24gYW5kIGRlZmF1bHRzXG4gICAgICAgIGlmKHR5cGVvZiBrYk9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBhc3N1bWUgaXQncyBhIHVybCBhbmQgd2UgYXJlIHVzaW5nIEdFVCBcbiAgICAgICAgICAgIHZhciB0bXAgPSBrYk9wdGlvbnM7XG4gICAgICAgICAgICBrYk9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIGtiT3B0aW9ucy51cmwgPSB0bXA7XG4gICAgICAgICAgICB0bXAgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAga2JPcHRpb25zLnVybCA9IChrYk9wdGlvbnMudXJsKSA/IGtiT3B0aW9ucy51cmwgOiAnLyc7XG4gICAgICAgIGtiT3B0aW9ucy5kYXRhID0gKGtiT3B0aW9ucy5kYXRhKSA/IGtiT3B0aW9ucy5kYXRhIDogbnVsbDtcbiAgICAgICAga2JPcHRpb25zLm1ldGhvZCA9IChrYk9wdGlvbnMubWV0aG9kKSA/IGtiT3B0aW9ucy5tZXRob2QgOiAnR0VUJztcbiAgICAgICAga2JPcHRpb25zLmhlYWRlcnMgPSAoa2JPcHRpb25zLmhlYWRlcnMpID8ga2JPcHRpb25zLmhlYWRlcnMgOiBmYWxzZTtcbiAgICAgICAga2JPcHRpb25zLmNvcnMgPSAoa2JPcHRpb25zLmNvcnMpID8ga2JPcHRpb25zLmNvcnMgOiBmYWxzZTtcbiAgICAgICAga2JPcHRpb25zLmFzeW5jID0gKGtiT3B0aW9ucy5hc3luYykgPyBrYk9wdGlvbnMuYXN5bmMgOiB0cnVlO1xuICAgICAgICBrYk9wdGlvbnMuc2VyaWFsaXplID0gKGtiT3B0aW9ucy5zZXJpYWxpemUpID8ga2JPcHRpb25zLnNlcmlhbGl6ZSA6IGZhbHNlO1xuICAgICAgICBrYk9wdGlvbnMuYXV0byA9IChrYk9wdGlvbnMuYXV0bykgPyBrYk9wdGlvbnMuYXV0byA6IGZhbHNlOyBcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGtiT3B0aW9ucywgJ3RtcCcsIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmKGtiT3B0aW9ucy5hdXRvID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZih0eXBlb2Ygd2luZG93LkZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgeyBcbiAgICAgICAgICAgICAgICBpZihrYk9wdGlvbnMuZGF0YSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGtiT3B0aW9ucy5kYXRhID0gbmV3IEZvcm1EYXRhKGtiT3B0aW9ucy5kYXRhKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBrYk9wdGlvbnMuZGF0YSA9PT0gJ29iamVjdCcgJiYga2JPcHRpb25zLmRhdGEgaW5zdGFuY2VvZiBBcnJheSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAga2JPcHRpb25zLnRtcCA9IGtiT3B0aW9ucy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBrYk9wdGlvbnMuZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhrYk9wdGlvbnMudG1wKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAga2JPcHRpb25zLmRhdGEuYXBwZW5kKGtleSwga2JPcHRpb25zLnRtcFtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBrYk9wdGlvbnMudG1wO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3VibWl0IGRhdGEgYXMgb2JqZWN0IG9yIEhUTUxFbGVtZW50Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZihrYk9wdGlvbnMuZGF0YSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGtiT3B0aW9ucy50bXAgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGtiT3B0aW9ucy5kYXRhLCBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrYk9wdGlvbnMudG1wW2VsZW0ubmFtZV0gPSBlbGVtLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAga2JPcHRpb25zLmRhdGEgPSBrYk9wdGlvbnMudG1wO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUga2JPcHRpb25zLnRtcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAga2JPcHRpb25zLnNlcmlhbGl6ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZihrYk9wdGlvbnMuc2VyaWFsaXplID09PSB0cnVlKSB7XG4gICAgICAgICAgICBrYk9wdGlvbnMuZGF0YSA9IF9zZXJpYWxpemUoa2JPcHRpb25zLmRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoa2JPcHRpb25zLmRhdGEgaW5zdGFuY2VvZiBGb3JtRGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Zvcm1EQVRBJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbm90Rm9ybURhdGEnKTtcbiAgICAgICAgfSBcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub3BlbihrYk9wdGlvbnMubWV0aG9kLCBrYk9wdGlvbnMudXJsLCBrYk9wdGlvbnMuYXN5bmMpO1xuXG4gICAgICAgICAgICAvLyBjaGVjayBzdGF0dXNcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZih4aHIuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KEVycm9yKCdFcnJvcjogJywgeGhyLnN0YXR1c1R4dCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIG5ldHdvcmsgZXJyb3JcbiAgICAgICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KEVycm9yKCdOZXR3b3JrIEVycm9yJykpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gc2V0IGhlYWRlcnNcbiAgICAgICAgICAgIGlmKGtiT3B0aW9ucy5oZWFkZXJzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGtiT3B0aW9ucy5oZWFkZXJzLnR5cGUgPSBrYk9wdGlvbnMuaGVhZGVycy50eXBlIHx8ICdDb250ZW50LVR5cGUnO1xuICAgICAgICAgICAgICAgIGtiT3B0aW9ucy5oZWFkZXJzLnZhbHVlID0ga2JPcHRpb25zLmhlYWRlcnMudmFsdWUgfHwgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCc7XG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2JPcHRpb25zLmhlYWRlcnMudHlwZSwga2JPcHRpb25zLmhlYWRlcnMudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZihrYk9wdGlvbnMuaGVhZGVycyA9PT0gZmFsc2UgJiYga2JPcHRpb25zLm1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAncG9zdCcgJiYga2JPcHRpb25zLnNlcmlhbGl6ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZXF1ZXN0XG4gICAgICAgICAgICBpZihrYk9wdGlvbnMubWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09ICdnZXQnKSB7XG4gICAgICAgICAgICAgICAgeGhyLnNlbmQobnVsbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHhoci5zZW5kKGtiT3B0aW9ucy5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTsgLy8gZW5kIG1haW4gbWV0aG9kXG5cblxuICAgIHJldHVybiBraWNrYmFjaztcblxufShraWNrYmFjaykpO1xuXG4vLyBzZWUgaWYgd2UgYXJlIGluIG5vZGUgaWYgc28gc3VwcG9ydCBpdCFcbmlmKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBraWNrYmFjaztcbn1cbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBjb250YWN0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWN0Jyk7XG4gIHZhciBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xuXG4gIFtdLmZvckVhY2guY2FsbChjb250YWN0Rm9ybSwgZnVuY3Rpb24oaW5wdXQpIHtcbiAgICBpZihpbnB1dC5ub2RlTmFtZSAhPT0gJ0JVVFRPTicpIHtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgaW5wdXROYW1lID0gZS50YXJnZXQubmFtZTtcbiAgICAgICAgdmFyIGlucHV0TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9XCInK2lucHV0TmFtZSsnXCJdJyk7XG4gICAgICAgIGlucHV0TGFiZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB9LCBmYWxzZSk7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgaW5wdXROYW1lID0gZS50YXJnZXQubmFtZTtcbiAgICAgICAgdmFyIGlucHV0TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9XCInK2lucHV0TmFtZSsnXCJdJyk7XG4gICAgICAgIGlmKGUudGFyZ2V0LnZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgIGlucHV0TGFiZWwuY2xhc3NMaXN0LmFkZCgndmFsaWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZighZS50YXJnZXQudmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgaW5wdXRMYWJlbC5jbGFzc0xpc3QucmVtb3ZlKCd2YWxpZCcpO1xuICAgICAgICAgIGlucHV0TGFiZWwuY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dExhYmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgfSwgZmFsc2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZm9ybUVycm9yID0ge307XG5cbiAgICBbXS5mb3JFYWNoLmNhbGwoY29udGFjdEZvcm0sIGZ1bmN0aW9uKGZvcm1JbnB1dCkge1xuICAgICAgaWYoZm9ybUlucHV0Lm5vZGVOYW1lICE9PSAnQlVUVE9OJykge1xuICAgICAgICBpZihmb3JtSW5wdXQudmFsdWUgPT0gJycpIHtcbiAgICAgICAgICBmb3JtRXJyb3JbZm9ybUlucHV0Lm5hbWVdID0gJ3JlcXVpcmVkJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaW5wdXRMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj1cIicrZm9ybUlucHV0Lm5hbWUrJ1wiXScpO1xuICAgICAgICAgIGlucHV0TGFiZWwuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcbiAgICAgICAgICBpbnB1dExhYmVsLmNsYXNzTGlzdC5hZGQoJ3ZhbGlkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmKE9iamVjdC5rZXlzKGZvcm1FcnJvcikubGVuZ3RoKSB7XG4gICAgICBmb3IodmFyIGVycm9yIGluIGZvcm1FcnJvcikge1xuICAgICAgICBpZihmb3JtRXJyb3IuaGFzT3duUHJvcGVydHkoZXJyb3IpKSB7XG4gICAgICAgICAgdmFyIGVycm9yTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9XCInK2Vycm9yKydcIl0nKTtcbiAgICAgICAgICBlcnJvckxhYmVsLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yICcrZXJyb3IrJyAnK2Zvcm1FcnJvcltlcnJvcl0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ3dhaXQnO1xuICAgICAgc3VibWl0QnRuLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgIGtpY2tiYWNrLnJlcXVlc3Qoe1xuICAgICAgICB1cmw6ICcvY29udGFjdCcsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIG5hbWVfZnVsbDogY29udGFjdEZvcm0ubmFtZV9mdWxsLnZhbHVlLFxuICAgICAgICAgICAgZW1haWw6IGNvbnRhY3RGb3JtLmVtYWlsLnZhbHVlLFxuICAgICAgICAgICAgbXNnOiBjb250YWN0Rm9ybS5tc2cudmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHNlcmlhbGl6ZTogdHJ1ZVxuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmKHJlc3BvbnNlLnN1Y2Nlc3MgPT09IHRydWUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU1VDQ0VTUycsIHJlc3BvbnNlKTtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdpbml0aWFsJztcbiAgICAgICAgICBzdWJtaXRCdG4ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICB9IGVsc2UgaWYocmVzcG9uc2UuY29kZS5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnaG1tbScsIHJlc3BvbnNlKTtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdpbml0aWFsJztcbiAgICAgICAgICBzdWJtaXRCdG4ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdkYW5nJywgcmVzcG9uc2UpO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2luaXRpYWwnO1xuICAgICAgICAgIHN1Ym1pdEJ0bi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfSlbJ2NhdGNoJ10oZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdQcm9tIGZhaWw6ICcsZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICB9LCBmYWxzZSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBzY3JvbGxUaW1lciA9IG51bGwsXG4gICAgICAgIHNjcm9sbENhY2hlVGltZXIgPSBudWxsLFxuICAgICAgICBjYWNoZVNjcm9sbFBvcyA9IDAsXG4gICAgICAgIHNjcm9sbERpcmVjdGlvbjtcblxuICAgIHZhciBza2lsbHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNraWxsLWJhcicpO1xuXG4gICAgdmFyIG5hdm1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd1bFtyb2xlPVwibWVudWJhclwiXScpLFxuICAgICAgICBtZW51YmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tbmF2JyksXG4gICAgICAgIG1hc3RoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hc3RoZWFkJyk7XG5cbiAgICB2YXIgc2VjdGlvbnMgPSBbXG4gICAgICAgICAgICAnI2Fib3V0JyxcbiAgICAgICAgICAgICcjd29yaycsXG4gICAgICAgICAgICAnI3NraWxscycsXG4gICAgICAgICAgICAnI3Byb2plY3RzJyxcbiAgICAgICAgICAgICcjZWR1Y2F0aW9uJ1xuICAgICAgICBdO1xuXG4gICAgdmFyIGluaXRpYWxCR0NvbG9yID0gJyNlYWVhZWEnLFxuICAgICAgICBiR0NvbG9yXzEgPSAnI0FGQjREOCcsXG4gICAgICAgIGJHQ29sb3JfMiA9ICcjNkY5NEJFJyxcbiAgICAgICAgYkdDb2xvcl8zID0gJyM2RUFFQjMnLFxuICAgICAgICBiR0NvbG9yXzQgPSAnIzY2Q0Y5NycsXG4gICAgICAgIGJHQ29sb3JfNSA9ICcjNDlEQjQ1JyxcbiAgICAgICAgYkdDb2xvcl82ID0gJyMxREU0MTAnO1xuXG4gICAgZnVuY3Rpb24gc2Nyb2xsU2V0Q2FjaGVkKCkge1xuICAgICAgICBjYWNoZVNjcm9sbFBvcyA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICBjb25zb2xlLmxvZygnc2V0IGNhY2hlIFknLCBjYWNoZVNjcm9sbFBvcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnc2Nyb2xsaW5nIHN0b3BwZWQnKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2RpcicsIHNjcm9sbERpcmVjdGlvbik7XG4gICAgICAgIGlmKHNjcm9sbERpcmVjdGlvbiA9PSAnZG93bicpIHtcbiAgICAgICAgICBuYXZtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgIG1lbnViYXIuY2xhc3NMaXN0LmFkZCgnaGlkZS1uYXYnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RTa2lsbHMoc3RhdHVzKSB7XG4gICAgICBpZighc3RhdHVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTS0lMTFMgTk9UIHZpZXcgcmVtb3ZlIGxpc3QnKTtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChza2lsbHNMaXN0LCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnU0tJTExTIGluIHZpZXcgYWRkIGxpc3QnKTtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChza2lsbHNMaXN0LCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNFbGVtZW50VmlzaWJsZShlbGVtKSB7XG4gICAgICAgIGlmKHR5cGVvZiBlbGVtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHZhciBlbGVtQW5jaG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYVtocmVmPVwiJytlbGVtKydcIl0nKTtcbiAgICAgICAgICBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCFlbGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGlmKHJlY3QudG9wID4gKHdpbmRvdy5pbm5lckhlaWdodCAtIDE1MCkgfHwgcmVjdC5ib3R0b20gPCAxNTApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsZW0sICdpcyBOT1QgaW4gdmlldycpO1xuICAgICAgICAgICAgaWYoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2luLXZpZXcnKSkge1xuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaW4tdmlldycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZWxlbUFuY2hvci5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZS1uYXYnKSkge1xuICAgICAgICAgICAgICAgIGVsZW1BbmNob3IuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLW5hdicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlbGVtLCAnaXMgaW4gdmlldycpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZWxlbUFuY2hvciwgJ2lzIGFjdGl2ZScpO1xuICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdpbi12aWV3Jyk7XG4gICAgICAgICAgICBlbGVtQW5jaG9yLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1uYXYnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbiBkZXRlY3RTY3JvbGwoZSkge1xuICAgICAgICBpZihzY3JvbGxUaW1lciAhPSBudWxsKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsVGltZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoc2Nyb2xsQ2FjaGVUaW1lciAhPSBudWxsKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsQ2FjaGVUaW1lcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZihjYWNoZVNjcm9sbFBvcyA8IHdpbmRvdy5zY3JvbGxZKSB7XG4gICAgICAgICAgICAvL3Njcm9sbGluZyBkb3duXG4gICAgICAgICAgICBzY3JvbGxEaXJlY3Rpb24gPSAnZG93bic7XG4gICAgICAgICAgICAvL21lbnViYXIuY2xhc3NMaXN0LmFkZCgnaGlkZS1uYXYnKTtcbiAgICAgICAgfVxuICAgICAgICBpZihjYWNoZVNjcm9sbFBvcyA+IHdpbmRvdy5zY3JvbGxZKSB7XG4gICAgICAgICAgICAvL3Njcm9sbGluZyB1cFxuICAgICAgICAgICAgc2Nyb2xsRGlyZWN0aW9uID0gJ3VwJztcbiAgICAgICAgICAgIG1lbnViYXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1uYXYnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjcm9sbFRpbWVyID0gc2V0VGltZW91dChoYW5kbGVTY3JvbGwsIDUwMCk7XG4gICAgICAgIHNjcm9sbENhY2hlVGltZXIgPSBzZXRUaW1lb3V0KHNjcm9sbFNldENhY2hlZCwgMTAwKTtcblxuICAgICAgICBpZih3aW5kb3cuc2Nyb2xsWSA9PSAwKSB7IG1hc3RoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGluaXRpYWxCR0NvbG9yOyB9XG4gICAgICAgIGlmKHdpbmRvdy5zY3JvbGxZID4gMCAmJiB3aW5kb3cuc2Nyb2xsWSA8PSAyMCkgeyBtYXN0aGVhZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiR0NvbG9yXzE7IH1cbiAgICAgICAgaWYod2luZG93LnNjcm9sbFkgPj0gMjEgJiYgd2luZG93LnNjcm9sbFkgPD0gNDApIHsgbWFzdGhlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYkdDb2xvcl8yOyB9XG4gICAgICAgIGlmKHdpbmRvdy5zY3JvbGxZID49IDQxICYmIHdpbmRvdy5zY3JvbGxZIDw9IDYwKSB7IG1hc3RoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJHQ29sb3JfMzsgfVxuICAgICAgICBpZih3aW5kb3cuc2Nyb2xsWSA+PSA2MSAmJiB3aW5kb3cuc2Nyb2xsWSA8PSA4MCkgeyBtYXN0aGVhZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiR0NvbG9yXzQ7IH1cbiAgICAgICAgaWYod2luZG93LnNjcm9sbFkgPj0gODEgJiYgd2luZG93LnNjcm9sbFkgPD0gMTAwKSB7IG1hc3RoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJHQ29sb3JfNTsgfVxuICAgICAgICBpZih3aW5kb3cuc2Nyb2xsWSA+PSAxMDEgJiYgd2luZG93LnNjcm9sbFkgPD0gMTIwKSB7IG1hc3RoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJHQ29sb3JfNjsgfVxuICAgICAgICBpZih3aW5kb3cuc2Nyb2xsWSA+PSAxMjEpIHsgbWFzdGhlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gaW5pdGlhbEJHQ29sb3I7IH1cblxuICAgICAgICBzZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICAgIGlzRWxlbWVudFZpc2libGUoZWxlbSk7XG4gICAgICAgICAgICBpZihlbGVtID09ICcjc2tpbGxzJykge1xuICAgICAgICAgICAgICBpZihpc0VsZW1lbnRWaXNpYmxlKGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgbGlzdFNraWxscyh0cnVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0U2tpbGxzKGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG59KSh3aW5kb3cpO1xuIiwiKGZ1bmN0aW9uKCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLy8gRnVuY3Rpb24gdG8gYW5pbWF0ZSB0aGUgc2Nyb2xsXG4gICAgdmFyIHNtb290aFNjcm9sbCA9IGZ1bmN0aW9uKGFuY2hvciwgZHVyYXRpb24sIG9mZnNldCkge1xuXG4gICAgICAvLyBDYWxjdWxhdGUgaG93IGZhciBhbmQgaG93IGZhc3QgdG8gc2Nyb2xsXG4gICAgICB2YXIgc3RhcnRMb2NhdGlvbiA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgIHZhciBlbmRMb2NhdGlvbiA9IGFuY2hvci5vZmZzZXRUb3A7XG4gICAgICB2YXIgZGlzdGFuY2UgPSBlbmRMb2NhdGlvbiAtIHN0YXJ0TG9jYXRpb247XG4gICAgICB2YXIgaW5jcmVtZW50cyA9IGRpc3RhbmNlIC8gKGR1cmF0aW9uIC8gMTYpO1xuICAgICAgdmFyIHN0b3BBbmltYXRpb24sIHJ1bkFuaW1hdGlvbiwgdHJhdmVsbGVkO1xuXG4gICAgICBpZihvZmZzZXQgPiAwKSB7XG4gICAgICAgIGVuZExvY2F0aW9uID0gZW5kTG9jYXRpb24gLSBvZmZzZXQ7XG4gICAgICB9XG5cbiAgICAgIC8vIFNjcm9sbCB0aGUgcGFnZSBieSBhbiBpbmNyZW1lbnQsIGFuZCBjaGVjayBpZiBpdCdzIHRpbWUgdG8gc3RvcFxuICAgICAgdmFyIGFuaW1hdGVTY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2luZG93LnNjcm9sbEJ5KDAsIGluY3JlbWVudHMpO1xuICAgICAgICB0cmF2ZWxsZWQgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cbiAgICAgICAgcnVuQW5pbWF0aW9uID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGVTY3JvbGwpO1xuXG4gICAgICAgIC8vIElmIHNjcm9sbGluZyBkb3duXG4gICAgICAgICAgaWYgKGluY3JlbWVudHMgPj0gMCkge1xuICAgICAgICAgICAgLy8gU3RvcCBhbmltYXRpb24gd2hlbiB5b3UgcmVhY2ggdGhlIGFuY2hvciBPUiB0aGUgYm90dG9tIG9mIHRoZSBwYWdlXG4gICAgICAgICAgICAgIGlmICgodHJhdmVsbGVkID49IChlbmRMb2NhdGlvbiAtIGluY3JlbWVudHMpKSB8fCAoKHdpbmRvdy5pbm5lckhlaWdodCArIHRyYXZlbGxlZCkgPj0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQpKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocnVuQW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJZiBzY3JvbGxpbmcgdXBcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFN0b3AgYW5pbWF0aW9uIHdoZW4geW91IHJlYWNoIHRoZSBhbmNob3IgT1IgdGhlIHRvcCBvZiB0aGUgcGFnZVxuICAgICAgICAgICAgICBpZiAodHJhdmVsbGVkIDw9IChlbmRMb2NhdGlvbiB8fCAwKSkge1xuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJ1bkFuaW1hdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBMb29wIHRoZSBhbmltYXRpb24gZnVuY3Rpb25cbiAgICAgIHJ1bkFuaW1hdGlvbiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlU2Nyb2xsKTtcblxuICAgIH07XG5cbiAgICAvLyBXaGVuIHRoZSBzbW9vdGggc2Nyb2xsIGxpbmsgaXMgY2xpY2tlZFxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIC8vIGV2ZW50IGRlbGVnYXRpb25cbiAgICBpZihlLnRhcmdldCAmJiBlLnRhcmdldC5ub2RlTmFtZSA9PSAnQScpIHtcbiAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzY3JvbGwnKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAvLyBHZXQgYW5jaG9yIGxpbmsgYW5kIGNhbGN1bGF0ZSBkaXN0YW5jZSBmcm9tIHRoZSB0b3BcbiAgICAgICAgICAgIHZhciBkYXRhSUQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICAgICAgICAgIHZhciBkYXRhVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhSUQpO1xuICAgICAgICAgICAgdmFyIGRhdGFTcGVlZCA9IChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsLXNwZWVkJykpID8gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1zcGVlZCcpIDogNTAwO1xuICAgICAgICAgICAgdmFyIGRhdGFPZmZzZXQgPSAoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1vZmZzZXQnKSkgPyBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsLW9mZnNldCcpIDogMDtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIGFuY2hvciBleGlzdHNcbiAgICAgICAgICAgIGlmIChkYXRhVGFyZ2V0KSB7XG4gICAgICAgICAgICAgIC8vIFNjcm9sbCB0byB0aGUgYW5jaG9yXG4gICAgICAgICAgICAgIHNtb290aFNjcm9sbChkYXRhVGFyZ2V0LCBkYXRhU3BlZWQsIGRhdGFPZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgfSwgZmFsc2UpO1xuXG59KSgpO1xuIiwid2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgZ2l0ZmVlZDtcbiAgICB2YXIgZmVlZENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZWVkJyk7XG5cbiAgICBmdW5jdGlvbiBmZWVkQnVpbGRlcihmZWVkLCBsaW1pdCkge1xuICAgICAgICB2YXIgbGltaXQgPSBsaW1pdCB8fCAzO1xuICAgICAgICBcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGxpbWl0OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FsZXJ0Jyk7XG4gICAgICAgICAgICBlbGVtLmlubmVySFRNTCA9IGZlZWRbaV0uY29udGVudFswXS5fO1xuICAgICAgICAgICAgZmVlZENvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuXG4gICAga2lja2JhY2sucmVxdWVzdCh7XG4gICAgICAgIHVybDogJy9mZWVkJyxcbiAgICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgZ2l0ZmVlZCA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgICAgICB2YXIgZW50cmllcyA9IGdpdGZlZWQuZmVlZC5lbnRyeTtcbiAgICAgICAgXG4gICAgICAgIGZlZWRCdWlsZGVyKGVudHJpZXMsIDYpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuO1xuICAgIH0pWydjYXRjaCddKGZ1bmN0aW9uKGVycikge1xuICAgICAgICByZXR1cm4gZXJyO1xuICAgIH0pO1xuICAgIFxufSwgZmFsc2UpO1xuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xuICB2YXIgdG9nZ2xlQ29kZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUtY29kZScpLFxuICAgICAgYWJvdXRDb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvZGUtYWJvdXQnKSxcbiAgICAgIGFib3V0QmFyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXJlLWFib3V0JyksXG4gICAgICBhYm91dFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWJvdXQnKTtcblxuICB2YXIgbWVudUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51LWJ0bicpLFxuICAgICAgbWVudU5hdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLW5hdicpLFxuICAgICAgbWFpbk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd1bFtyb2xlPVwibWVudWJhclwiXScpLFxuICAgICAgbWFzdEhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFzdGhlYWQnKTtcblxuICBtZW51QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIG1lbnVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgbWFpbk1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gIH0sIGZhbHNlKTtcblxuICB0b2dnbGVDb2RlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIHZhciBhYm91dFJlY3QgPSBhYm91dFNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgIGJhcmVSZWN0ID0gYWJvdXRCYXJlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgYWJvdXRDb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgdmFyIGRlbGF5RGlzcGxheSA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBhYm91dENvZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgYWJvdXRCYXJlLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChkZWxheURpc3BsYXkpO1xuICAgICAgfSwgMTEwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFib3V0Q29kZS5zdHlsZS50b3AgPSAnMHB4JztcbiAgICAgIGFib3V0Q29kZS5zdHlsZS5yaWdodCA9ICctJythYm91dFJlY3Qud2lkdGgrJ3B4JztcbiAgICAgIGFib3V0Q29kZS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICBhYm91dEJhcmUuc3R5bGUubGVmdCA9ICctJythYm91dFJlY3Qud2lkdGgrJ3B4JztcbiAgICAgIHZhciBkZWxheURpc3BsYXkgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgYWJvdXRCYXJlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGFib3V0Q29kZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChkZWxheURpc3BsYXkpO1xuICAgICAgfSwgNTAwKTtcbiAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfSwgZmFsc2UpO1xuXG4gIGZ1bmN0aW9uIHBvc2l0aW9uTmF2KCkgeyBcbiAgICBpZih3aW5kb3cuaW5uZXJXaWR0aCA8IDc0MCkge1xuICAgICAgaWYoIW1haW5NZW51LmNsYXNzTGlzdC5jb250YWlucygnc2lkZS1tZW51JykpIHtcbiAgICAgICAgbWFpbk1lbnUuY2xhc3NMaXN0LmFkZCgnc2lkZS1tZW51Jyk7XG4gICAgICAgIG1lbnVOYXYucmVtb3ZlQ2hpbGQobWFpbk1lbnUpO1xuICAgICAgICBtYXN0SGVhZC5hcHBlbmRDaGlsZChtYWluTWVudSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmKG1haW5NZW51LmNsYXNzTGlzdC5jb250YWlucygnc2lkZS1tZW51JykpIHtcbiAgICAgICAgbWFzdEhlYWQucmVtb3ZlQ2hpbGQobWFpbk1lbnUpO1xuICAgICAgICBtZW51TmF2Lmluc2VydEJlZm9yZShtYWluTWVudSwgbWVudUJ0bik7XG4gICAgICAgIG1haW5NZW51LmNsYXNzTGlzdC5yZW1vdmUoJ3NpZGUtbWVudScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgcG9zaXRpb25OYXYsIGZhbHNlKTtcbiAgd2luZG93Lm9ucmVzaXplID0gcG9zaXRpb25OYXY7XG5cbn0pKHdpbmRvdyk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=